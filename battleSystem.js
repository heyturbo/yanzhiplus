const _0x5bf82f=_0x45ff;(function(_0x46d9c4,_0x40d3a4){const _0xdc9a85=_0x45ff,_0x507f96=_0x46d9c4();while(!![]){try{const _0x548a63=-parseInt(_0xdc9a85(0x545))/0x1+parseInt(_0xdc9a85(0x4f4))/0x2*(-parseInt(_0xdc9a85(0x56e))/0x3)+parseInt(_0xdc9a85(0x22d))/0x4*(parseInt(_0xdc9a85(0x2da))/0x5)+-parseInt(_0xdc9a85(0x390))/0x6+-parseInt(_0xdc9a85(0x2aa))/0x7*(parseInt(_0xdc9a85(0x59f))/0x8)+parseInt(_0xdc9a85(0x259))/0x9+parseInt(_0xdc9a85(0x39a))/0xa*(parseInt(_0xdc9a85(0x495))/0xb);if(_0x548a63===_0x40d3a4)break;else _0x507f96['push'](_0x507f96['shift']());}catch(_0x40350){_0x507f96['push'](_0x507f96['shift']());}}}(_0x2df6,0xe8d42));let selectedDrug=null,alreadyUseDrug=![],drugInventory={'长生泉':{'quantity':0x2,'url':_0x5bf82f(0x21a),'tier':0x0,'description':'橙色品阶，长生不老之泉，饮用后临时增加1000生命值上限（刷新游戏后失效），且恢复至满状态'},'忘忧水':{'quantity':0x5,'url':_0x5bf82f(0x601),'tier':0x3,'description':_0x5bf82f(0x4c8)},'三花丸':{'quantity':0x5,'url':'https://pic.imgdb.cn/item/666c0afbd9c307b7e9beefcb.png','tier':0x3,'description':_0x5bf82f(0x52a)},'狂暴之魂':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666c1408d9c307b7e9cea2fd.png','tier':0x0,'description':_0x5bf82f(0x4d9)},'神力仙丹':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666c1408d9c307b7e9cea310.png','tier':0x2,'description':'蓝色品阶，20秒内暴击伤害提高50%'},'慧心糖果':{'quantity':0x0,'url':_0x5bf82f(0x4ca),'tier':0x0,'description':_0x5bf82f(0x296)},'狂暴印记':{'quantity':0x0,'url':_0x5bf82f(0x34a),'tier':0x2,'description':_0x5bf82f(0x44d)},'武尊秘露':{'quantity':0x1,'url':'https://pic.imgdb.cn/item/666c0afbd9c307b7e9beef97.png','tier':0x1,'description':_0x5bf82f(0x2c9)},'延寿露':{'quantity':0x0,'url':_0x5bf82f(0x2a3),'tier':0x3,'description':_0x5bf82f(0x48d)},'天山雪莲':{'quantity':0x0,'url':_0x5bf82f(0x4cf),'tier':0x3,'description':'绿色品阶，恢复玩家20%的法力值'},'化功散':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666d311dd9c307b7e996b585.png','tier':0x2,'description':'蓝色品阶，30秒内妖怪暴击率降低至0%'},'见手青':{'quantity':0x0,'url':_0x5bf82f(0x4e9),'tier':0x0,'description':_0x5bf82f(0x2de)},'沉檀凝香':{'quantity':0x5,'url':'https://pic.imgdb.cn/item/666d311dd9c307b7e996b538.png','tier':0x1,'description':_0x5bf82f(0x2bd)},'焚灵之丸':{'quantity':0x0,'url':_0x5bf82f(0x311),'tier':0x1,'description':_0x5bf82f(0x337)},'冰莲絮':{'quantity':0x2,'url':_0x5bf82f(0x2ff),'tier':0x2,'description':_0x5bf82f(0x222)},'晗灵果':{'quantity':0x2,'url':'https://pic.imgdb.cn/item/666d311dd9c307b7e996b522.png','tier':0x2,'description':'蓝色品阶，临时增加300点法力值（刷新游戏后失效）'},'魔术棱柱':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666e9aeed9c307b7e90669fa.png','tier':0x1,'description':_0x5bf82f(0x33b)},'幸运金币':{'quantity':0x0,'url':_0x5bf82f(0x320),'tier':0x0,'description':_0x5bf82f(0x280)},'双倍经验药':{'quantity':0x1,'url':_0x5bf82f(0x35c),'tier':0x2,'description':'蓝色品阶，使用后60秒内战斗获胜所得经验增加两倍'},'四倍经验药':{'quantity':0x1,'url':_0x5bf82f(0x245),'tier':0x1,'description':_0x5bf82f(0x34e)},'普通药材':{'quantity':0x0,'url':_0x5bf82f(0x5a0),'tier':0x4,'description':_0x5bf82f(0x4b8)},'上等药材':{'quantity':0x0,'url':_0x5bf82f(0x21b),'tier':0x3,'description':'绿色品阶，临时增加20点速度，收集3个可以合成1个蓝色品阶的药品'},'极品药材':{'quantity':0x0,'url':_0x5bf82f(0x42b),'tier':0x2,'description':_0x5bf82f(0x50d)},'珍贵药材':{'quantity':0x0,'url':_0x5bf82f(0x28b),'tier':0x1,'description':_0x5bf82f(0x363)},'完美药材':{'quantity':0x0,'url':_0x5bf82f(0x415),'tier':0x0,'description':'橙色品阶，临时增加15点物理攻击和法术攻击，收集2个可以炼制出随机药品'}},collectCost=0x64,activeBuffs={},tempBonus={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},drugBonus0={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},drugBonus={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},ascensionSkill={'name':_0x5bf82f(0x3a8),'level':0x1,'effect':_0x5bf82f(0x38d)},secondAscensionSkill={'name':_0x5bf82f(0x3a8),'level':0x1,'effect':_0x5bf82f(0x38d)},ascensionAttributes={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};const ascensionSkills={'attribute':[{'name':_0x5bf82f(0x4c2),'effect':_0x2bc4d1=>_0x5bf82f(0x2b8)+(0xbb8+_0x2bc4d1*0x15e)+_0x5bf82f(0x30b),'baseValue':0xbb8,'increment':_0x4203c2=>_0x4203c2*0x15e},{'name':_0x5bf82f(0x4f9),'effect':_0x4abb79=>_0x5bf82f(0x2b8)+(0x186a0+_0x4abb79*0x1f40)+_0x5bf82f(0x4f1)+(0x186a0+_0x4abb79*0x1f40)+_0x5bf82f(0x25e),'baseValue':0x186a0,'increment':_0xea19b=>0x1f40*_0xea19b},{'name':'势如破竹','effect':_0x297952=>_0x5bf82f(0x2b8)+(0xbb8+0x12c*_0x297952)+_0x5bf82f(0x2ac)+(0xbb8+0x12c*_0x297952)+'点法术攻击力','baseValue':0xbb8,'increment':_0x4842fd=>0x12c*_0x4842fd},{'name':_0x5bf82f(0x2e3),'effect':_0x24757e=>_0x5bf82f(0x2b8)+(0x186a0+0x1388*_0x24757e)+_0x5bf82f(0x2d6)+(0x186a0+0x1388*_0x24757e)+'点法术防御','baseValue':0x186a0,'increment':_0x263489=>0x1388*_0x263489},{'name':_0x5bf82f(0x3a8),'effect':_0x7330fb=>_0x5bf82f(0x38d),'baseValue':0x0,'increment':_0x998114=>_0x998114*0x0},{'name':_0x5bf82f(0x563),'effect':_0x170912=>_0x5bf82f(0x38d),'baseValue':0x0,'increment':_0x218cb3=>_0x218cb3*0x0}],'combat':[{'name':_0x5bf82f(0x220),'effect':_0x27558a=>_0x5bf82f(0x348)+(0xa+0x1*_0x27558a)+_0x5bf82f(0x549),'baseValue':0xa,'increment':_0x1596ff=>0x1*_0x1596ff},{'name':'斩龙一式','effect':_0x1a9bed=>_0x5bf82f(0x3f2)+(0x57-0x3*(_0x1a9bed-0x1))+_0x5bf82f(0x211),'baseValue':0x5a,'increment':_0xfe66cd=>0x5a-0x3*(_0xfe66cd-0x1)},{'name':'灵魂穿刺','effect':_0x2ae9a8=>'当玩家暴击时,有'+(0xa+1.5*_0x2ae9a8)+_0x5bf82f(0x23c),'baseValue':0xa,'increment':_0x21e093=>0xa+1.5*_0x21e093},{'name':'吸血魔刃','effect':_0x4f8927=>_0x5bf82f(0x484)+(0xb+0x1*(_0x4f8927-0x1))+_0x5bf82f(0x4b5),'baseValue':0xb,'increment':_0x3d5adf=>0xb+0x1*(_0x3d5adf-0x1)},{'name':_0x5bf82f(0x53a),'effect':_0x37eaf2=>_0x5bf82f(0x42f)+(0x15+0x1*(_0x37eaf2-0x1))+_0x5bf82f(0x204),'baseValue':0x14,'increment':_0x19948b=>0x14+0x1*(_0x19948b-0x1)},{'name':_0x5bf82f(0x35d),'effect':_0x46b99c=>_0x5bf82f(0x209)+(0x64-0x1*_0x46b99c)+'%的法力让自己血量变为1','baseValue':0x64,'increment':_0x37885a=>-0x2*_0x37885a},{'name':'以牙还牙','effect':_0x4b131b=>_0x5bf82f(0x3dc)+(0x2d+0x2*_0x4b131b)+'%~'+(0x3c+0x2*_0x4b131b)+'%','baseValue':0x2d,'increment':_0x4aacd5=>0x2*_0x4aacd5},{'name':_0x5bf82f(0x4d7),'effect':_0x49f0a5=>_0x5bf82f(0x3ea)+(0x14+1.5*_0x49f0a5)+'%','baseValue':0x14,'increment':_0x21544c=>1.5*_0x21544c},{'name':_0x5bf82f(0x394),'effect':_0x499deb=>_0x5bf82f(0x4d4)+(0x1e+0x2*_0x499deb)+_0x5bf82f(0x5bd),'baseValue':0x1e,'increment':_0x2bf22d=>0x2*_0x2bf22d},{'name':_0x5bf82f(0x2fe),'effect':_0x94bff6=>'使用治疗时，触发仙气护体的概率增加至50%，并且仙气护体持续时间增加至'+(0x6+0.1*_0x94bff6)+'秒','baseValue':0x6,'increment':_0x57776d=>0.1*_0x57776d}],'settlement':[{'name':_0x5bf82f(0x46c),'effect':_0x2633d4=>_0x5bf82f(0x321)+convertPrice(0x2710+0x9c4*_0x2633d4)+'文','baseValue':0x2710,'increment':_0x17f19f=>0x9c4*_0x17f19f},{'name':_0x5bf82f(0x573),'effect':_0x338825=>'战斗失败后，下一轮获得持续'+(0x3+0x1*_0x338825)+'秒的仙气护体','baseValue':0x3,'increment':_0x2e4094=>0x1*_0x2e4094},{'name':_0x5bf82f(0x3a0),'effect':_0x574aff=>_0x5bf82f(0x400)+(0x12c+0x32*_0x574aff)+'%','baseValue':0x12c,'increment':_0x4fb7fd=>0x32*_0x4fb7fd},{'name':_0x5bf82f(0x579),'effect':_0x5637f8=>_0x5bf82f(0x5f2)+convertPrice(0x1f4+0x1f4*_0x5637f8)+_0x5bf82f(0x37f),'baseValue':0x1f4,'increment':_0x4db6f5=>0x1f4*_0x4db6f5}]};let reenableAscension=![],ascensionEnabled=![],spiritLevel=0x1,spiritMultiplier=0x1;const maxSpiritLevel=0x78,minSpiritMultiplier=0.01,maxSpiritMultiplier=4.15;let playerTurn=![];const obj={get 'enemyTurn'(){return!playerTurn;}};let spiritPowerActive=![],attributesFetched=![],battleState,battleInterval,battleAttributes,maxHealth,maxMana,battleRounds=0x1,currentExp=0x0,maxExp=0xd0,enemyHealCount=0x0,enemyPetCultivation,playerCultivation,additionalPlayerCultivation=0x0,enemyPet={'health':0x12,'mana':0xd,'physicalAttack':0x2,'physicalDefense':0x1,'magicAttack':0x2,'magicDefense':0x3,'speed':0x6,'cultivation':0x0},enemyMaxHealth=enemyPet[_0x5bf82f(0x351)],enemyMaxMana=enemyPet[_0x5bf82f(0x299)],enemyInitialState=null,originalPerformAttack=performAttack,originalPerformPhysicalAttack=performPhysicalAttack,originalPerformMagicalAttack=performMagicalAttack,originalPerformHeal=performHeal,originalPerformPoison=performPoison,originalPerformDefense=performDefense,autoBattleInterval=null,playerCritRate=0.1,playerCritDamage=1.5,enemyCritRate=0.6,enemyCritDamage=1.8,pierceDamageContainer={'totalPierceDamage':0x0},poisonSkillActivated=![],enemyPhysicalAttackCount=0x0,extraShield=0x0,wiseDefense=0x0,wiseDefenseManaCost,firstStartBattle=![],onBattleState,divinedWeaponStatus=![],waterAmuletTriggered=![];const weaponDescriptions={'lostBook':'遗失的洛书开启后，能够为你的物理技能附加专属效果，同时最多拥有3个效果。可以附加效果如下：\x0a1.破甲：根据物理攻击扣除怪物的物理防御力\x20\x0a2.恐吓：持续时间内禁止怪物触发暴击\x20\x0a3.眩晕：持续时间内怪物无法动作\x20\x0a4.穿透：造成伤害时额外附加物理攻击1/10的穿透伤害，并在持续时间结束后基于穿透伤害总和的一定比例给予怪物余波收尾伤害\x20\x0a5.麻痹：根据本次物理伤害减少怪物的血量上限\x20\x0a6.惶恐：降低敌人物理攻击力，降低值为自身物理攻击','fragmentedMap':_0x5bf82f(0x59d),'nirvanaGem':_0x5bf82f(0x2ae)},effectCooldowns={'drunken':![],'healingBan':![],'soulCapture':![],'blindfold':![],'spellSlow':![],'torn':![],'suppressed':![],'taunt':![],'seal':![],'slaughter':![]};function startBattle(){const _0x1a2c7a=_0x5bf82f;if(!attributesFetched){showInfoBox(_0x1a2c7a(0x4ce));return;}onBattleState=!![],!firstStartBattle&&(logBattleEvent(_0x1a2c7a(0x4be),'gold',_0x1a2c7a(0x5cb)),firstStartBattle=!![]),battleInterval=setInterval(()=>{const _0x25728f=_0x1a2c7a;if(onBattleState){if(battleAttributes[_0x25728f(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState['enemy'][_0x25728f(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}if(summonEnemy){const _0x2d5fbb=battleState[_0x25728f(0x404)][_0x25728f(0x47e)],_0x4b44a0=specificAttackByEnemy[_0x2d5fbb];_0x4b44a0&&_0x4b44a0[_0x25728f(0x4f7)]===_0x25728f(0x492)&&_0x4b44a0[_0x25728f(0x48b)]();}updateUI(),divineWeaponManager[_0x25728f(0x443)](),handleSpiritHeal(),handleSpiritPower(),handleSpiritAttack();}else console[_0x25728f(0x528)]('尚未开始战斗');},0x3e8),playerTurn=battleAttributes[_0x1a2c7a(0x200)]>=battleState[_0x1a2c7a(0x404)]['speed'],updateUI(),updatePetColor(),updatePetName(),decideEnemyCanPerform(),!playerTurn&&setTimeout(enemyAttack,0x1f4);}function stopBattle(){const _0x3420a5=_0x5bf82f;onBattleState=![],stopEnemyAction(),clearInterval(battleInterval),summonEnemy&&handleBattleWithSummonEnemy(![]),logBattleEvent(_0x3420a5(0x21e));}let defeatedPets=[],usedPets=[];function decreaseElixirVigor(_0x37e7fd=!![]){const _0x2a14d6=_0x5bf82f,_0xb5db4a=elixirStates[_0x2a14d6(0x2f9)](_0x263dbf=>_0x263dbf[_0x2a14d6(0x291)]&&_0x263dbf['equipped']&&_0x263dbf[_0x2a14d6(0x554)]===currentPet['name']&&_0x263dbf[_0x2a14d6(0x270)]>0x0);if(_0xb5db4a['length']===0x0)return;_0xb5db4a[_0x2a14d6(0x35e)](_0x4f69c2=>{const _0x5c451d=_0x2a14d6;let _0x2f5eff;_0x37e7fd?_0x2f5eff=Math['floor'](0x14+Math[_0x5c451d(0x435)]()*0xb):_0x2f5eff=Math[_0x5c451d(0x5c6)](0x32+Math[_0x5c451d(0x435)]()*0x1f),_0x4f69c2[_0x5c451d(0x270)]=Math[_0x5c451d(0x4ba)](0x0,_0x4f69c2['vigor']-_0x2f5eff),_0x4f69c2['vigor']===0x0&&(updateElixirDisplay(),updateQualityDisplayWithBonuses(),updateAttributePanel());});}let elixirExpDoubleState=![];function showNextBattlePrompt(_0x299882){const _0x410a20=_0x5bf82f;if(_0x299882){const _0x2d35f7=Math[_0x410a20(0x5c6)](0x0+Math[_0x410a20(0x435)]()*0x2),_0x126565=elixirExpDoubleState?Math['floor'](0x508*Math['max'](0x1,Math[_0x410a20(0x435)]()*battleRounds))*0x2:Math[_0x410a20(0x5c6)](0x508*Math['max'](0x1,Math[_0x410a20(0x435)]()*battleRounds));decreaseArmsEndurance(key=null,_0x2d35f7),decreaseElixirVigor(!![]),increaseEachElixirExp(_0x126565),currentLifeSpan=Math[_0x410a20(0x4ba)](0x0,currentLifeSpan-_0x2d35f7);if(!summonEnemy){handleVictory();return;}else{toggleFightingDrawer(),handleBattleWithSummonEnemy(_0x299882),summonEnemy=![];return;}}else{const _0x29f7b3=Math[_0x410a20(0x5c6)](0x5+Math[_0x410a20(0x435)]()*0x5);decreaseArmsEndurance(key=null,_0x29f7b3),decreaseElixirVigor(![]),currentLifeSpan=Math[_0x410a20(0x4ba)](0x0,currentLifeSpan-_0x29f7b3);if(!summonEnemy){handlePetDefeat();return;}else{toggleFightingDrawer(),handleBattleWithSummonEnemy(![]),summonEnemy=![];return;}}}function checkElixirVigorStatus(){const _0x18997d=_0x5bf82f,_0x2d0983=elixirStates[_0x18997d(0x2f9)](_0x47ca6c=>_0x47ca6c[_0x18997d(0x291)]&&_0x47ca6c[_0x18997d(0x274)]&&_0x47ca6c[_0x18997d(0x554)]===currentPet[_0x18997d(0x3eb)]&&_0x47ca6c[_0x18997d(0x270)]===0x0);if(_0x2d0983['length']>0x0){const _0x1b0a98=_0x2d0983[_0x18997d(0x490)]===0x1?_0x18997d(0x511):'有'+_0x2d0983['length']+_0x18997d(0x345);showInfoBox(_0x1b0a98);}}function handleVictory(){const _0x40522a=_0x5bf82f,_0x301e0c=0.35,_0x252c87=1.75,_0x2a3203=Math[_0x40522a(0x435)]()*(_0x252c87-_0x301e0c)+_0x301e0c;let _0x291849=Math[_0x40522a(0x5c6)](0x120*battleRounds*_0x2a3203);_0x291849=Math[_0x40522a(0x4ba)](_0x291849,0x120);(ascensionSkill['name']===_0x40522a(0x46c)||secondAscensionSkill[_0x40522a(0x3eb)]==='财源滚滚')&&(_0x291849+=calculateExtraReward());if(Math[_0x40522a(0x435)]()<0.5)addItemToJinnang(_0x40522a(0x2b6),0x1);goldAmount+=_0x291849,updateGoldDisplay(goldAmount),updateTitle(),showBattleOverlay(_0x40522a(0x37b),0x1f4,0x1,0x3e8),increaseCurrentPetIntimacy(0x1e),increaseCurrentPetAttention(0x1),increaseCurrentPetLearningValue(0xc8),defeatedPets=[],usedPets=[],battleRounds++,updateEnemyAttributes(),gainExp(),resetBattleState(!![]),resetBuffState(!![]),extraShield=0x0,battleAttributes[_0x40522a(0x200)]>=battleState[_0x40522a(0x404)][_0x40522a(0x200)]?playerTurn=!![]:playerTurn=![];}function handlePetDefeat(){const _0x91fc6a=_0x5bf82f,_0x310baa=document['getElementById'](_0x91fc6a(0x438)),_0x1ee2c3=_0x310baa['value'],_0x27d401=Object[_0x91fc6a(0x56b)](pets)[_0x91fc6a(0x37d)](_0x3d9750=>pets[_0x3d9750][_0x91fc6a(0x3eb)]===currentPet[_0x91fc6a(0x3eb)]);defeatedPets['push']({'key':_0x27d401,'name':currentPet['name']});if(defeatedPets['length']===_0x310baa[_0x91fc6a(0x26f)][_0x91fc6a(0x490)]){applyDefeatPenalty(),logBattleEvent('所有宠物都已阵亡，本次战斗已失败！');return;}_0x310baa['options'][_0x91fc6a(0x490)]>0x1?promptPetSwitch(_0x310baa,_0x1ee2c3):(applyDefeatPenalty(),logBattleEvent(_0x91fc6a(0x243)));}let switchPetMood=!![];function promptPetSwitch(_0x14cfa0,_0xd1f1ee){const _0x33e10e=_0x5bf82f;switchPetMood?showInfoBox(currentPet[_0x33e10e(0x3eb)]+_0x33e10e(0x312),()=>{const _0x1f91c3=_0x33e10e;let _0x298a61,_0x375558=Array['from'](_0x14cfa0[_0x1f91c3(0x26f)])[_0x1f91c3(0x352)](_0x43f7e3=>{const _0x31ac43=_0x1f91c3,_0x25fe26=Object[_0x31ac43(0x56b)](pets)[_0x31ac43(0x37d)](_0x531542=>pets[_0x531542][_0x31ac43(0x3eb)]===_0x43f7e3['value']);return{'key':_0x25fe26,'name':_0x43f7e3[_0x31ac43(0x2e8)]};})[_0x1f91c3(0x2f9)](_0x102b87=>!usedPets[_0x1f91c3(0x314)](_0x5ac107=>_0x5ac107['key']===_0x102b87[_0x1f91c3(0x420)]));if(_0x375558[_0x1f91c3(0x490)]===0x0){applyDefeatPenalty(),logBattleEvent('没有可用的宠物进行更换，本次战斗已失败！');return;}do{const _0x8561=Math['floor'](Math[_0x1f91c3(0x435)]()*_0x375558[_0x1f91c3(0x490)]);_0x298a61=_0x375558[_0x8561];}while(_0x298a61[_0x1f91c3(0x420)]===_0xd1f1ee);_0x14cfa0[_0x1f91c3(0x2e8)]=_0x298a61[_0x1f91c3(0x3eb)],usedPets[_0x1f91c3(0x591)](_0x298a61),changePet();},()=>{const _0x4d147f=_0x33e10e;switchPetMood=![],applyDefeatPenalty(),logBattleEvent(_0x4d147f(0x2c7),_0x4d147f(0x30c),_0x4d147f(0x5cb));}):(applyDefeatPenalty(),logBattleEvent(_0x33e10e(0x2c7),'crimson',_0x33e10e(0x5cb)));}function applyDefeatPenalty(){const _0x5ca9d4=_0x5bf82f;let _0x240360=0x184*battleRounds;ascensionSkill[_0x5ca9d4(0x3eb)]===_0x5ca9d4(0x579)||secondAscensionSkill[_0x5ca9d4(0x3eb)]===_0x5ca9d4(0x579)?(_0x240360=0x0,goldAmount+=calculateCompensation()):goldAmount=Math[_0x5ca9d4(0x4ba)](0x0,goldAmount-_0x240360),showBattleOverlay(_0x5ca9d4(0x440),0x1f4,0x1,0x3e8),increaseCurrentPetIntimacy(-0x5),onBattleState=![],showInfoBox(_0x5ca9d4(0x236)+convertPrice(_0x240360)+_0x5ca9d4(0x439),()=>{startBattle(),updatePetInfo();},()=>{const _0x5b13d0=_0x5ca9d4;stopBattle();const _0x3e5263=document[_0x5b13d0(0x50b)](_0x5b13d0(0x389)),_0x14a607=_0x3e5263[_0x5b13d0(0x2df)][_0x5b13d0(0x498)](_0x5b13d0(0x322));_0x3e5263[_0x5b13d0(0x300)][_0x5b13d0(0x48a)]=_0x5b13d0(0x504);}),updateGoldDisplay(goldAmount),clearAutoBattle(),defeatedPets=[],usedPets=[],resetBattleState(![]),resetBuffState(![]),extraShield=0x0;}function calculateExtraReward(){const _0x4d48f9=_0x5bf82f;let _0x53b042=0x0;return ascensionSkill[_0x4d48f9(0x3eb)]===_0x4d48f9(0x46c)&&(_0x53b042+=ascensionSkill[_0x4d48f9(0x432)]+ascensionSkill[_0x4d48f9(0x3a7)](ascensionSkill[_0x4d48f9(0x48e)])),secondAscensionSkill[_0x4d48f9(0x3eb)]===_0x4d48f9(0x46c)&&(_0x53b042+=secondAscensionSkill[_0x4d48f9(0x432)]+secondAscensionSkill[_0x4d48f9(0x3a7)](secondAscensionSkill[_0x4d48f9(0x48e)])),logBattleEvent(_0x4d48f9(0x21d)+convertPrice(_0x53b042)+_0x4d48f9(0x5d3),'pink'),_0x53b042;}function calculateCompensation(){const _0x183a6e=_0x5bf82f;let _0x12c2e3=0x0;return ascensionSkill[_0x183a6e(0x3eb)]===_0x183a6e(0x579)&&(_0x12c2e3+=ascensionSkill[_0x183a6e(0x432)]+ascensionSkill['increment'](ascensionSkill[_0x183a6e(0x48e)])),secondAscensionSkill[_0x183a6e(0x3eb)]===_0x183a6e(0x579)&&(_0x12c2e3+=secondAscensionSkill[_0x183a6e(0x432)]+secondAscensionSkill[_0x183a6e(0x3a7)](secondAscensionSkill['level'])),logBattleEvent(_0x183a6e(0x35a)+convertPrice(_0x12c2e3)+'\x20的安慰金。',_0x183a6e(0x462)),_0x12c2e3;}function resetBuffState(_0x48f625){const _0x109ac1=_0x5bf82f;battleState[_0x109ac1(0x3d8)]['usingBuff']&&(battleState[_0x109ac1(0x3d8)][_0x109ac1(0x52b)]=![],logBattleEvent(_0x109ac1(0x2a7),_0x109ac1(0x30c)),updateUI());if(_0x48f625){const _0x11d449=[],_0x589cfa=Math[_0x109ac1(0x435)]();let _0x4a2b49;if(_0x589cfa<0.1)_0x4a2b49=0x0;else{if(_0x589cfa<0.29)_0x4a2b49=0x1;else _0x589cfa<0.6?_0x4a2b49=0x2:_0x4a2b49=0x3;}const _0xebdf91=Object[_0x109ac1(0x56b)](drugInventory)[_0x109ac1(0x2f9)](_0x220b6c=>drugInventory[_0x220b6c][_0x109ac1(0x31a)]===_0x4a2b49),_0x15f361=_0xebdf91[Math[_0x109ac1(0x5c6)](Math[_0x109ac1(0x435)]()*_0xebdf91[_0x109ac1(0x490)])];drugInventory[_0x15f361][_0x109ac1(0x53f)]+=0x1,_0x11d449[_0x109ac1(0x591)](_0x15f361+'\x20x1');if(battleRounds>=0x64)for(let _0xbaf175=0x0;_0xbaf175<0x2;_0xbaf175++){const _0x58cb03=Math[_0x109ac1(0x435)]();let _0x32d1d0;if(_0x58cb03<0.1)_0x32d1d0=0x0;else{if(_0x58cb03<0.29)_0x32d1d0=0x1;else _0x58cb03<0.6?_0x32d1d0=0x2:_0x32d1d0=0x3;}const _0x4ca38f=Object[_0x109ac1(0x56b)](drugInventory)['filter'](_0x28326b=>drugInventory[_0x28326b][_0x109ac1(0x31a)]===_0x32d1d0),_0x306174=_0x4ca38f[Math[_0x109ac1(0x5c6)](Math['random']()*_0x4ca38f['length'])];drugInventory[_0x306174][_0x109ac1(0x53f)]+=0x1,_0x11d449[_0x109ac1(0x591)](_0x306174+_0x109ac1(0x349));}if(spiritLevel>=0x51){let _0x274dc9=(spiritLevel-0x50)*0.05;_0x274dc9>0x1&&(_0x274dc9=0x1);if(Math[_0x109ac1(0x435)]()<_0x274dc9){const _0x3e77f8=Object[_0x109ac1(0x56b)](drugInventory),_0x1d1595=_0x3e77f8[Math[_0x109ac1(0x5c6)](Math[_0x109ac1(0x435)]()*_0x3e77f8[_0x109ac1(0x490)])];drugInventory[_0x1d1595][_0x109ac1(0x53f)]+=0x1,_0x11d449[_0x109ac1(0x591)](_0x109ac1(0x4b1)+_0x1d1595+_0x109ac1(0x349));}}if(_0x11d449[_0x109ac1(0x490)]>0x0){const _0x2c21a2=_0x11d449[_0x109ac1(0x29e)]('，\x20');logBattleEvent(_0x109ac1(0x4a6)+_0x2c21a2,_0x109ac1(0x462));}updateDrugGrid();}}function gainExp(_0x40dbef=0x0){const _0x2b4fde=_0x5bf82f,_0x459f9f=document['getElementById']('enemy-level'),_0x32ad0c=parseInt(_0x459f9f[_0x2b4fde(0x246)],0xa);let _0x5122cc=battleState[_0x2b4fde(0x3d8)]['expMultiplier']||0x1;if(ascensionSkill[_0x2b4fde(0x3eb)]==='举一反三'||secondAscensionSkill['name']==='举一反三'){let _0x77eca9=0x0;ascensionSkill[_0x2b4fde(0x3eb)]==='举一反三'&&(_0x77eca9+=(ascensionSkill[_0x2b4fde(0x432)]+ascensionSkill[_0x2b4fde(0x3a7)](ascensionSkill[_0x2b4fde(0x48e)]))/0x64),secondAscensionSkill['name']==='举一反三'&&(_0x77eca9+=(secondAscensionSkill[_0x2b4fde(0x432)]+secondAscensionSkill['increment'](secondAscensionSkill[_0x2b4fde(0x48e)]))/0x64),_0x5122cc+=_0x77eca9,logBattleEvent(_0x2b4fde(0x310)+_0x77eca9*0x64+'%。','pink');}const _0x25770a=_0x40dbef>0x0?_0x40dbef:petLevel>=0xb4?Math[_0x2b4fde(0x5c6)](Math[_0x2b4fde(0x435)]()*(0x8f0-0x508+0x1)*_0x5122cc)+0x508:Math[_0x2b4fde(0x5c6)](0x64+Math[_0x2b4fde(0x21f)](_0x32ad0c,1.1)*0.85*_0x32ad0c*_0x5122cc);let _0x640fe2=currentExp+_0x25770a;while(_0x640fe2>=maxExp){_0x640fe2-=maxExp;if(petLevel===0xb4){maxExp=0x56bc75e2d63100000,logBattleEvent(_0x2b4fde(0x447),_0x2b4fde(0x462));break;}let _0xb215ff;if(petLevel<0x64&&_0x32ad0c<0x64)_0xb215ff=Math['floor'](Math[_0x2b4fde(0x435)]()*(0x3e8-0x258+0x1))+0x258;else{if(petLevel>=0x65&&petLevel<=0xb4&&_0x32ad0c>=0x65&&_0x32ad0c<=0x8c)_0xb215ff=Math['floor'](Math[_0x2b4fde(0x435)]()*(0x708-0x4b0+0x1))+0x4b0;else petLevel>=0xb5&&petLevel<=0xc8&&_0x32ad0c>=0x8d&&_0x32ad0c<=0x96?_0xb215ff=Math['floor'](Math[_0x2b4fde(0x435)]()*(0xe10-0x7d0+0x1))+0x7d0:_0xb215ff=Math[_0x2b4fde(0x5c6)](Math['random']()*(0xe10-0x258+0x1))+0x258;}maxExp+=_0xb215ff,petLevel<0xc8?(logBattleEvent('恭喜您升级了！','pink'),increasePetLevel(0x1)):(logBattleEvent('宠物已达到最高等级，经验转化为普通经验书！',_0x2b4fde(0x462)),addItemToJinnang(_0x2b4fde(0x2c1)),updateJinnangItems());}currentExp=_0x640fe2,updateExpBar(currentExp,maxExp);}function updateExpBar(_0x5bf911,_0x551937){const _0x4579d9=_0x5bf82f,_0x24c283=document[_0x4579d9(0x50b)]('exp-bar'),_0x4cb544=document['getElementById'](_0x4579d9(0x502)),_0x3d85d7=document[_0x4579d9(0x50b)](_0x4579d9(0x309)),_0x497101=document[_0x4579d9(0x50b)](_0x4579d9(0x2d9));if(_0x24c283&&_0x3d85d7){const _0x29d9db=_0x5bf911/_0x551937*0x64;_0x24c283['style'][_0x4579d9(0x3fc)]=_0x29d9db+'%',_0x3d85d7[_0x4579d9(0x4e2)]=_0x4579d9(0x47d)+_0x5bf911+_0x4579d9(0x391)+_0x551937;}if(_0x4cb544&&_0x497101){const _0x5dc871=_0x5bf911/_0x551937*0x64;_0x4cb544['style'][_0x4579d9(0x3fc)]=_0x5dc871+'%',_0x497101[_0x4579d9(0x4e2)]=_0x4579d9(0x47d)+_0x5bf911+_0x4579d9(0x391)+_0x551937;}}let OneHundredOne=![],OneHundredFiftyOne=![];function resetBattleState(_0x42ad4d){const _0x2fe41b=_0x5bf82f;if(!_0x42ad4d){restoreEnemyState();if(ascensionSkill[_0x2fe41b(0x3eb)]==='焉知非福'||secondAscensionSkill[_0x2fe41b(0x3eb)]===_0x2fe41b(0x573)){battleState['player'][_0x2fe41b(0x4ae)]=!![];const _0x18a358=(ascensionSkill[_0x2fe41b(0x3eb)]===_0x2fe41b(0x573)?ascensionSkill['baseValue']+ascensionSkill[_0x2fe41b(0x3a7)](ascensionSkill[_0x2fe41b(0x48e)]):0x0)+(secondAscensionSkill[_0x2fe41b(0x3eb)]==='焉知非福'?secondAscensionSkill['baseValue']+secondAscensionSkill[_0x2fe41b(0x3a7)](secondAscensionSkill[_0x2fe41b(0x48e)]):0x0);logBattleEvent(_0x2fe41b(0x2ba)+_0x18a358+_0x2fe41b(0x4cd),_0x2fe41b(0x441)),setTimeout(()=>{const _0x217fe4=_0x2fe41b;battleState[_0x217fe4(0x3d8)]['divineProtection']=![],logBattleEvent('焉知非福带来的仙气护体效果消失。','aqua');},_0x18a358*0x3e8);}}_0x42ad4d&&battleRounds===0x65&&!OneHundredOne&&(OneHundredOne=!![],addItemToJinnang(_0x2fe41b(0x22b),0x1),showInfoBox(_0x2fe41b(0x30d))),_0x42ad4d&&battleRounds===0x97&&!OneHundredFiftyOne&&(OneHundredFiftyOne=!![],changeEnemyImage('realShape'),autoBattleInterval!==null&&clearAutoBattle,showInfoBox(_0x2fe41b(0x597))),battleState[_0x2fe41b(0x404)][_0x2fe41b(0x4a5)]&&(enemyMaxHealth=battleState[_0x2fe41b(0x404)][_0x2fe41b(0x3a4)]||enemyMaxHealth,battleState[_0x2fe41b(0x404)]['benumbed']=![],battleState[_0x2fe41b(0x404)][_0x2fe41b(0x347)]=0x0,battleState['enemy'][_0x2fe41b(0x3a4)]=undefined),updateUI(),storeEnemyInitialState(),clearEnemyEffect(),clearPlayerEffect(),enemyHealCount=0x0,updatePetInfo(),resetResurrectionState();}function setBackgroundImage(_0x540be5){const _0xf3d0f8=_0x5bf82f,_0x2f1865=document[_0xf3d0f8(0x5e3)](_0xf3d0f8(0x35b));_0x2f1865&&(_0x2f1865[_0xf3d0f8(0x300)][_0xf3d0f8(0x29d)]='url(\x27'+_0x540be5+'\x27)');}function logBattleEvent(_0x3298ac,_0x3cfab6='white',_0x1e8842='12px'){const _0x3e7062=_0x5bf82f,_0x22717f=document[_0x3e7062(0x50b)]('log');if(_0x22717f){const _0x4a18d2=document['createElement']('p');_0x4a18d2['innerText']=_0x3298ac,_0x4a18d2[_0x3e7062(0x300)]['color']=_0x3cfab6,_0x4a18d2['style'][_0x3e7062(0x39e)]=_0x1e8842,_0x22717f[_0x3e7062(0x455)](_0x4a18d2);const _0x4ec0ca=_0x22717f[_0x3e7062(0x307)]('p');while(_0x4ec0ca[_0x3e7062(0x490)]>0x64){_0x22717f[_0x3e7062(0x602)](_0x4ec0ca[0x0]);}_0x22717f['scrollTop']=_0x22717f[_0x3e7062(0x234)];}else console[_0x3e7062(0x28a)](_0x3e7062(0x5b5));}function clearBattleLog(){const _0x47be5f=_0x5bf82f,_0x67f3be=document[_0x47be5f(0x50b)]('log');_0x67f3be?_0x67f3be['innerHTML']='':console[_0x47be5f(0x28a)](_0x47be5f(0x5b5));}document[_0x5bf82f(0x50b)](_0x5bf82f(0x47b))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>clearBattleLog());function toggleFightingDrawer(){const _0x389326=_0x5bf82f;if(!attributesFetched){showInfoBox(_0x389326(0x4ce));return;}if(battleState[_0x389326(0x3d8)]['taunt']&&!summonEnemy){performAttack(_0x389326(0x3be));return;}const _0x3f7d94=document[_0x389326(0x50b)]('fightingDrawer'),_0x5dfee0=_0x3f7d94[_0x389326(0x2df)][_0x389326(0x498)](_0x389326(0x322));_0x3f7d94[_0x389326(0x2df)]['add'](_0x389326(0x338));if(_0x5dfee0){_0x3f7d94[_0x389326(0x300)]['display']=_0x389326(0x406),startBattle();if(!summonEnemy){}else updatePetInfo();}else _0x3f7d94[_0x389326(0x300)][_0x389326(0x48a)]=_0x389326(0x504),stopBattle();document[_0x389326(0x50b)](_0x389326(0x27d))[_0x389326(0x246)]=battleRounds,syncBattlePetSelect();}function calculateSkillAttributes(){const _0x32f965=_0x5bf82f,_0x7b7710=document[_0x32f965(0x50b)]('skills-area');let _0x223385={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};maxLifeSpan=0x1388;if(_0x7b7710&&currentPet[_0x32f965(0x48f)]){const _0x3fe6dc=Array['from'](_0x7b7710[_0x32f965(0x2cc)]);_0x3fe6dc[_0x32f965(0x35e)](_0x2e4e6d=>{const _0x45fdf9=_0x32f965,_0xadc5bc=_0x2e4e6d[_0x45fdf9(0x246)]['split']('\x20')[0x0],_0xbf17d=currentPet[_0x45fdf9(0x48f)]['find'](_0xa9a96e=>_0xa9a96e['name']===_0xadc5bc&&(_0xa9a96e[_0x45fdf9(0x4f7)]==='N'||_0xa9a96e[_0x45fdf9(0x4f7)]==='NE'));if(_0xbf17d){const _0x2dde11=_0xbf17d[_0x45fdf9(0x48e)]||0x1,_0x41b8f4=Math[_0x45fdf9(0x4ba)](0x1,_0xbf17d[_0x45fdf9(0x44c)]),_0x576661=0.1*_0x2dde11*_0x41b8f4;if(_0xbf17d['type']==='N'&&_0xbf17d['name']==='长寿'){const _0x308650=Math[_0x45fdf9(0x372)](0xa8*_0x576661*_0x2dde11);maxLifeSpan+=_0x308650;}const _0x151bcd={'天神祝福':{'health':0x7d0,'speed':0xc8,'maxLevel':0x6},'天王护卫':{'physicalDefense':0x1f4,'magicDefense':0x1f4,'maxLevel':0x6},'姐就是女王':{'health':0x2710,'maxLevel':0x6},'生生不息':{'lifeSpanBonus':0x2710,'maxLevel':0x6}};if(_0xbf17d[_0x45fdf9(0x4f7)]==='N')_0x223385[_0x45fdf9(0x351)]+=Math['round'](0xa8*_0x576661),_0x223385[_0x45fdf9(0x299)]+=Math[_0x45fdf9(0x372)](0x62*_0x576661),_0x223385[_0x45fdf9(0x424)]+=Math['round'](0x40*_0x576661),_0x223385['physicalDefense']+=Math[_0x45fdf9(0x372)](0x20*_0x576661),_0x223385[_0x45fdf9(0x40f)]+=Math[_0x45fdf9(0x372)](0x3f*_0x576661),_0x223385[_0x45fdf9(0x268)]+=Math[_0x45fdf9(0x372)](0x1f*_0x576661),_0x223385[_0x45fdf9(0x200)]+=Math['round'](0x9*_0x576661);else{if(_0xbf17d[_0x45fdf9(0x4f7)]==='NE'){const _0x5b928b=_0x151bcd[_0xadc5bc];if(_0x5b928b){const _0x2fec4f=_0x5b928b[_0x45fdf9(0x5df)]||_0x2dde11,_0x45bd09=Math['min'](_0x2fec4f,_0x2dde11);_0xadc5bc===_0x45fdf9(0x425)?maxLifeSpan+=_0x5b928b[_0x45fdf9(0x576)]*_0x45bd09:Object[_0x45fdf9(0x461)](_0x5b928b)['forEach'](([_0x189a5f,_0x50352d])=>{const _0x4341e3=_0x45fdf9;_0x189a5f!==_0x4341e3(0x5df)&&_0x189a5f!==_0x4341e3(0x576)&&_0x223385[_0x4341e3(0x34c)](_0x189a5f)&&(_0x223385[_0x189a5f]+=_0x50352d*_0x45bd09);});}}}}});}return _0x223385;}function updatePetInfo(){const _0x5a6dbf=_0x5bf82f;if(!currentPet){console['error'](_0x5a6dbf(0x446));return;}const _0x4b4957=calculateCurrentAttributes(),_0x38c697={'endurance':_0x4b4957[_0x5a6dbf(0x393)],'intelligence':_0x4b4957[_0x5a6dbf(0x5e8)],'strength':_0x4b4957[_0x5a6dbf(0x473)],'agility':_0x4b4957['agility'],'faith':_0x4b4957[_0x5a6dbf(0x3e4)]},_0x25737e=calculateSecondaryAttributes(_0x38c697,currentWisdom),_0x1daff1=getCurrentSpiritAttributes(),_0x34ad0d=playerCritRate,_0x5c0414=playerCritDamage;!battleState?(battleState={'player':{'health':_0x25737e[_0x5a6dbf(0x351)]+_0x1daff1[_0x5a6dbf(0x351)]+ascensionAttributes['health'],'mana':_0x25737e['mana']+_0x1daff1[_0x5a6dbf(0x299)]+ascensionAttributes[_0x5a6dbf(0x299)],'physicalAttack':_0x25737e[_0x5a6dbf(0x424)]+_0x1daff1['physicalAttack']+ascensionAttributes[_0x5a6dbf(0x424)],'physicalDefense':_0x25737e[_0x5a6dbf(0x479)]+_0x1daff1['physicalDefense']+ascensionAttributes[_0x5a6dbf(0x479)],'magicAttack':_0x25737e['magicAttack']+_0x1daff1[_0x5a6dbf(0x40f)]+ascensionAttributes[_0x5a6dbf(0x40f)],'magicDefense':_0x25737e[_0x5a6dbf(0x268)]+_0x1daff1[_0x5a6dbf(0x268)]+ascensionAttributes['magicDefense'],'speed':_0x25737e[_0x5a6dbf(0x200)]+_0x1daff1[_0x5a6dbf(0x200)]+ascensionAttributes[_0x5a6dbf(0x200)],'critRate':playerCritRate,'critDamage':playerCritDamage},'enemy':{...enemyPet}},ascensionSkill[_0x5a6dbf(0x3eb)]&&ascensionEnabled&&ascensionSkill[_0x5a6dbf(0x3eb)]!==_0x5a6dbf(0x563)&&(battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x58b)]=ascensionSkill[_0x5a6dbf(0x3eb)]),secondAscensionSkill['name']&&reenableAscension&&secondAscensionSkill[_0x5a6dbf(0x3eb)]!==_0x5a6dbf(0x563)&&(battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x463)]=secondAscensionSkill[_0x5a6dbf(0x3eb)])):(battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x351)]=_0x25737e[_0x5a6dbf(0x351)]+_0x1daff1[_0x5a6dbf(0x351)]+ascensionAttributes['health'],battleState['player']['mana']=_0x25737e[_0x5a6dbf(0x299)]+_0x1daff1[_0x5a6dbf(0x299)]+ascensionAttributes['mana'],battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x424)]=_0x25737e['physicalAttack']+_0x1daff1['physicalAttack']+ascensionAttributes[_0x5a6dbf(0x424)],battleState['player'][_0x5a6dbf(0x479)]=_0x25737e['physicalDefense']+_0x1daff1[_0x5a6dbf(0x479)]+ascensionAttributes[_0x5a6dbf(0x479)],battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x40f)]=_0x25737e[_0x5a6dbf(0x40f)]+_0x1daff1[_0x5a6dbf(0x40f)]+ascensionAttributes[_0x5a6dbf(0x40f)],battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x268)]=_0x25737e[_0x5a6dbf(0x268)]+_0x1daff1[_0x5a6dbf(0x268)]+ascensionAttributes[_0x5a6dbf(0x268)],battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x200)]=_0x25737e[_0x5a6dbf(0x200)]+_0x1daff1[_0x5a6dbf(0x200)]+ascensionAttributes[_0x5a6dbf(0x200)],battleState[_0x5a6dbf(0x3d8)]['critRate']=playerCritRate,battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x262)]=playerCritDamage,ascensionSkill[_0x5a6dbf(0x3eb)]&&ascensionEnabled&&ascensionSkill['name']!=='被封印的技能'&&(battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x58b)]=ascensionSkill[_0x5a6dbf(0x3eb)]),secondAscensionSkill[_0x5a6dbf(0x3eb)]&&reenableAscension&&ascensionSkill['name']!==_0x5a6dbf(0x563)&&(battleState[_0x5a6dbf(0x3d8)][_0x5a6dbf(0x463)]=secondAscensionSkill[_0x5a6dbf(0x3eb)])),battleAttributes={...battleState[_0x5a6dbf(0x3d8)]},maxHealth=battleAttributes[_0x5a6dbf(0x351)],maxMana=battleAttributes[_0x5a6dbf(0x299)],updateUI(),attributesFetched=!![];}let summonEnemy=![];const enemyImages=[{'status':_0x5bf82f(0x3e3),'name':'妖怪','url':'https://pic.imgdb.cn/item/6678135ed9c307b7e9060dd6.gif'},{'status':_0x5bf82f(0x3d7),'name':_0x5bf82f(0x3c0),'url':_0x5bf82f(0x41b)},{'status':_0x5bf82f(0x2ab),'name':_0x5bf82f(0x551),'url':_0x5bf82f(0x2a2)},{'status':'realShape','name':_0x5bf82f(0x37c),'url':_0x5bf82f(0x2a8)},{'status':_0x5bf82f(0x4b0),'name':_0x5bf82f(0x33e),'url':_0x5bf82f(0x519)},{'status':_0x5bf82f(0x5f0),'name':_0x5bf82f(0x24f),'url':_0x5bf82f(0x550)},{'status':_0x5bf82f(0x344),'name':_0x5bf82f(0x4a1),'url':'https://pic.imgdb.cn/item/665433e8d9c307b7e93ac758.gif'},{'status':'ancientEvil','name':_0x5bf82f(0x593),'url':'https://pic.imgdb.cn/item/66cc999fd9c307b7e9d7ca2a.gif'},{'status':_0x5bf82f(0x4af),'name':'永夜大帝','url':_0x5bf82f(0x33a)},{'status':_0x5bf82f(0x378),'name':_0x5bf82f(0x509),'url':'https://pic.imgdb.cn/item/66cdda7cd9c307b7e941d522.gif'},{'status':'qiongQi','name':'穷奇','url':'https://pic.imgdb.cn/item/66d07119d9c307b7e93234a9.gif'},{'status':'baiYin','name':'白银VIP怪','url':'https://pic.imgdb.cn/item/66d5d91ad9c307b7e95066ac.gif'},{'status':_0x5bf82f(0x57c),'name':'岩龙','url':_0x5bf82f(0x1f6)},{'status':_0x5bf82f(0x3b8),'name':'火焰巨人','url':'https://pic1.imgdb.cn/item/6791d204d0e0a243d4f7088b.gif'}];function changeEnemyImage(_0x53fada){const _0x759131=_0x5bf82f,_0x5e2345=enemyImages[_0x759131(0x37d)](_0x488db8=>_0x488db8[_0x759131(0x301)]===_0x53fada);_0x5e2345?(document['getElementById'](_0x759131(0x1fd))[_0x759131(0x5a1)]=_0x5e2345[_0x759131(0x31d)],document[_0x759131(0x50b)](_0x759131(0x4e6))[_0x759131(0x246)]=_0x5e2345[_0x759131(0x3eb)]):console[_0x759131(0x28a)](_0x759131(0x5b7)+_0x53fada+'\x27\x20not\x20found\x20in\x20enemyImages.');}const enemies={'practiceEnemy':{'name':_0x5bf82f(0x24f),'level':0x64,'health':0x12a05f200,'mana':0x12a05f200,'physicalAttack':0x64,'physicalDefense':0x0,'magicAttack':0x64,'magicDefense':0x0,'speed':0x64,'cultivation':0x400,'enemyCritRate':0.8,'enemyCritDamage':2.5,'backgroundImage':_0x5bf82f(0x33f),'reward':()=>gainExp(0xbb8),'rewardMessage':'3000经验值','specialty':_0x5bf82f(0x5f0)},'practiceEnemyPlus':{'name':_0x5bf82f(0x5f9),'level':0xc8,'health':0x12a05f200,'mana':0x12a05f200,'physicalAttack':0x3e8,'physicalDefense':0x186a0,'magicAttack':0x3e8,'magicDefense':0x186a0,'speed':0xea60,'cultivation':0x7ef40,'enemyCritRate':0.8,'enemyCritDamage':2.5,'backgroundImage':_0x5bf82f(0x33f),'reward':()=>gainExp(0x2710),'rewardMessage':_0x5bf82f(0x5ee),'specialty':_0x5bf82f(0x344)},'ancientEvil':{'name':_0x5bf82f(0x3df),'level':0x64,'health':0x400c7c0,'mana':0x249f00,'physicalAttack':0x29040,'physicalDefense':0xf423f,'magicAttack':0x13ec,'magicDefense':0xf423f,'speed':0xbb8,'cultivation':0x250f8,'enemyCritRate':0.01,'enemyCritDamage':0x3e8,'backgroundImage':_0x5bf82f(0x33f),'reward':()=>{const _0x35dd9e=_0x5bf82f,_0x2e2df3=[_0x35dd9e(0x49a),_0x35dd9e(0x30a),_0x35dd9e(0x594)],_0x46cffb=_0x2e2df3[Math[_0x35dd9e(0x5c6)](Math[_0x35dd9e(0x435)]()*_0x2e2df3[_0x35dd9e(0x490)])],_0x2263b7=Math[_0x35dd9e(0x5c6)](Math[_0x35dd9e(0x435)]()*0x4)+0x2,_0x3fe7fa={'cultivationPill500':_0x35dd9e(0x2f7),'universalCrystal':_0x35dd9e(0x380),'universalKernel':_0x35dd9e(0x523)};addItemToJinnang(_0x46cffb,_0x2263b7),showInfoBox(_0x35dd9e(0x2dc)+_0x2263b7+'个'+_0x3fe7fa[_0x46cffb]+_0x35dd9e(0x23e));},'rewardMessage':'无','specialty':'ancientEvil'},'expEnemy':{'name':_0x5bf82f(0x227),'level':0xc8,'health':0x7944ec0,'mana':0x249f00,'physicalAttack':0x445c0,'physicalDefense':0x3a980,'magicAttack':0x4da30,'magicDefense':0x21408,'speed':0x46118,'cultivation':0x49ae8,'enemyCritRate':0.15,'enemyCritDamage':1.8,'backgroundImage':'https://pic.imgdb.cn/item/66cd61f8d9c307b7e9af46c0.png','reward':()=>gainExp(0x186a00),'rewardMessage':_0x5bf82f(0x2e9),'specialty':_0x5bf82f(0x4af)},'noWorkBoss':{'name':_0x5bf82f(0x509),'level':0xc8,'health':0x258,'mana':0x2ab980,'physicalAttack':0x992,'physicalDefense':0x4b0,'magicAttack':0x992,'magicDefense':0x4b0,'speed':0xf423f,'cultivation':0x98967f,'enemyCritRate':0x1,'enemyCritDamage':2.5,'backgroundImage':_0x5bf82f(0x459),'reward':()=>addItemToJinnang(_0x5bf82f(0x4fd),0x1),'rewardMessage':'天使之翼','specialty':'noWorkBoss'},'qiongQi':{'name':'穷奇','level':0xa0,'health':0x9470,'mana':0x2ee0,'physicalAttack':0xd7a,'physicalDefense':0xf870,'magicAttack':0x468,'magicDefense':0x7a12,'speed':0x4e200,'cultivation':0x249f0,'enemyCritRate':0x0,'enemyCritDamage':0x0,'backgroundImage':_0x5bf82f(0x271),'reward':()=>addItemToJinnang(_0x5bf82f(0x402),0x1),'rewardMessage':_0x5bf82f(0x22a),'specialty':_0x5bf82f(0x5be)},'baiYin':{'name':_0x5bf82f(0x37e),'level':0xb4,'health':0x186a0,'mana':0x4e20,'physicalAttack':0x5dc,'physicalDefense':0x12c,'magicAttack':0x514,'magicDefense':0x118,'speed':0x7e8,'cultivation':0x400,'enemyCritRate':0.5,'enemyCritDamage':1.5,'backgroundImage':_0x5bf82f(0x2ee),'reward':()=>{const _0x2473fb=_0x5bf82f,_0x1dccc6=Math[_0x2473fb(0x372)](petLevel*(0x5+Math[_0x2473fb(0x435)]()*0x5));petLevel<=0xb4&&gainExp(_0x1dccc6),handleBaiYinReward();},'rewardMessage':'无','specialty':_0x5bf82f(0x531)},'stoneDragon':{'name':'岩龙','level':0xb4,'health':0xe27f6600,'mana':0x1e848,'physicalAttack':0xd7a,'physicalDefense':0xea60,'magicAttack':0x468,'magicDefense':0xea60,'speed':0x960,'cultivation':0x730a0,'enemyCritRate':0.65,'enemyCritDamage':3.8,'backgroundImage':'https://pic.imgdb.cn/item/66e6d194d9c307b7e9c131d3.png','reward':()=>{const _0x582c0c=_0x5bf82f;generateItemToJinnang(_0x582c0c(0x5ef),_0x582c0c(0x3d5),'https://pic.imgdb.cn/item/66d0b3f3d9c307b7e995a14c.png',price=0x1f40,quantity=0x1,description=_0x582c0c(0x20e)),increaseCurrentPetIntimacy(0x258);},'rewardMessage':_0x5bf82f(0x57a),'specialty':_0x5bf82f(0x57c)},'fireGiant':{'name':_0x5bf82f(0x3aa),'level':0xb4,'health':0x3b9aca00,'mana':0x2faf080,'physicalAttack':0xa5a,'physicalDefense':0xbb8,'magicAttack':0x1978,'magicDefense':0xa8c,'speed':0xea60,'cultivation':0x1f40,'enemyCritRate':0.35,'enemyCritDamage':2.15,'backgroundImage':_0x5bf82f(0x3c6),'reward':()=>{increaseCurrentPetLearningValue(0x3e8),increaseCurrentPetIntimacy(0x258);},'rewardMessage':'在法术精英怪物训练下的珍贵成果：1000学习度和600亲密度，可用于训练技能加成','specialty':_0x5bf82f(0x3b8)}},specificAttackByEnemy={'expEnemy':{'type':_0x5bf82f(0x492),'action':()=>handleExpEnemySkill()},'noWorkBoss':{'type':_0x5bf82f(0x492),'action':()=>{const _0x18e6cb=_0x5bf82f,_0x15f3df=Math['round'](battleAttributes[_0x18e6cb(0x299)]*0.15);battleAttributes['mana']-=_0x15f3df,battleState[_0x18e6cb(0x404)][_0x18e6cb(0x268)]=Math[_0x18e6cb(0x372)](battleAttributes[_0x18e6cb(0x40f)]*battleState[_0x18e6cb(0x3d8)][_0x18e6cb(0x262)]),battleState['enemy']['physicalDefense']=Math[_0x18e6cb(0x372)](battleAttributes['physicalDefense']*battleState[_0x18e6cb(0x3d8)][_0x18e6cb(0x262)]),logBattleEvent(_0x18e6cb(0x2ca)+_0x15f3df+_0x18e6cb(0x26e),_0x18e6cb(0x224)),handleNoWorkBossSkill();}},'ancientEvil':{'type':_0x5bf82f(0x492),'action':()=>handleAncientEvilSkill()},'qiongQi':{'type':_0x5bf82f(0x38b),'action':()=>{handleQiongQiSkill(),handleTaunt();}},'practiceEnemy':{'type':_0x5bf82f(0x38b),'action':()=>{let _0x287030;_0x287030=setTimeout(()=>{const _0x45a08c=_0x45ff;summonEnemy&&battleState['enemy'][_0x45a08c(0x47e)]===_0x45a08c(0x5f0)&&onBattleState?(battleState[_0x45a08c(0x404)]['physicalAttack']+=0x2dc6c0,battleState[_0x45a08c(0x404)][_0x45a08c(0x40f)]+=0x2dc6c0,updateUI(),showInfoBox(_0x45a08c(0x3e6))):clearTimeout(_0x287030);},0x927c0);}},'practiceEnemyPlus':{'type':_0x5bf82f(0x38b),'action':()=>{let _0x569998;_0x569998=setTimeout(()=>{const _0x3d667a=_0x45ff;summonEnemy&&battleState[_0x3d667a(0x404)][_0x3d667a(0x47e)]===_0x3d667a(0x344)&&onBattleState?(battleState[_0x3d667a(0x404)][_0x3d667a(0x351)]=enemyMaxHealth,updateUI(),logBattleEvent(_0x3d667a(0x2e4))):clearTimeout(_0x569998);},0x7530);}},'baiYin':{'type':'instant','action':()=>{const _0x14769b=_0x5bf82f;logBattleEvent(_0x14769b(0x3e5),_0x14769b(0x5b8));}},'stoneDragon':{'type':_0x5bf82f(0x492),'action':()=>{const _0x32196f=_0x5bf82f;if(summonEnemy&&battleState[_0x32196f(0x404)][_0x32196f(0x3eb)]==='岩龙'&&onBattleState){if(battleState['enemy'][_0x32196f(0x351)]>=enemyMaxHealth*0.2)battleState[_0x32196f(0x404)][_0x32196f(0x479)]+=0xea60,battleState[_0x32196f(0x404)]['magicDefense']+=0xea60,updateUI();else{battleState[_0x32196f(0x404)]['physicalAttack']+=Math['floor'](Math[_0x32196f(0x435)]()*0x5dc+0x5dc);if(battleState[_0x32196f(0x3d8)][_0x32196f(0x4d5)])return;else battleState[_0x32196f(0x3d8)][_0x32196f(0x4d5)]=!![],logBattleEvent('岩龙开始汲取雷电的力量，你被附加了触电效果，每次攻击岩龙将大幅削减你的物理防御和法术防御。',_0x32196f(0x4ac));}}}},'fireGiant':{'type':_0x5bf82f(0x38b),'action':()=>{const _0x12d620=_0x5bf82f;typeof battleState[_0x12d620(0x3d8)][_0x12d620(0x342)]===_0x12d620(0x548)&&(battleState[_0x12d620(0x3d8)]['heat']=![]);if(battleState[_0x12d620(0x3d8)][_0x12d620(0x342)])return;const _0x17e151=playerCritDamage,_0xa2dabf=playerCritRate;battleState[_0x12d620(0x3d8)]['critDamage']=Math[_0x12d620(0x4ba)](1.5,_0x17e151*0x2),battleState[_0x12d620(0x3d8)][_0x12d620(0x1ff)]=Math[_0x12d620(0x4ba)](0.1,Math['min'](0.5,Math[_0x12d620(0x5c6)](_0xa2dabf*0x32)*0.01)),battleState[_0x12d620(0x3d8)]['heat']=!![],showEffect(_0x12d620(0x592),'https://pic1.imgdb.cn/item/6791d32dd0e0a243d4f708f4.gif'),updateUI();}}};function handleCleanHeat(){const _0x56298d=_0x5bf82f;battleState[_0x56298d(0x3d8)][_0x56298d(0x342)]=![],battleState[_0x56298d(0x3d8)][_0x56298d(0x262)]=Math[_0x56298d(0x4ba)](1.5,playerCritDamage*0.5),battleState[_0x56298d(0x3d8)][_0x56298d(0x1ff)]=Math[_0x56298d(0x4ba)](0.1,playerCritRate*0x2),updateUI();}function applySpecificAttackByEnemy(_0x392a7b){const _0x2d7fff=_0x5bf82f,_0xbd92f6=specificAttackByEnemy[_0x392a7b];if(_0xbd92f6){if(_0xbd92f6['type']===_0x2d7fff(0x492))_0xbd92f6[_0x2d7fff(0x48b)]();else _0xbd92f6[_0x2d7fff(0x4f7)]===_0x2d7fff(0x38b)&&_0xbd92f6[_0x2d7fff(0x48b)]();}else console['log'](_0x2d7fff(0x2f6)+_0x392a7b+_0x2d7fff(0x39c));}function handleBattleWithSummonEnemy(_0x31851c){const _0xaa562f=_0x5bf82f;if(!battleState[_0xaa562f(0x3b4)]||!enemies[battleState['enemyKey']])return;const _0x50bb8e=enemies[battleState[_0xaa562f(0x3b4)]];_0x31851c?_0x50bb8e[_0xaa562f(0x4cb)]?(_0x50bb8e[_0xaa562f(0x4cb)](),_0x50bb8e[_0xaa562f(0x4e0)]!=='无'&&showInfoBox(_0xaa562f(0x303)+_0x50bb8e['name']+_0xaa562f(0x297)+_0x50bb8e[_0xaa562f(0x4e0)]+'！',null,null,'green')):showInfoBox(_0xaa562f(0x303)+_0x50bb8e[_0xaa562f(0x3eb)]+'，但没有任何奖励。',null,null,_0xaa562f(0x423)):showInfoBox(_0xaa562f(0x293)+_0x50bb8e[_0xaa562f(0x3eb)]+_0xaa562f(0x54c),null,null,_0xaa562f(0x30c)),resetBattleState(!![]),resetBuffState(![]),clearEnemyEffect(),clearPlayerEffect(),clearAutoBattle(),restoreEnemyState(),summonEnemy=![],updateUI();}function summonEnemyByType(_0x20b450,_0x1eb5f4=!![]){const _0x437f24=_0x5bf82f;if(!summonEnemy&&attributesFetched){const _0x16ffeb=enemies[_0x20b450];if(_0x16ffeb){const _0x13c9b5=()=>{const _0x2910bf=_0x45ff;summonEnemy=!![],toggleFightingDrawer(),battleState[_0x2910bf(0x404)]={..._0x16ffeb},battleState[_0x2910bf(0x3b4)]=_0x20b450,enemyMaxHealth=_0x16ffeb[_0x2910bf(0x351)],enemyMaxMana=_0x16ffeb[_0x2910bf(0x299)],enemyPetCultivation=_0x16ffeb[_0x2910bf(0x522)],enemyCritRate=_0x16ffeb[_0x2910bf(0x2ad)],enemyCritDamage=_0x16ffeb[_0x2910bf(0x4ad)],changeEnemyImage(_0x20b450),setBackgroundImage(_0x16ffeb[_0x2910bf(0x29d)]),document[_0x2910bf(0x50b)]('enemy-level')[_0x2910bf(0x246)]=_0x16ffeb['level'],updateUI(),storeSummonEnemyInitialState();const _0x21954a=specificAttackByEnemy[_0x16ffeb[_0x2910bf(0x47e)]];_0x21954a&&_0x21954a['type']===_0x2910bf(0x38b)&&_0x21954a['action']();};_0x1eb5f4?showInfoBox(_0x437f24(0x25a)+_0x16ffeb[_0x437f24(0x3eb)]+'，战胜后你会获得奖励',_0x13c9b5,()=>{const _0x1da54f=_0x437f24;summonEnemy=![],goldAmount-=0x4e20,updateGoldDisplay(goldAmount),showInfoBox(_0x1da54f(0x2ef),null,null,_0x1da54f(0x30c));return;}):_0x13c9b5();}else showInfoBox(_0x437f24(0x5d4),null,null,'red');}else showInfoBox(_0x437f24(0x36e),null,null,'red');}function handleBaiYinReward(){const _0x41635e=_0x5bf82f,_0x23e07e=getRandomInt(0x1,0x64);if(_0x23e07e<=0x32)generateItemToJinnang(_0x41635e(0x2be),_0x41635e(0x2d8),_0x41635e(0x2c6),price=0xa,quantity=0x1,description='击败白银之地怪物的嘉奖，收集一定数量可兑换宇宙之晶'),showInfoBox(_0x41635e(0x315),null,null,null,_0x41635e(0x2c6));else _0x23e07e<=0x5a?(addItemToJinnang(_0x41635e(0x3d0),0x1),showInfoBox('你获得一个盲盒宝石袋',null,null,null,_0x41635e(0x32f))):(addItemToJinnang(_0x41635e(0x30a),0x1),showInfoBox('你获得一个宇宙之晶',null,null,null,_0x41635e(0x260)));}let baiYinInterval=null;function handleBattleWithBaiYin(){const _0x3ebfeb=_0x5bf82f;if(baiYinInterval!==null){showInfoBox('试炼之地正在持续中！无法叠加！',null,null,'red');return;}showInfoBox(_0x3ebfeb(0x49d),null,null,'red'),!onBattleState&&!summonEnemy?baiYinInterval=setInterval(()=>{const _0x4b0d5c=_0x3ebfeb;useItem(_0x4b0d5c(0x30f),0x1)?(summonEnemyByType('baiYin',![]),addItemToJinnang('hailMonsterPill',0x1),autoBattle()):(clearInterval(baiYinInterval),baiYinInterval=null,showInfoBox(_0x4b0d5c(0x414)),document['getElementById']('baiyinOverlay')[_0x4b0d5c(0x300)][_0x4b0d5c(0x48a)]=_0x4b0d5c(0x504));},0x3e8):(clearInterval(baiYinInterval),baiYinInterval=null);}function handleExpEnemySkill(){const _0x57a2f2=_0x5bf82f,_0xde35d1=Math[_0x57a2f2(0x372)](battleAttributes[_0x57a2f2(0x351)]*0.1);battleAttributes[_0x57a2f2(0x351)]-=_0xde35d1,battleState[_0x57a2f2(0x404)][_0x57a2f2(0x351)]+=_0xde35d1*0xa,battleAttributes['physicalDefense']=0x1,battleAttributes['magicDefense']=0x1,logBattleEvent(_0x57a2f2(0x29b)+_0xde35d1+_0x57a2f2(0x2b2),_0x57a2f2(0x30c)),updateUI();}let qiongQi=null;function handleQiongQiSkill(){const _0x508e12=_0x5bf82f,_0x54590d=battleState['enemy'][_0x508e12(0x47e)]===_0x508e12(0x5be),_0x44c411=Math[_0x508e12(0x372)](battleAttributes[_0x508e12(0x351)]*(0.01+Math['random']()*0.02));let _0x5b7ae8=Math[_0x508e12(0x372)](_0x44c411*playerCritDamage);battleAttributes[_0x508e12(0x424)]*=0.01,battleAttributes['magicAttack']*=0.01,qiongQi!==null&&(clearInterval(qiongQi),qiongQi=null),summonEnemy&&_0x54590d?(battleState['enemy'][_0x508e12(0x479)]=0xe8d4a50fff,battleState[_0x508e12(0x404)][_0x508e12(0x268)]=0xe8d4a50fff,setTimeout(()=>{const _0x474113=_0x508e12;battleState[_0x474113(0x404)][_0x474113(0x479)]=battleAttributes['physicalAttack']*0x64,battleState[_0x474113(0x404)][_0x474113(0x268)]=battleAttributes[_0x474113(0x40f)]*0x64,qiongQi=setInterval(()=>{const _0x198ea7=_0x474113;battleAttributes[_0x198ea7(0x351)]-=_0x44c411,enemyMaxHealth+=_0x44c411,battleState[_0x198ea7(0x404)][_0x198ea7(0x351)]+=_0x44c411,battleState[_0x198ea7(0x404)][_0x198ea7(0x479)]+=_0x5b7ae8,battleState[_0x198ea7(0x404)][_0x198ea7(0x268)]+=_0x5b7ae8,enemyPetCultivation=playerCultivation+0x5dc0,battleState[_0x198ea7(0x404)]['speed']=battleAttributes[_0x198ea7(0x200)]+0x960,updateUI(),(battleAttributes[_0x198ea7(0x351)]<=0x0||battleState[_0x198ea7(0x404)][_0x198ea7(0x351)]<=0x0||!summonEnemy)&&(clearInterval(qiongQi),qiongQi=null);},0x3e8);},0xbb8),logBattleEvent(_0x508e12(0x543),_0x508e12(0x5b8))):qiongQi!==null&&(clearInterval(qiongQi),qiongQi=null);}function handleNoWorkBossSkill(){const _0x44102e=_0x5bf82f;if(Math[_0x44102e(0x435)]()<0.8)return;const _0x4f3f16=document[_0x44102e(0x50b)]('enemy-level'),_0x5753dc=parseInt(_0x4f3f16[_0x44102e(0x246)],0xa),_0x26ee18=_0x5753dc+0xc8;_0x4f3f16[_0x44102e(0x246)]=_0x26ee18,logBattleEvent('無班之魂变得恼怒，等级提升了',_0x44102e(0x30c));}function handleAncientEvilSkill(){const _0x46c8b3=_0x5bf82f;typeof battleState[_0x46c8b3(0x3d8)][_0x46c8b3(0x356)]===_0x46c8b3(0x548)&&(battleState[_0x46c8b3(0x3d8)][_0x46c8b3(0x356)]=![]);if(battleState['player'][_0x46c8b3(0x356)])return;const _0x273e54=playerCritDamage,_0x8060da=enemyCritDamage;battleState[_0x46c8b3(0x3d8)][_0x46c8b3(0x262)]=_0x273e54*0.5,enemyCritDamage+=_0x273e54*0.5,battleState['player']['damageLost']=!![],setTimeout(()=>{const _0xf3b14c=_0x46c8b3;battleState[_0xf3b14c(0x3d8)][_0xf3b14c(0x356)]=![],battleState[_0xf3b14c(0x3d8)][_0xf3b14c(0x262)]=_0x273e54,enemyCritDamage=_0x8060da,updateUI();},0x2710),logBattleEvent('太古魔魂会吸收你的暴击伤害作为己用',_0x46c8b3(0x224));}function initializeEnemyPet(){const _0x9b7e38=_0x5bf82f;enemyPet={'health':0xd,'mana':0x7,'physicalAttack':0x9,'physicalDefense':0x3,'magicAttack':0x5,'magicDefense':0x1,'speed':0x7,'cultivation':0xc},enemyMaxHealth=enemyPet[_0x9b7e38(0x351)],enemyMaxMana=enemyPet[_0x9b7e38(0x299)],enemyPetCultivation=enemyPet[_0x9b7e38(0x522)],battleState&&(battleState[_0x9b7e38(0x404)]={...enemyPet}),storeEnemyInitialState();}function updateEnemyAttributes(){const _0x2d763d=_0x5bf82f,_0x4c4c1f={'health':0x11e1a300,'mana':0x8f0d180,'physicalAttack':0x53020,'physicalDefense':0x38270,'magicAttack':0x41eb0,'magicDefense':0x38270,'speed':0xfa00,'cultivation':0x7ef40},_0x4f3407={'health':0xc350,'mana':0x7d00,'physicalAttack':0x1e,'physicalDefense':0x96,'magicAttack':0x19,'magicDefense':0x78,'speed':0x14,'cultivation':0x23};function _0x2e8e85(_0x214d29,_0x2d296a){const _0x186b9d=_0x45ff;let _0x4d760b=0x0;if(battleRounds<=0x2d){const _0x34f1ae=Math[_0x186b9d(0x5c6)](Math[_0x186b9d(0x435)]()*0x32)+0x1+battleRounds;_0x4d760b=_0x2d296a+0x7*_0x34f1ae;}else{if(battleRounds<=0x46){const _0x9af9f0=Math[_0x186b9d(0x5c6)](Math['random']()*0x3c)+0x1+battleRounds;_0x4d760b=_0x2d296a+0x8*_0x9af9f0;}else{if(battleRounds<=0x50){const _0x1dd106=Math[_0x186b9d(0x5c6)](Math['random']()*0x64)+0x1+battleRounds;_0x4d760b=_0x2d296a+0x10*_0x1dd106;}else{if(battleRounds<=0x5a){const _0x5c7abc=0.0003+Math[_0x186b9d(0x435)]()*0.0006;_0x4d760b=_0x2d296a+_0x4c4c1f[_0x214d29]*_0x5c7abc;}else{if(battleRounds<=0x63){const _0x28687d=0.0006+Math[_0x186b9d(0x435)]()*0.0012;_0x4d760b=_0x2d296a+_0x4c4c1f[_0x214d29]*_0x28687d;}else{if(battleRounds===0x64)_0x4d760b=_0x4c4c1f[_0x214d29]*0.1;else{if(battleRounds<=0x95){const _0x211685=_0x4c4c1f[_0x214d29]*0.1,_0x4462dc=(_0x4c4c1f[_0x214d29]-_0x211685)/0x96;_0x4d760b=_0x4462dc*battleRounds;}else{if(battleRounds===0x96)_0x4d760b=_0x4c4c1f[_0x214d29];else{const _0x2430de=_0x4c4c1f[_0x214d29],_0x4a0cb4=battleRounds-0x96,_0x122bab=Math[_0x186b9d(0x5c6)](Math[_0x186b9d(0x435)]()*(0x96-0x2+0x1))+0x2,_0x461ee0=_0x4a0cb4*(_0x4f3407[_0x214d29]*_0x122bab);_0x4d760b=_0x2430de+_0x461ee0;}}}}}}}}return battleRounds<=0x96&&(_0x4d760b=Math[_0x186b9d(0x23d)](_0x4d760b,_0x4c4c1f[_0x214d29])),_0x4d760b;}!battleState[_0x2d763d(0x404)][_0x2d763d(0x3d7)]&&(enemyCritRate=Math['random']()*0.99+0.01,enemyCritDamage=Math[_0x2d763d(0x435)]()*1.5+1.5),enemyPet['health']=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x351),enemyPet[_0x2d763d(0x351)])),enemyPet['mana']=Math[_0x2d763d(0x372)](_0x2e8e85('mana',enemyPet[_0x2d763d(0x299)])),enemyPet['physicalAttack']=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x424),enemyPet['physicalAttack'])),enemyPet[_0x2d763d(0x479)]=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x479),enemyPet[_0x2d763d(0x479)])),enemyPet[_0x2d763d(0x40f)]=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x40f),enemyPet['magicAttack'])),enemyPet['magicDefense']=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x268),enemyPet[_0x2d763d(0x268)])),enemyPet[_0x2d763d(0x200)]=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x200),enemyPet[_0x2d763d(0x200)])),enemyPet[_0x2d763d(0x522)]=Math[_0x2d763d(0x372)](_0x2e8e85(_0x2d763d(0x522),enemyPet[_0x2d763d(0x522)])),enemyMaxHealth=enemyPet[_0x2d763d(0x351)],enemyMaxMana=enemyPet[_0x2d763d(0x299)],enemyPetCultivation=enemyPet['cultivation'],battleState[_0x2d763d(0x404)]={...enemyPet},storeEnemyInitialState(),enemyLevel=battleRounds,document[_0x2d763d(0x50b)]('enemy-level')[_0x2d763d(0x246)]=enemyLevel,handleRampaged();}function storeEnemyInitialState(){const _0x153179=_0x5bf82f;enemyInitialState=JSON[_0x153179(0x384)](JSON[_0x153179(0x5f8)](enemyPet));}function restoreEnemyState(){const _0x2403cf=_0x5bf82f;enemyInitialState&&(enemyPet=JSON[_0x2403cf(0x384)](JSON[_0x2403cf(0x5f8)](enemyInitialState)),enemyMaxHealth=enemyPet[_0x2403cf(0x351)],enemyMaxMana=enemyPet[_0x2403cf(0x299)],enemyPetCultivation=enemyPet[_0x2403cf(0x522)],battleState[_0x2403cf(0x404)]={...enemyPet},clearPlayerEffect(),enemyLevel=battleRounds,document[_0x2403cf(0x50b)](_0x2403cf(0x437))['innerText']=enemyLevel);}function storeSummonEnemyInitialState(){const _0x20364c=_0x5bf82f;if(summonEnemy)summonEnemyInitialState=JSON[_0x20364c(0x384)](JSON[_0x20364c(0x5f8)](battleState[_0x20364c(0x404)]));}function restoreSummonEnemyState(){const _0x366043=_0x5bf82f;summonEnemyInitialState&&(enemyPet=JSON[_0x366043(0x384)](JSON[_0x366043(0x5f8)](enemyInitialState)),enemyMaxHealth=enemyPet[_0x366043(0x351)],enemyMaxMana=enemyPet[_0x366043(0x299)],enemyPetCultivation=enemyPet[_0x366043(0x522)],battleState[_0x366043(0x404)]={...enemyPet},clearPlayerEffect(),enemyLevel=battleRounds,document[_0x366043(0x50b)]('enemy-level')[_0x366043(0x246)]=enemyLevel);}function getEnemyStatus(){const _0x3ac985=_0x5bf82f;let _0x28c837=[];if(!playerTurn)_0x28c837[_0x3ac985(0x591)]('⚔️');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x3d7)])_0x28c837[_0x3ac985(0x591)]('狂暴');if(enemyRivival)_0x28c837[_0x3ac985(0x591)](_0x3ac985(0x42c));if(battleState[_0x3ac985(0x404)]['armorBreak'])_0x28c837[_0x3ac985(0x591)]('破甲');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x2f2)])_0x28c837['push']('虚弱');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x536)])_0x28c837[_0x3ac985(0x591)]('重伤');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x2a6)])_0x28c837[_0x3ac985(0x591)]('流血');if(battleState[_0x3ac985(0x404)]['corrode'])_0x28c837[_0x3ac985(0x591)]('腐蚀');if(battleState['enemy'][_0x3ac985(0x226)])_0x28c837['push']('沉睡');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x419)])_0x28c837['push']('穿透');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x5b3)])_0x28c837['push']('沉默');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x5b2)])_0x28c837[_0x3ac985(0x591)]('中毒');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x332)])_0x28c837[_0x3ac985(0x591)]('眩晕');if(battleState[_0x3ac985(0x404)]['intimidated'])_0x28c837['push']('恐吓');if(battleState['enemy']['terrified'])_0x28c837[_0x3ac985(0x591)]('惶恐');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x4a5)])_0x28c837[_0x3ac985(0x591)]('麻痹');if(battleState['enemy'][_0x3ac985(0x208)])_0x28c837[_0x3ac985(0x591)]('混乱');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x3fd)])_0x28c837[_0x3ac985(0x591)]('灼烧');if(battleState[_0x3ac985(0x404)][_0x3ac985(0x507)])_0x28c837[_0x3ac985(0x591)]('迟缓');return _0x28c837[_0x3ac985(0x29e)](',\x20');}function updateEnemyStatusDisplay(){const _0x181b94=_0x5bf82f,_0x632333=document[_0x181b94(0x50b)](_0x181b94(0x3de));_0x632333&&(_0x632333[_0x181b94(0x246)]=getEnemyStatus());}function getPlayerStatus(){const _0x522473=_0x5bf82f;let _0x37dd8b=[];if(playerTurn)_0x37dd8b[_0x522473(0x591)]('⚔️');if(lifeBoxMode)_0x37dd8b[_0x522473(0x591)](_0x522473(0x5f3));if(battleState[_0x522473(0x3d8)][_0x522473(0x409)])_0x37dd8b[_0x522473(0x591)](_0x522473(0x53d));if(battleState[_0x522473(0x3d8)]['shocked'])_0x37dd8b[_0x522473(0x591)]('触电');if(battleState['player'][_0x522473(0x342)])_0x37dd8b['push']('高温');if(battleState[_0x522473(0x3d8)]['shielded'])_0x37dd8b['push']('护盾');if(battleState[_0x522473(0x3d8)][_0x522473(0x4e7)])_0x37dd8b['push']('隐身');if(battleState[_0x522473(0x3d8)][_0x522473(0x2b5)])_0x37dd8b[_0x522473(0x591)](_0x522473(0x5ae));if(battleState['player'][_0x522473(0x4ed)])_0x37dd8b[_0x522473(0x591)](_0x522473(0x5a5));if(battleState['player'][_0x522473(0x353)])_0x37dd8b[_0x522473(0x591)]('北冥');if(battleState[_0x522473(0x3d8)][_0x522473(0x503)])_0x37dd8b['push'](_0x522473(0x430));if(battleState[_0x522473(0x3d8)][_0x522473(0x4ae)])_0x37dd8b['push'](_0x522473(0x4dd));if(battleState[_0x522473(0x3d8)][_0x522473(0x28c)])_0x37dd8b[_0x522473(0x591)]('醉酒');if(battleState[_0x522473(0x3d8)][_0x522473(0x2f4)])_0x37dd8b[_0x522473(0x591)]('撕裂');if(battleState[_0x522473(0x3d8)]['suppressed'])_0x37dd8b[_0x522473(0x591)]('压制');if(battleState[_0x522473(0x3d8)][_0x522473(0x22e)])_0x37dd8b[_0x522473(0x591)]('嘲讽');if(battleState[_0x522473(0x3d8)][_0x522473(0x37a)])_0x37dd8b['push']('封印');if(battleState['player']['slaughter'])_0x37dd8b[_0x522473(0x591)]('杀戮');if(battleState['player']['healingBan'])_0x37dd8b['push']('禁疗');if(battleState[_0x522473(0x3d8)][_0x522473(0x5c0)])_0x37dd8b[_0x522473(0x591)]('摄魂');if(battleState[_0x522473(0x3d8)]['blindfold'])_0x37dd8b['push']('失明');if(battleState[_0x522473(0x3d8)][_0x522473(0x2d4)])_0x37dd8b[_0x522473(0x591)](_0x522473(0x4fa));return _0x37dd8b[_0x522473(0x29e)](',\x20');}function updatePlayerStatusDisplay(){const _0x3dce2c=_0x5bf82f,_0x276115=document[_0x3dce2c(0x50b)]('player-status');_0x276115&&(_0x276115[_0x3dce2c(0x246)]=getPlayerStatus());}function showEffect(_0x1328b6,_0x43b99e){const _0x40fe34=_0x5bf82f,_0x3fc0f8=document['getElementById'](_0x1328b6);_0x3fc0f8[_0x40fe34(0x300)][_0x40fe34(0x29d)]='url('+_0x43b99e+')',_0x3fc0f8[_0x40fe34(0x2df)][_0x40fe34(0x325)](_0x40fe34(0x231)),setTimeout(()=>{const _0x3d7b14=_0x40fe34;_0x3fc0f8['classList'][_0x3d7b14(0x359)]('show-effect'),_0x3fc0f8['style']['backgroundImage']='';},0x15e);}function updateUI(){const _0x3d30af=_0x5bf82f,_0x599950=document['getElementById'](_0x3d30af(0x250)),_0x1e215b=document[_0x3d30af(0x50b)](_0x3d30af(0x395)),_0x378a7f=document['getElementById'](_0x3d30af(0x2ed)),_0x1c98a6=document[_0x3d30af(0x50b)](_0x3d30af(0x5e1));_0x599950['innerText']=battleAttributes[_0x3d30af(0x351)],_0x1e215b[_0x3d30af(0x246)]=maxHealth,_0x378a7f[_0x3d30af(0x246)]=battleAttributes[_0x3d30af(0x299)],_0x1c98a6[_0x3d30af(0x246)]=maxMana,_0x599950[_0x3d30af(0x2df)][_0x3d30af(0x325)](_0x3d30af(0x373)),_0x1e215b['classList']['add']('gold-text'),_0x378a7f['classList']['add'](_0x3d30af(0x229)),_0x1c98a6['classList']['add'](_0x3d30af(0x229));const _0x3753b6=document['getElementById'](_0x3d30af(0x40a)),_0x31dbbb=document['getElementById']('enemy-max-health'),_0x487494=document['getElementById'](_0x3d30af(0x5e5)),_0x3a3974=document[_0x3d30af(0x50b)]('enemy-max-mana');_0x3753b6[_0x3d30af(0x246)]=battleState[_0x3d30af(0x404)]['health'],_0x31dbbb['innerText']=enemyMaxHealth,_0x487494[_0x3d30af(0x246)]=battleState[_0x3d30af(0x404)][_0x3d30af(0x299)],_0x3a3974['innerText']=enemyMaxMana,_0x3753b6[_0x3d30af(0x2df)][_0x3d30af(0x325)](_0x3d30af(0x373)),_0x31dbbb[_0x3d30af(0x2df)][_0x3d30af(0x325)](_0x3d30af(0x373)),_0x487494['classList'][_0x3d30af(0x325)](_0x3d30af(0x229)),_0x3a3974['classList'][_0x3d30af(0x325)]('blue-text'),document[_0x3d30af(0x50b)](_0x3d30af(0x520))[_0x3d30af(0x246)]=battleAttributes[_0x3d30af(0x424)],document[_0x3d30af(0x50b)]('your-pet-physical-defense')[_0x3d30af(0x246)]=battleAttributes[_0x3d30af(0x479)],document['getElementById'](_0x3d30af(0x5b9))[_0x3d30af(0x246)]=battleAttributes[_0x3d30af(0x40f)],document[_0x3d30af(0x50b)]('your-pet-magic-defense')['innerText']=battleAttributes[_0x3d30af(0x268)],document['getElementById'](_0x3d30af(0x2e2))[_0x3d30af(0x246)]=battleAttributes[_0x3d30af(0x200)],document[_0x3d30af(0x50b)](_0x3d30af(0x238))[_0x3d30af(0x246)]=playerCultivation,document[_0x3d30af(0x50b)](_0x3d30af(0x482))[_0x3d30af(0x246)]=playerCultivation,document['getElementById'](_0x3d30af(0x264))['innerText']=battleState[_0x3d30af(0x404)]['physicalAttack'],document[_0x3d30af(0x50b)](_0x3d30af(0x56d))[_0x3d30af(0x246)]=battleState[_0x3d30af(0x404)][_0x3d30af(0x479)],document[_0x3d30af(0x50b)]('enemy-pet-magic-attack')[_0x3d30af(0x246)]=battleState[_0x3d30af(0x404)][_0x3d30af(0x40f)],document[_0x3d30af(0x50b)](_0x3d30af(0x5e7))['innerText']=battleState[_0x3d30af(0x404)][_0x3d30af(0x268)],document[_0x3d30af(0x50b)](_0x3d30af(0x3a2))[_0x3d30af(0x246)]=battleState[_0x3d30af(0x404)][_0x3d30af(0x200)];const _0x416b5d=document[_0x3d30af(0x50b)]('enemy-pet-cultivation');_0x416b5d[_0x3d30af(0x246)]=battleState['enemy'][_0x3d30af(0x522)],document[_0x3d30af(0x50b)]('player-crit-rate')[_0x3d30af(0x246)]=Math[_0x3d30af(0x372)](battleAttributes[_0x3d30af(0x1ff)]*0x64)+'%',document[_0x3d30af(0x50b)]('player-crit-damage')['innerText']=Math[_0x3d30af(0x372)](battleAttributes[_0x3d30af(0x262)]*0x64)+'%',document[_0x3d30af(0x50b)](_0x3d30af(0x5c9))[_0x3d30af(0x246)]=Math[_0x3d30af(0x372)](enemyCritRate*0x64)+'%',document['getElementById'](_0x3d30af(0x3d2))[_0x3d30af(0x246)]=Math[_0x3d30af(0x372)](enemyCritDamage*0x64)+'%',updatePlayerStatusDisplay(),updateEnemyStatusDisplay(),updatePetLevel(),getShieldStatus(),updateHealthAndManaDisplay(),calculateAndDisplayDodgeRate(),document[_0x3d30af(0x50b)](_0x3d30af(0x27d))[_0x3d30af(0x246)]=battleRounds;}document[_0x5bf82f(0x50b)](_0x5bf82f(0x3e1))['addEventListener']('click',()=>{const _0x14e4a3=_0x5bf82f;if(!attributesFetched){showInfoBox(_0x14e4a3(0x4ce));return;}const _0x5c5c22=calculateSkillAttributes(),_0x364f20=new Map([[_0x14e4a3(0x351),'生命值'],['magicAttack','法术攻击'],['magicDefense',_0x14e4a3(0x5d6)],[_0x14e4a3(0x299),_0x14e4a3(0x26e)],['physicalAttack',_0x14e4a3(0x2f3)],[_0x14e4a3(0x479),'物理防御'],[_0x14e4a3(0x200),'速度']]);let _0x2b0d06='';for(const [_0x4d1a93,_0x470d6b]of Object[_0x14e4a3(0x461)](_0x5c5c22)){const _0x679dbc=_0x364f20[_0x14e4a3(0x33d)](_0x4d1a93)||_0x4d1a93;_0x2b0d06+=_0x679dbc+':\x20'+_0x470d6b+'\x0a';}showInfoBox(_0x14e4a3(0x2f1)+_0x2b0d06+_0x14e4a3(0x467));});function updateHealthAndManaDisplay(){const _0x1161fd=_0x5bf82f;updateDisplay(_0x1161fd(0x250),'your-pet-max-health',_0x1161fd(0x351),0x14,'#cc0000'),updateDisplay(_0x1161fd(0x2ed),_0x1161fd(0x5e1),_0x1161fd(0x299),0xa,_0x1161fd(0x58e)),updateDisplay(_0x1161fd(0x40a),'enemy-max-health',_0x1161fd(0x351),0x14,'#cc0000'),updateDisplay(_0x1161fd(0x5e5),_0x1161fd(0x3f7),_0x1161fd(0x299),0xa,_0x1161fd(0x58e));}function updateDisplay(_0x3eb2da,_0x25b649,_0x560e10,_0x4020d4,_0xc34aee){const _0x3122d0=_0x5bf82f,_0x5083c2=document['getElementById'](_0x3eb2da),_0x374a79=document['getElementById'](_0x25b649),_0x154aaf=parseInt(_0x5083c2[_0x3122d0(0x246)]),_0x33d284=parseInt(_0x374a79[_0x3122d0(0x246)]),_0x41a112=_0x154aaf/_0x33d284*0x64;let _0x1087f3;if(_0x560e10===_0x3122d0(0x351))_0x3eb2da===_0x3122d0(0x250)&&extraShield!==0x0?_0x1087f3=_0x3122d0(0x577):_0x1087f3=_0x3122d0(0x588);else _0x560e10===_0x3122d0(0x299)&&(_0x1087f3=_0x3122d0(0x3cc));_0x5083c2[_0x3122d0(0x33c)]=_0x3122d0(0x333)+_0x3eb2da+_0x3122d0(0x39f)+_0x41a112+_0x3122d0(0x4c3)+_0x1087f3+';\x20text-align:\x20center;\x20color:\x20white;\x20font-size:\x2012px;\x20font-weight:\x20bold;\x20transition:\x20width\x200.5s\x20ease-in-out;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22text-stroke:\x201px\x20black;\x22>'+_0x154aaf+'/'+_0x33d284+_0x3122d0(0x3ee)+(_0x41a112<_0x4020d4?_0x3122d0(0x560)+_0x3eb2da+_0x3122d0(0x289)+_0xc34aee+_0x3122d0(0x3da):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x374a79[_0x3122d0(0x300)]['display']=_0x3122d0(0x504);}let damageRatio=0x1;function calculateDamage(_0x252c6d,_0x5203c9,_0x3d826d,_0x2c48c2=![]){const _0x579a03=_0x5bf82f;return _0x5203c9&&(_0x252c6d=Math[_0x579a03(0x5c6)](_0x252c6d*_0x3d826d)),_0x2c48c2&&(_0x252c6d*=Math['floor'](Math[_0x579a03(0x4ba)](0x0,damageRatio))),_0x252c6d;}function checkCriticalHit(_0xdcab36){const _0x5e65b8=_0x5bf82f;return Math[_0x5e65b8(0x435)]()<_0xdcab36;}function calculateAndDisplayDodgeRate(){const _0x42ee91=_0x5bf82f;let _0x11cc74,_0x2069d6,_0x38e889=document[_0x42ee91(0x50b)](_0x42ee91(0x590)),_0x4e8e55=document[_0x42ee91(0x50b)]('player-magic-dodge-rate'),_0x406eb7=document[_0x42ee91(0x50b)](_0x42ee91(0x2d5)),_0x4b3624=document[_0x42ee91(0x50b)](_0x42ee91(0x1f3)),_0x5e8ca3=0x0;if(battleState[_0x42ee91(0x3d8)][_0x42ee91(0x4e7)])_0x5e8ca3=0.2;_0x11cc74=battleAttributes[_0x42ee91(0x200)]-battleState['enemy'][_0x42ee91(0x200)],_0x11cc74>0x0?(_0x38e889[_0x42ee91(0x246)]=(Math['min'](Math[_0x42ee91(0x278)](_0x11cc74)/0x9c4*0.01+_0x5e8ca3,0.8)*0x64)['toFixed'](0x2)+'%',_0x406eb7[_0x42ee91(0x246)]='0%'):(_0x406eb7[_0x42ee91(0x246)]=(Math[_0x42ee91(0x23d)](Math[_0x42ee91(0x278)](_0x11cc74)/0x9c4*0.01,0.8)*0x64)['toFixed'](0x2)+'%',_0x38e889[_0x42ee91(0x246)]='0%'),_0x2069d6=playerCultivation-enemyPetCultivation,_0x2069d6>0x0?(_0x4e8e55['innerText']=(Math[_0x42ee91(0x23d)](Math['abs'](_0x2069d6)/0x88b8*0.01+_0x5e8ca3,0.8)*0x64)[_0x42ee91(0x3ca)](0x2)+'%',_0x4b3624[_0x42ee91(0x246)]='0%'):(_0x4b3624[_0x42ee91(0x246)]=(Math[_0x42ee91(0x23d)](Math[_0x42ee91(0x278)](_0x2069d6)/0x88b8*0.01,0.8)*0x64)[_0x42ee91(0x3ca)](0x2)+'%',_0x4e8e55[_0x42ee91(0x246)]='0%');}function handleDodge(_0x1e5649){const _0x608181=_0x5bf82f;let _0x5ba6d9,_0x58c0ed=0x0,_0x5afd73,_0x4bf888=0x0;if(battleState['player'][_0x608181(0x4e7)])_0x4bf888=0.2;if(_0x1e5649==='player')_0x5ba6d9=battleAttributes[_0x608181(0x200)]-battleState[_0x608181(0x404)][_0x608181(0x200)],_0x5ba6d9>0x0&&(_0x58c0ed=Math[_0x608181(0x23d)](Math[_0x608181(0x278)](_0x5ba6d9)/0x9c4*0.01+_0x4bf888,0.8)),_0x5afd73=document['getElementById']('your-pet-image'),console['log'](_0x608181(0x4e4)+_0x58c0ed);else{if(_0x1e5649===_0x608181(0x404))_0x5ba6d9=battleState[_0x608181(0x404)]['speed']-battleAttributes['speed'],_0x5ba6d9>0x0&&(_0x58c0ed=Math[_0x608181(0x23d)](Math[_0x608181(0x278)](_0x5ba6d9)/0x9c4*0.01,0.8)),_0x5afd73=document[_0x608181(0x50b)]('enemy-image'),console['log'](_0x608181(0x4df)+_0x58c0ed);else return console[_0x608181(0x28a)](_0x608181(0x578)),![];}const _0x3a71ec=Math[_0x608181(0x435)](),_0x290b1c=_0x3a71ec<_0x58c0ed;console[_0x608181(0x528)](_0x608181(0x5f1)+_0x3a71ec);if(_0x290b1c)return _0x1e5649===_0x608181(0x3d8)?(_0x5afd73[_0x608181(0x300)][_0x608181(0x302)]=_0x608181(0x288),showEffect('enemyEffect','https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png')):(_0x5afd73[_0x608181(0x300)][_0x608181(0x302)]='0.5',showEffect(_0x608181(0x36d),_0x608181(0x40b))),setTimeout(()=>{const _0x1ecb74=_0x608181;_0x5afd73[_0x1ecb74(0x300)]['opacity']='';},0x64),!![];return![];}function handleMagicDodge(_0x561400){const _0x1dd914=_0x5bf82f;let _0x5d1dc7,_0x3e167e=0x0,_0x2e70d8,_0x1aa810=0x0;if(battleState[_0x1dd914(0x3d8)][_0x1dd914(0x4e7)])_0x1aa810=0.2;if(_0x561400===_0x1dd914(0x3d8))_0x5d1dc7=playerCultivation-enemyPetCultivation,_0x5d1dc7>0x0&&(_0x3e167e=Math[_0x1dd914(0x23d)](Math[_0x1dd914(0x278)](_0x5d1dc7)/0x88b8*0.01+_0x1aa810,0.8)),battleState[_0x1dd914(0x3d8)]['hidden']&&(_0x3e167e=Math[_0x1dd914(0x23d)](0.8,_0x3e167e+0.2)),_0x2e70d8=document['getElementById'](_0x1dd914(0x295)),console['log'](_0x1dd914(0x396)+_0x3e167e);else{if(_0x561400===_0x1dd914(0x404))_0x5d1dc7=enemyPetCultivation-playerCultivation,_0x5d1dc7>0x0&&(_0x3e167e=Math[_0x1dd914(0x23d)](Math[_0x1dd914(0x278)](_0x5d1dc7)/0x88b8*0.01,0.8)),_0x2e70d8=document['getElementById'](_0x1dd914(0x1fd)),console['log'](_0x1dd914(0x251)+_0x3e167e);else return console[_0x1dd914(0x28a)](_0x1dd914(0x2c0)),![];}const _0x5b352d=Math[_0x1dd914(0x435)](),_0x5934ad=_0x5b352d<_0x3e167e;console[_0x1dd914(0x528)]('魔法闪避随机数为：'+_0x5b352d);if(_0x5934ad)return _0x561400===_0x1dd914(0x3d8)?(_0x2e70d8[_0x1dd914(0x300)][_0x1dd914(0x302)]=_0x1dd914(0x288),showEffect(_0x1dd914(0x592),'https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png')):(_0x2e70d8[_0x1dd914(0x300)][_0x1dd914(0x302)]=_0x1dd914(0x288),showEffect(_0x1dd914(0x36d),_0x1dd914(0x40b))),setTimeout(()=>{const _0x501e71=_0x1dd914;_0x2e70d8[_0x501e71(0x300)][_0x501e71(0x302)]='';},0x64),!![];return![];}function levelUpSkill(){const _0x1393f6=_0x5bf82f;if(battleState[_0x1393f6(0x3d8)][_0x1393f6(0x22e)]){performAttack(_0x1393f6(0x3be));return;}const _0x345a9e=document[_0x1393f6(0x472)](_0x1393f6(0x221));_0x345a9e[_0x1393f6(0x300)][_0x1393f6(0x32c)]=_0x1393f6(0x2e7),_0x345a9e['style'][_0x1393f6(0x54a)]='0',_0x345a9e['style'][_0x1393f6(0x3a5)]='0',_0x345a9e['style'][_0x1393f6(0x3fc)]='100%',_0x345a9e['style'][_0x1393f6(0x3ed)]=_0x1393f6(0x4fe),_0x345a9e[_0x1393f6(0x300)][_0x1393f6(0x5eb)]=_0x1393f6(0x584),_0x345a9e[_0x1393f6(0x300)][_0x1393f6(0x48a)]=_0x1393f6(0x406),_0x345a9e[_0x1393f6(0x300)][_0x1393f6(0x358)]=_0x1393f6(0x4b2),_0x345a9e[_0x1393f6(0x300)]['alignItems']='center',_0x345a9e['style'][_0x1393f6(0x399)]=_0x1393f6(0x5a2);const _0x3b9edd=document[_0x1393f6(0x472)](_0x1393f6(0x221));_0x3b9edd['style']='width:\x2085%;max-height:\x2080%;background-color:\x20rgba(0,\x200,\x200,\x200.1);color:\x20white;border:\x201px\x20solid\x20rgb(221,\x20221,\x20221);padding:\x2020px;overflow-y:\x20scroll;position:\x20relative;display:\x20flex;flex-direction:\x20column;justify-content:\x20center;align-items:\x20stretch;';const _0x1c9e52=document[_0x1393f6(0x472)]('h2');_0x1c9e52[_0x1393f6(0x246)]='升级技能',_0x1c9e52[_0x1393f6(0x300)][_0x1393f6(0x54b)]=_0x1393f6(0x4b2),_0x3b9edd['appendChild'](_0x1c9e52);const _0x4a7e98=document['createElement'](_0x1393f6(0x428));_0x4a7e98[_0x1393f6(0x246)]='X',_0x4a7e98[_0x1393f6(0x300)]['position']='absolute',_0x4a7e98[_0x1393f6(0x300)][_0x1393f6(0x54a)]=_0x1393f6(0x445),_0x4a7e98[_0x1393f6(0x300)][_0x1393f6(0x496)]=_0x1393f6(0x445),_0x4a7e98[_0x1393f6(0x300)][_0x1393f6(0x448)]=_0x1393f6(0x27e),_0x4a7e98[_0x1393f6(0x300)]['fontSize']=_0x1393f6(0x517),_0x4a7e98['style'][_0x1393f6(0x2f5)]=_0x1393f6(0x52d),_0x4a7e98[_0x1393f6(0x1fc)]=()=>document[_0x1393f6(0x25f)][_0x1393f6(0x602)](_0x345a9e),_0x3b9edd['appendChild'](_0x4a7e98);const _0x7d77ce=document[_0x1393f6(0x472)](_0x1393f6(0x221));_0x7d77ce[_0x1393f6(0x300)][_0x1393f6(0x48a)]=_0x1393f6(0x3c2),_0x7d77ce[_0x1393f6(0x300)]['color']=_0x1393f6(0x5ec),_0x7d77ce[_0x1393f6(0x300)][_0x1393f6(0x39e)]=_0x1393f6(0x23f),_0x7d77ce[_0x1393f6(0x300)][_0x1393f6(0x477)]=_0x1393f6(0x2a4),_0x7d77ce[_0x1393f6(0x300)][_0x1393f6(0x59a)]=_0x1393f6(0x445),_0x3b9edd['appendChild'](_0x7d77ce);const _0x562496=document[_0x1393f6(0x472)](_0x1393f6(0x221));_0x562496[_0x1393f6(0x246)]=_0x1393f6(0x3fb),_0x562496['style']='display:\x20flex;color:\x20white;font-size:\x2014px;gap:\x2010px;padding:\x2020px;height:\x20110px;align-items:\x20center;border:\x201px\x20solid\x20#fff;margin-top:\x2010px;border-radius:\x202px;',_0x3b9edd[_0x1393f6(0x455)](_0x562496);function _0x318b28(){const _0x41b775=_0x1393f6;_0x7d77ce[_0x41b775(0x33c)]='';const _0x57860e=document[_0x41b775(0x50b)](_0x41b775(0x497)),_0x5f4ffc=Array['from'](_0x57860e[_0x41b775(0x2cc)]),_0x470787=['PA',_0x41b775(0x207),'MA',_0x41b775(0x2d7),'PP',_0x41b775(0x583),'PH',_0x41b775(0x5d7),'TC'];_0x5f4ffc[_0x41b775(0x35e)](_0x973bcf=>{const _0x1d4bd9=_0x41b775,_0x48ee36=_0x973bcf[_0x1d4bd9(0x246)][_0x1d4bd9(0x287)]('\x20')[0x0],_0x2c3df6=currentPet[_0x1d4bd9(0x48f)][_0x1d4bd9(0x37d)](_0x547884=>_0x547884[_0x1d4bd9(0x3eb)]===_0x48ee36);if(_0x2c3df6){const _0x349c75=calculateSkillLevelAndMultiplier(_0x2c3df6);_0x2c3df6[_0x1d4bd9(0x48e)]=_0x349c75[_0x1d4bd9(0x600)];const _0x230081=document['createElement'](_0x1d4bd9(0x221));_0x230081[_0x1d4bd9(0x246)]=_0x2c3df6[_0x1d4bd9(0x3eb)]+_0x1d4bd9(0x32b)+_0x2c3df6[_0x1d4bd9(0x48e)],_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x32e)]=_0x1d4bd9(0x445),_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x5eb)]=_0x1d4bd9(0x3a1),_0x230081[_0x1d4bd9(0x300)]['border']='1px\x20solid\x20#000',_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x258)]=_0x1d4bd9(0x383),_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x448)]='pointer',_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x54b)]='center',_0x230081[_0x1d4bd9(0x300)][_0x1d4bd9(0x3ce)]=_0x1d4bd9(0x532),_0x230081['onclick']=()=>{const _0x180b45=_0x1d4bd9;document[_0x180b45(0x408)](_0x180b45(0x4d1))[_0x180b45(0x35e)](_0x54bb58=>{const _0x442532=_0x180b45;_0x54bb58[_0x442532(0x2df)][_0x442532(0x359)](_0x442532(0x544)),_0x54bb58['style'][_0x442532(0x5eb)]='#fff',_0x54bb58[_0x442532(0x300)][_0x442532(0x42a)]=_0x442532(0x4c1);}),_0x230081[_0x180b45(0x2df)][_0x180b45(0x325)]('selected-skill'),_0x230081['style'][_0x180b45(0x5eb)]=_0x180b45(0x5d5),_0x230081[_0x180b45(0x300)][_0x180b45(0x42a)]=_0x180b45(0x407);const _0x2408ee=calculateSkillLevelAndMultiplier(_0x2c3df6)[_0x180b45(0x3c8)],_0x38e8e2=_0x470787[_0x180b45(0x3d1)](_0x2c3df6[_0x180b45(0x4f7)])?'，当前技能倍率为'+Math[_0x180b45(0x5c6)](_0x2408ee*0x64)+'%':'';_0x562496[_0x180b45(0x246)]=_0x2c3df6[_0x180b45(0x4ee)]+'技能'+_0x38e8e2+_0x180b45(0x457)+_0x2c3df6[_0x180b45(0x1fa)];},_0x7d77ce[_0x1d4bd9(0x455)](_0x230081);}});}_0x318b28();const _0x19c195=document[_0x1393f6(0x472)](_0x1393f6(0x221));_0x19c195[_0x1393f6(0x300)][_0x1393f6(0x2c5)]='20px',_0x19c195['style'][_0x1393f6(0x48a)]='flex',_0x19c195['style']['flexDirection']='row',_0x19c195[_0x1393f6(0x300)]['justifyContent']=_0x1393f6(0x3bd),_0x19c195[_0x1393f6(0x300)][_0x1393f6(0x54b)]=_0x1393f6(0x4b2),_0x3b9edd[_0x1393f6(0x455)](_0x19c195);const _0x5224c1=document[_0x1393f6(0x472)]('button');_0x5224c1[_0x1393f6(0x246)]=_0x1393f6(0x2bc),_0x5224c1[_0x1393f6(0x300)]['padding']='10px\x2020px',_0x5224c1[_0x1393f6(0x300)][_0x1393f6(0x254)]='5px',_0x5224c1[_0x1393f6(0x300)][_0x1393f6(0x258)]='8px',_0x5224c1['style'][_0x1393f6(0x553)]='none',_0x5224c1['style'][_0x1393f6(0x5eb)]=_0x1393f6(0x5ea),_0x5224c1[_0x1393f6(0x300)]['color']=_0x1393f6(0x52d),_0x5224c1['style'][_0x1393f6(0x448)]=_0x1393f6(0x27e),_0x5224c1[_0x1393f6(0x300)][_0x1393f6(0x39e)]=_0x1393f6(0x23f),_0x5224c1[_0x1393f6(0x300)]['transition']=_0x1393f6(0x3e0),_0x5224c1[_0x1393f6(0x1f0)]=()=>_0x5224c1[_0x1393f6(0x300)][_0x1393f6(0x5eb)]='#218838',_0x5224c1['onmouseout']=()=>_0x5224c1[_0x1393f6(0x300)][_0x1393f6(0x5eb)]='#28a745',_0x5224c1[_0x1393f6(0x1fc)]=()=>{handleLevelUp(),_0x318b28();},_0x19c195[_0x1393f6(0x455)](_0x5224c1);const _0x10f3c4=document[_0x1393f6(0x472)](_0x1393f6(0x249));_0x10f3c4['innerText']=_0x1393f6(0x558),_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x32e)]=_0x1393f6(0x45c),_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x254)]=_0x1393f6(0x469),_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x258)]=_0x1393f6(0x383),_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x553)]=_0x1393f6(0x504),_0x10f3c4['style'][_0x1393f6(0x5eb)]=_0x1393f6(0x401),_0x10f3c4[_0x1393f6(0x300)]['color']=_0x1393f6(0x52d),_0x10f3c4['style']['cursor']='pointer',_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x39e)]=_0x1393f6(0x23f),_0x10f3c4[_0x1393f6(0x300)]['transition']=_0x1393f6(0x3e0),_0x10f3c4['onmouseover']=()=>_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x5eb)]=_0x1393f6(0x53c),_0x10f3c4['onmouseout']=()=>_0x10f3c4[_0x1393f6(0x300)][_0x1393f6(0x5eb)]=_0x1393f6(0x401),_0x10f3c4[_0x1393f6(0x1fc)]=()=>{handleBulkLevelUp(),_0x318b28();},_0x19c195[_0x1393f6(0x455)](_0x10f3c4);const _0x4a8ab7=document[_0x1393f6(0x472)](_0x1393f6(0x249));_0x4a8ab7[_0x1393f6(0x246)]=_0x1393f6(0x55a),_0x4a8ab7['style'][_0x1393f6(0x32e)]='10px\x2020px',_0x4a8ab7['style'][_0x1393f6(0x254)]=_0x1393f6(0x469),_0x4a8ab7['style'][_0x1393f6(0x258)]=_0x1393f6(0x383),_0x4a8ab7[_0x1393f6(0x300)]['border']=_0x1393f6(0x504),_0x4a8ab7[_0x1393f6(0x300)][_0x1393f6(0x5eb)]='#17a2b8',_0x4a8ab7['style']['color']=_0x1393f6(0x52d),_0x4a8ab7[_0x1393f6(0x300)][_0x1393f6(0x448)]=_0x1393f6(0x27e),_0x4a8ab7[_0x1393f6(0x300)][_0x1393f6(0x39e)]=_0x1393f6(0x23f),_0x4a8ab7[_0x1393f6(0x300)]['transition']=_0x1393f6(0x3e0),_0x4a8ab7[_0x1393f6(0x1f0)]=()=>_0x4a8ab7[_0x1393f6(0x300)][_0x1393f6(0x5eb)]=_0x1393f6(0x5e4),_0x4a8ab7['onmouseout']=()=>_0x4a8ab7['style'][_0x1393f6(0x5eb)]=_0x1393f6(0x313),_0x4a8ab7[_0x1393f6(0x1fc)]=()=>showInfoBox(_0x1393f6(0x5fb)),_0x19c195[_0x1393f6(0x455)](_0x4a8ab7),_0x345a9e[_0x1393f6(0x455)](_0x3b9edd),document[_0x1393f6(0x25f)]['appendChild'](_0x345a9e);}function handleLevelUp(){const _0x4e44ff=_0x5bf82f,_0x4ce14a=document[_0x4e44ff(0x5e3)](_0x4e44ff(0x4d1));if(!_0x4ce14a){showInfoBox('请选择一个技能！');return;}const _0x19f5b0=_0x4ce14a[_0x4e44ff(0x246)][_0x4e44ff(0x287)]('\x20')[0x0],_0x3baafa=currentPet['skills']['find'](_0x50ac58=>_0x50ac58[_0x4e44ff(0x3eb)]===_0x19f5b0);if(!_0x3baafa){showInfoBox('未找到该技能！');return;}if(_0x3baafa[_0x4e44ff(0x48e)]>=0x1e&&!_0x3baafa[_0x4e44ff(0x371)]){showInfoBox(_0x4e44ff(0x508),'red');return;}if(_0x3baafa[_0x4e44ff(0x48e)]>=0x6&&_0x3baafa['type']==='NE'&&_0x3baafa[_0x4e44ff(0x371)]){_0x3baafa[_0x4e44ff(0x48e)]=0x6;return;}if(_0x3baafa[_0x4e44ff(0x371)]){const _0x4ee79a=jinnangItems[_0x4e44ff(0x37d)](_0x520e63=>_0x520e63[_0x4e44ff(0x59e)]===_0x3baafa[_0x4e44ff(0x3eb)]+_0x4e44ff(0x3c5)&&_0x520e63[_0x4e44ff(0x53f)]>0x0);if(_0x4ee79a){return showCustomOptionsBox(_0x4e44ff(0x385)+_0x4ee79a[_0x4e44ff(0x59e)]+_0x4e44ff(0x4b4),[{'text':'宇宙之心','onClick':function(){const _0x529ae6=_0x4e44ff;if(_0x3baafa[_0x529ae6(0x48e)]>0x63){showInfoBox('该技能已达到最大等级！',null,null,_0x529ae6(0x30c));return;}const _0x59be12=jinnangItems[_0x529ae6(0x37d)](_0x49cd3b=>_0x49cd3b[_0x529ae6(0x3eb)]===_0x529ae6(0x1f8)&&_0x49cd3b[_0x529ae6(0x53f)]>=0x5);_0x59be12?(useItem(_0x529ae6(0x1f8),0x5),_0x3baafa[_0x529ae6(0x48e)]+=0x1,showInfoBox(_0x3baafa[_0x529ae6(0x3eb)]+_0x529ae6(0x52f)+_0x3baafa[_0x529ae6(0x48e)]+'\x20级')):showInfoBox(_0x529ae6(0x595),null,null,_0x529ae6(0x30c));}},{'text':''+_0x4ee79a[_0x4e44ff(0x59e)],'onClick':function(){const _0x1a697e=_0x4e44ff;if(_0x3baafa[_0x1a697e(0x48e)]>0x63){showInfoBox('该技能已达到最大等级！',null,null,_0x1a697e(0x30c));return;}Math[_0x1a697e(0x435)]()<0.2?(useItem(_0x4ee79a['name'],0x1),_0x3baafa['level']+=0x1,showInfoBox('消耗一本'+_0x4ee79a['displayName']+'，'+_0x3baafa['name']+_0x1a697e(0x52f)+_0x3baafa['level']+'\x20级！')):(useItem(_0x4ee79a[_0x1a697e(0x3eb)],0x1),showInfoBox(_0x1a697e(0x572)+_0x4ee79a['displayName']+_0x1a697e(0x4d3)+_0x3baafa[_0x1a697e(0x3eb)]+_0x1a697e(0x434),null,null,_0x1a697e(0x30c)));}}],_0x4e44ff(0x3b0));return;}const _0x4469df=jinnangItems[_0x4e44ff(0x37d)](_0x3cfb78=>_0x3cfb78[_0x4e44ff(0x3eb)]===_0x4e44ff(0x1f8)&&_0x3cfb78['quantity']>=0x5);if(_0x4469df){if(_0x3baafa[_0x4e44ff(0x48e)]>0x63){showInfoBox('该技能已达到最大等级！',null,null,_0x4e44ff(0x30c));return;}useItem(_0x4e44ff(0x1f8),0x5),_0x3baafa[_0x4e44ff(0x48e)]+=0x1,showInfoBox(_0x3baafa[_0x4e44ff(0x3eb)]+_0x4e44ff(0x52f)+_0x3baafa[_0x4e44ff(0x48e)]+'\x20级');return;}else{showInfoBox(_0x4e44ff(0x51b),null,null,_0x4e44ff(0x30c));return;}}const _0x53da71=_0x2f0b7b=>Math[_0x4e44ff(0x435)]()<_0x2f0b7b;if(_0x3baafa['level']>=0x1c&&_0x3baafa[_0x4e44ff(0x48e)]<=0x1d){if(useItem(_0x4e44ff(0x594),0x5)){_0x53da71(0.4)?(_0x3baafa[_0x4e44ff(0x48e)]+=0x1,showInfoBox(_0x3baafa['name']+'\x20成功升级至\x20'+_0x3baafa[_0x4e44ff(0x48e)]+'\x20级')):showInfoBox(_0x3baafa[_0x4e44ff(0x3eb)]+_0x4e44ff(0x5dd),null,null,_0x4e44ff(0x30c));return;}else{showInfoBox(_0x4e44ff(0x50a),null,null,_0x4e44ff(0x30c));return;}}if(_0x3baafa[_0x4e44ff(0x48e)]>=0x18&&_0x3baafa[_0x4e44ff(0x48e)]<=0x1b){if(useItem(_0x4e44ff(0x30a),0x5)){_0x53da71(0.4)?(_0x3baafa[_0x4e44ff(0x48e)]+=0x1,showInfoBox(_0x3baafa[_0x4e44ff(0x3eb)]+_0x4e44ff(0x52f)+_0x3baafa[_0x4e44ff(0x48e)]+'\x20级')):showInfoBox(_0x3baafa[_0x4e44ff(0x3eb)]+_0x4e44ff(0x5dd),null,null,_0x4e44ff(0x30c));return;}else{showInfoBox(_0x4e44ff(0x36f),null,null,_0x4e44ff(0x30c));return;}}if(_0x3baafa['level']<0xa){showInfoBox(_0x4e44ff(0x323));return;}if(_0x3baafa[_0x4e44ff(0x48e)]>=0x14){showInfoBox(_0x4e44ff(0x486));return;}const _0x5778b1=_0x3baafa[_0x4e44ff(0x48e)]+0x1,_0x181c37=0x3e8+0xc8*(_0x5778b1-0xb);if(currentExp<_0x181c37){showInfoBox(_0x4e44ff(0x2b0)+_0x181c37+_0x4e44ff(0x5af));return;}currentExp-=_0x181c37,_0x3baafa[_0x4e44ff(0x48e)]=_0x5778b1,showInfoBox(_0x4e44ff(0x27a)+_0x181c37+_0x4e44ff(0x2cd)+_0x3baafa['name']+_0x4e44ff(0x54d)+_0x5778b1+_0x4e44ff(0x286)),updateExpBar(currentExp,maxExp),updateUI();}function handleBulkLevelUp(){const _0x113f1a=_0x5bf82f,_0x2f6fcf=[];currentPet[_0x113f1a(0x48f)][_0x113f1a(0x35e)](_0x4ce605=>{const _0x16edfd=_0x113f1a;while(!_0x4ce605[_0x16edfd(0x371)]&&_0x4ce605[_0x16edfd(0x48e)]>=0xa&&_0x4ce605['level']<0x14&&currentExp>=0x4b0+0xc8*(_0x4ce605[_0x16edfd(0x48e)]-0xa)){const _0x228a0d=0x4b0+0xc8*(_0x4ce605['level']-0xa);currentExp-=_0x228a0d,_0x4ce605['level']+=0x1,_0x2f6fcf['push'](_0x16edfd(0x3e9)+_0x228a0d+_0x16edfd(0x4eb)+_0x4ce605[_0x16edfd(0x3eb)]+'\x20成功升至\x20'+_0x4ce605[_0x16edfd(0x48e)]+_0x16edfd(0x286));}}),_0x2f6fcf[_0x113f1a(0x490)]===0x0?showInfoBox(_0x113f1a(0x58f)):showInfoBox(_0x2f6fcf['join']('\x0a')),updateExpBar(currentExp,maxExp),updateUI();}function getSkillByType(_0x42fb78){const _0x7898bd=_0x5bf82f,_0x4219a0=document[_0x7898bd(0x50b)](_0x7898bd(0x497));if(!_0x4219a0)return console['error'](_0x7898bd(0x35f)),null;const _0x408871=Array['from'](_0x4219a0[_0x7898bd(0x2cc)])[_0x7898bd(0x352)](_0x3c7124=>{const _0x851920=_0x7898bd,_0x1ebf35=_0x3c7124[_0x851920(0x246)][_0x851920(0x287)]('\x20')[0x0],_0x49ecd9=currentPet[_0x851920(0x48f)][_0x851920(0x37d)](_0x3f4c80=>_0x3f4c80[_0x851920(0x3eb)]===_0x1ebf35&&_0x3f4c80[_0x851920(0x4f7)]===_0x42fb78);return _0x49ecd9;})[_0x7898bd(0x2f9)](_0x193926=>_0x193926!==null);return _0x408871[_0x7898bd(0x490)]>0x0?_0x408871[Math[_0x7898bd(0x5c6)](Math[_0x7898bd(0x435)]()*_0x408871[_0x7898bd(0x490)])]:null;}function calculateSkillLevelAndMultiplier(_0x57e302){const _0x512df1=_0x5bf82f;let _0x2efbcf=_0x57e302[_0x512df1(0x48e)]||0x1;if(_0x57e302[_0x512df1(0x4f7)]==='NE'&&_0x57e302[_0x512df1(0x371)])_0x2efbcf=Math[_0x512df1(0x23d)](0x6,Math[_0x512df1(0x5c6)](petLevel/0xa)+0x1);else _0x2efbcf<0xa&&(_0x2efbcf=Math[_0x512df1(0x23d)](0xa,Math[_0x512df1(0x5c6)](petLevel/0xa)+0x1));const _0x6c1d71=_0x57e302[_0x512df1(0x44c)]*(0x1+0.1*(_0x2efbcf-0x1));return{'skillLevel':_0x2efbcf,'skillMultiplier':_0x6c1d71};}function selectSkillAndCalculateMultiplier(_0x51a307){const _0x3c211a=_0x5bf82f;let _0x257084=[],_0x5157f9=0x1,_0x1579f0=0x1,_0x3dcb5d=![];const _0x358350=document[_0x3c211a(0x50b)](_0x3c211a(0x497)),_0x41d891=Array[_0x3c211a(0x43e)](_0x358350[_0x3c211a(0x2cc)]);_0x41d891[_0x3c211a(0x35e)](_0x38b5d2=>{const _0x39d337=_0x3c211a,_0x55ba87=_0x38b5d2[_0x39d337(0x246)][_0x39d337(0x287)]('\x20')[0x0],_0x97107b=currentPet['skills'][_0x39d337(0x37d)](_0x267f98=>_0x267f98['name']===_0x55ba87);if(_0x97107b){if(_0x51a307===_0x39d337(0x3be)&&(_0x97107b[_0x39d337(0x4f7)]==='PA'||_0x97107b[_0x39d337(0x4f7)]===_0x39d337(0x207)))_0x257084['push'](_0x97107b);else _0x51a307==='magical'&&(_0x97107b['type']==='MA'||_0x97107b[_0x39d337(0x4f7)]===_0x39d337(0x2d7))&&_0x257084[_0x39d337(0x591)](_0x97107b);}});const _0x2ae6f2=Math[_0x3c211a(0x5c6)](Math[_0x3c211a(0x435)]()*_0x257084['length']),_0x54e8f9=_0x257084[_0x2ae6f2];if(_0x257084[_0x3c211a(0x490)]>0x0){const _0x4d3d2b=calculateSkillLevelAndMultiplier(_0x54e8f9);_0x1579f0=_0x4d3d2b[_0x3c211a(0x600)],_0x5157f9=_0x4d3d2b[_0x3c211a(0x3c8)],_0x3dcb5d=!![],logBattleEvent('你施放了\x20'+_0x54e8f9[_0x3c211a(0x3eb)]+'\x20'+_0x1579f0+'级。',_0x3c211a(0x5b8),'20px');if(_0x51a307==='physical'){const _0x2acb5c=Math['floor'](Math[_0x3c211a(0x435)]()*(0xc8-0x32+0x1)*_0x1579f0);battleAttributes[_0x3c211a(0x299)]=Math[_0x3c211a(0x4ba)](0x0,battleAttributes[_0x3c211a(0x299)]-_0x2acb5c),showEffect(_0x3c211a(0x36d),_0x3c211a(0x50e));}else _0x51a307===_0x3c211a(0x58c)&&showEffect(_0x3c211a(0x36d),_0x3c211a(0x444));}else{if(_0x51a307===_0x3c211a(0x3be))logBattleEvent(_0x3c211a(0x5b4),null,_0x3c211a(0x5cb)),showEffect(_0x3c211a(0x36d),'https://pic.imgdb.cn/item/667123f9d9c307b7e9e34049.gif');else _0x51a307===_0x3c211a(0x58c)&&(logBattleEvent(_0x3c211a(0x427),null,_0x3c211a(0x5cb)),showEffect(_0x3c211a(0x36d),_0x3c211a(0x273)));}return{'skillMultiplier':_0x5157f9,'isSkillUsed':_0x3dcb5d,'selectedSkill':_0x54e8f9};}function performAttack(_0x42a090){const _0xcac829=_0x5bf82f;if(!attributesFetched||!battleState||!battleState[_0xcac829(0x404)]||!playerTurn)return;let _0x543802=battleState[_0xcac829(0x3d8)][_0xcac829(0x22e)]?_0xcac829(0x3be):_0x42a090;const {skillMultiplier:_0x40de8b,isSkillUsed:_0x1eefa0,selectedSkill:_0x250342}=selectSkillAndCalculateMultiplier(_0x543802);let _0x41590c=0x0,_0x4c00b6=![];if(_0x250342&&(_0x250342['type']==='PAE'||_0x250342[_0xcac829(0x4f7)]===_0xcac829(0x2d7)))applySpecialSkillEffects(_0x250342);else{if(_0x543802===_0xcac829(0x3be))_0x41590c=performPhysicalAttack(_0x40de8b,_0x1eefa0,_0x250342),handlePostAttackEffects(_0x543802,_0x41590c,{'selectedSkill':_0x250342,'isCritical':checkCriticalHit(battleState[_0xcac829(0x3d8)][_0xcac829(0x1ff)]),'skillMultiplier':_0x40de8b});else{const _0x46fdbd=performMagicalAttack(_0x40de8b,_0x1eefa0,_0x250342);if(_0x46fdbd[_0xcac829(0x3bc)]){performAttack('physical');return;}_0x41590c=_0x46fdbd[_0xcac829(0x5cd)],handlePostAttackEffects(_0x543802,_0x41590c,{'selectedSkill':_0x250342,'isCritical':checkCriticalHit(battleState['player'][_0xcac829(0x1ff)]),'skillMultiplier':_0x40de8b});}}if(battleState[_0xcac829(0x404)][_0xcac829(0x351)]<=0x0){updateEnemyAttributes(),showNextBattlePrompt(!![]);return;}else{if(battleAttributes[_0xcac829(0x351)]<=0x0){showNextBattlePrompt(![]);return;}}playerTurn=![],updateUI();};function performPhysicalAttack(_0x30fb5a,_0x2a894c,_0x3e6091){const _0x3ec317=_0x5bf82f,_0x39c922=Math['random']()*(1.2-0.8)+0.8,_0x571478=battleState[_0x3ec317(0x404)][_0x3ec317(0x479)]*_0x39c922,_0x4fdf33=f(_0x571478),_0x3de5fa=Math[_0x3ec317(0x372)](battleState[_0x3ec317(0x404)][_0x3ec317(0x479)]*0.1);let _0x212cc3;_0x4fdf33!==0x0?_0x212cc3=Math[_0x3ec317(0x4ba)](0x1,Math[_0x3ec317(0x5c6)](battleAttributes[_0x3ec317(0x424)]*_0x30fb5a*(0x1-_0x4fdf33))):_0x212cc3=Math[_0x3ec317(0x4ba)](0x1,Math[_0x3ec317(0x5c6)](battleAttributes['physicalAttack']*_0x30fb5a));if(battleState[_0x3ec317(0x3d8)][_0x3ec317(0x542)])return logBattleEvent(_0x3ec317(0x5c5),'yellow'),playerTurn=![],0x0;if(handleDodge('enemy'))return playerTurn=![],0x0;(ascensionSkill[_0x3ec317(0x3eb)]===_0x3ec317(0x4ec)||secondAscensionSkill['name']===_0x3ec317(0x4ec))&&battleState['enemy'][_0x3ec317(0x351)]/enemyMaxHealth>battleState[_0x3ec317(0x3d8)][_0x3ec317(0x2c8)]&&(_0x212cc3=Math[_0x3ec317(0x5c6)](_0x212cc3*1.4));battleState[_0x3ec317(0x3d8)][_0x3ec317(0x22e)]&&(_0x212cc3=Math[_0x3ec317(0x5c6)](_0x212cc3*1.2),logBattleEvent(_0x3ec317(0x5d8),'red'));let _0x2ecce1=checkCriticalHit(battleState[_0x3ec317(0x3d8)][_0x3ec317(0x1ff)]),_0x277de8=calculateDamage(_0x212cc3,_0x2ecce1,battleState[_0x3ec317(0x3d8)][_0x3ec317(0x262)],!![]);const _0xcdc4a3=applyWuxingEffects();let _0x3564c9=0x0;if(_0xcdc4a3[_0x3ec317(0x2ce)]&&_0xcdc4a3[_0x3ec317(0x2ce)]>0x0){const _0x12a849=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0xcdc4a3[_0x3ec317(0x2ce)]];_0x3564c9=Math[_0x3ec317(0x5c6)](_0x277de8*_0x12a849),_0x277de8=Math['floor'](_0x277de8*(0x1+_0x12a849)),!isNaN(_0x3564c9)&&_0x3564c9>0x0&&logBattleEvent(_0x3ec317(0x2b4)+_0x3564c9+_0x3ec317(0x2d3),_0x3ec317(0x462));}_0x277de8=Math[_0x3ec317(0x4ba)](0x1,_0x277de8-_0x3de5fa);enemyRivival&&(_0x277de8=Math[_0x3ec317(0x5c6)](0.1*_0x277de8));battleState[_0x3ec317(0x404)][_0x3ec317(0x351)]=Math['max'](0x0,battleState[_0x3ec317(0x404)]['health']-_0x277de8);_0x2ecce1?(logBattleEvent(_0x3ec317(0x239)+_0x277de8+_0x3ec317(0x50f),_0x3ec317(0x30c)),updateDamageValue(_0x277de8,![],_0x3ec317(0x5cd),!![]),showEffect(_0x3ec317(0x36d),_0x3ec317(0x43b))):(updateDamageValue(_0x277de8,![],_0x3ec317(0x5cd)),logBattleEvent('⚔️【玩家攻击】你造成了\x20'+_0x277de8+_0x3ec317(0x216),'white'));waterAmuletTriggered&&updateDamageValue(_0x277de8,![],_0x3ec317(0x5e2));const _0x43da4f=applySuitEffects?applySuitEffects():0x0;if(_0x43da4f>=0x8&&_0x277de8>0x0){if(Math[_0x3ec317(0x435)]()<0.2){const _0x592447=Math[_0x3ec317(0x23d)](0x7a120,Math[_0x3ec317(0x5c6)](_0x277de8*0.005));battleAttributes[_0x3ec317(0x351)]=Math['min'](maxHealth,battleAttributes['health']+_0x592447),updateDamageValue(-_0x592447,!![],_0x3ec317(0x5e2)),logBattleEvent('✨【套装效果】觉醒套装之力吸取了\x20'+_0x592447+_0x3ec317(0x40c),_0x3ec317(0x5c8),'18px'),updateUI();}}if(ascensionSkill[_0x3ec317(0x3eb)]===_0x3ec317(0x25c)||secondAscensionSkill[_0x3ec317(0x3eb)]===_0x3ec317(0x25c)){const _0x2d27e8=(ascensionSkill['name']===_0x3ec317(0x25c)?ascensionSkill:secondAscensionSkill)[_0x3ec317(0x3a7)]((ascensionSkill[_0x3ec317(0x3eb)]==='吸血魔刃'?ascensionSkill:secondAscensionSkill)[_0x3ec317(0x48e)])/0x64,_0x257af0=Math[_0x3ec317(0x5c6)](_0x277de8*_0x2d27e8);battleAttributes[_0x3ec317(0x351)]=Math[_0x3ec317(0x23d)](maxHealth,battleAttributes['health']+_0x257af0),logBattleEvent(_0x3ec317(0x510)+_0x257af0+_0x3ec317(0x40c),'red'),updateUI();}return battleState[_0x3ec317(0x404)][_0x3ec317(0x419)]&&handlePierced(),applyPhysicalAttackEffects(_0x2a894c?_0x30fb5a:0x1),_0x3e6091&&_0x3e6091[_0x3ec317(0x4f7)]===_0x3ec317(0x207)&&applySpecialSkillEffects(_0x3e6091),console[_0x3ec317(0x528)](_0x3e6091),_0x277de8;}function performMagicalAttack(_0x3f20f9,_0x405991,_0x5c5702){const _0x5b676c=_0x5bf82f;let _0x3f1866=0x1;battleState[_0x5b676c(0x3d8)][_0x5b676c(0x2d4)]&&(_0x3f1866=0x1f4);if(battleAttributes[_0x5b676c(0x299)]<0x32*_0x3f1866)return logBattleEvent(_0x5b676c(0x489)),{'damage':0x0,'retryPhysical':!![]};const _0x390f79=Math[_0x5b676c(0x435)]()*(1.2-0.8)+0.8,_0x1e6fb1=battleState[_0x5b676c(0x404)][_0x5b676c(0x268)]*_0x390f79,_0x1e779d=f(_0x1e6fb1),_0x108897=Math[_0x5b676c(0x372)](battleState['enemy']['magicDefense']*0.1);let _0x3c9711;_0x1e779d!==0x0?_0x3c9711=Math['max'](0x1,Math['floor'](battleAttributes['magicAttack']*0.8*_0x3f20f9*(0x1-_0x1e779d))):_0x3c9711=Math[_0x5b676c(0x4ba)](0x1,Math[_0x5b676c(0x5c6)](battleAttributes[_0x5b676c(0x40f)]*0.8*_0x3f20f9));const _0xaf6bd2=Math[_0x5b676c(0x5c6)](Math[_0x5b676c(0x435)]()*(0xc8-0x32+0x1)+0x32+battleRounds*0x14*_0x3f20f9)*_0x3f1866;battleAttributes[_0x5b676c(0x299)]=Math[_0x5b676c(0x4ba)](0x0,battleAttributes['mana']-_0xaf6bd2);if(handleMagicDodge(_0x5b676c(0x404)))return playerTurn=![],0x0;let _0x4482a3=checkCriticalHit(battleState[_0x5b676c(0x3d8)]['critRate']),_0x345755=calculateDamage(_0x3c9711,_0x4482a3,battleState['player'][_0x5b676c(0x262)],!![]);const _0x27784e=applyWuxingEffects();let _0x8f1522=0x0;if(_0x27784e['fireAmulet']&&_0x27784e[_0x5b676c(0x2ce)]>0x0){const _0x3512ad=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x27784e[_0x5b676c(0x2ce)]];_0x8f1522=Math[_0x5b676c(0x5c6)](_0x345755*_0x3512ad),_0x345755=Math[_0x5b676c(0x5c6)](_0x345755*(0x1+_0x3512ad)),!isNaN(_0x8f1522)&&_0x8f1522>0x0&&logBattleEvent(_0x5b676c(0x2b4)+_0x8f1522+'\x20点。',_0x5b676c(0x462));}_0x345755=Math['max'](0x1,_0x345755-_0x108897);enemyRivival&&(_0x345755=Math[_0x5b676c(0x5c6)](0.1*_0x345755));battleState['enemy'][_0x5b676c(0x351)]=Math[_0x5b676c(0x4ba)](0x0,battleState[_0x5b676c(0x404)][_0x5b676c(0x351)]-_0x345755);_0x4482a3?(logBattleEvent('⚔️【玩家攻击】暴击！！本次对敌方造成了\x20'+_0x345755+_0x5b676c(0x43d)+_0xaf6bd2+_0x5b676c(0x44f),'red'),updateDamageValue(_0x345755,![],_0x5b676c(0x5cd),!![]),showEffect(_0x5b676c(0x36d),'https://pic.imgdb.cn/item/668a30dbd9c307b7e9c54fff.gif')):(logBattleEvent(_0x5b676c(0x410)+_0x345755+_0x5b676c(0x43d)+_0xaf6bd2+_0x5b676c(0x55d),_0x5b676c(0x306)),updateDamageValue(_0x345755,![],_0x5b676c(0x5cd)),showEffect(_0x5b676c(0x36d),_0x5b676c(0x537)));waterAmuletTriggered&&updateDamageValue(_0x345755,![],_0x5b676c(0x5e2));const _0x46b167=applySuitEffects?applySuitEffects():0x0;if(_0x46b167>=0x8&&_0x345755>0x0){if(Math['random']()<0.2){const _0x5cd3fe=Math[_0x5b676c(0x23d)](0x7a120,Math[_0x5b676c(0x5c6)](_0x345755*0.005));battleAttributes[_0x5b676c(0x351)]=Math[_0x5b676c(0x23d)](maxHealth,battleAttributes['health']+_0x5cd3fe),updateDamageValue(-_0x5cd3fe,!![],'extra-damage'),logBattleEvent(_0x5b676c(0x316)+_0x5cd3fe+_0x5b676c(0x40c),_0x5b676c(0x5b8)),updateUI();}}return battleState[_0x5b676c(0x404)][_0x5b676c(0x419)]&&handlePierced(),(ascensionSkill[_0x5b676c(0x3eb)]===_0x5b676c(0x394)||secondAscensionSkill[_0x5b676c(0x3eb)]===_0x5b676c(0x394))&&Math['random']()*0x64<battleState[_0x5b676c(0x3d8)][_0x5b676c(0x4a2)]&&performIndependentMagicAttack(),applyMagicAttackEffects(_0x345755,_0x405991?_0x3f20f9:0x1),_0x5c5702&&_0x5c5702[_0x5b676c(0x4f7)]===_0x5b676c(0x2d7)&&applySpecialSkillEffects(_0x5c5702),{'damage':_0x345755,'retryPhysical':![]};}function handlePostAttackEffects(_0x503a55,_0x5e80f0,_0x43a926){const _0x503890=_0x5bf82f,{selectedSkill:_0x282bdf,isCritical:isCritical=![],skillMultiplier:skillMultiplier=0x1}=_0x43a926||{};waterAmuletTriggered&&(updateDamageValue(_0x5e80f0,![],_0x503890(0x5e2)),waterAmuletTriggered=![]);battleState['enemy']['pierced']&&handlePierced();if(_0x503a55===_0x503890(0x3be)){if(ascensionSkill[_0x503890(0x3eb)]===_0x503890(0x25c)||secondAscensionSkill['name']==='吸血魔刃'){const _0x2685aa=(ascensionSkill[_0x503890(0x3eb)]===_0x503890(0x25c)?ascensionSkill:secondAscensionSkill)[_0x503890(0x3a7)]((ascensionSkill[_0x503890(0x3eb)]===_0x503890(0x25c)?ascensionSkill:secondAscensionSkill)['level'])/0x64,_0x31bedf=Math[_0x503890(0x5c6)](_0x5e80f0*_0x2685aa);battleAttributes[_0x503890(0x351)]=Math[_0x503890(0x23d)](maxHealth,battleAttributes['health']+_0x31bedf),logBattleEvent(_0x503890(0x510)+_0x31bedf+'\x20点生命值。',_0x503890(0x30c));}_0x282bdf&&applyPhysicalAttackEffects(skillMultiplier);}_0x503a55==='magical'&&((ascensionSkill[_0x503890(0x3eb)]===_0x503890(0x394)||secondAscensionSkill[_0x503890(0x3eb)]===_0x503890(0x394))&&Math[_0x503890(0x435)]()*0x64<battleState[_0x503890(0x3d8)][_0x503890(0x4a2)]&&performIndependentMagicAttack(),_0x282bdf&&applyMagicAttackEffects(_0x5e80f0,skillMultiplier)),handleShocked(),applyDefenseBonusEffect(),handleManaRecover(),applyAscensionEffects(),checkBattleState(_0x5e80f0),updateUI(),updateEnemyStatusDisplay();}function checkBattleState(_0x42ec8c){const _0xedea4d=_0x5bf82f;if(battleState[_0xedea4d(0x404)]['health']<=0x0)return updateEnemyAttributes(),showNextBattlePrompt(!![]),!![];if(battleAttributes[_0xedea4d(0x351)]<=0x0)return showNextBattlePrompt(![]),!![];return![];}function f(_0x1ad8b0){const _0x435f16=_0x1ad8b0/(_0x1ad8b0+0x493e0)-0.1;return Math['max'](_0x435f16,0x0);}function checkWaterAmuletChance(){const _0x398f56=_0x5bf82f,_0x10499e=applyWuxingEffects();if(_0x10499e[_0x398f56(0x3f0)]&&_0x10499e['waterAmulet']>0x0){const _0x184d96=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x10499e[_0x398f56(0x3f0)]];if(Math['random']()<_0x184d96)return!![];}return![];}function handleWaterAmuletEffect(_0x992e94,_0xdee1f0){const _0xd1d0c3=_0x5bf82f;logBattleEvent('🔵奥义·水之再动！！',_0xd1d0c3(0x441)),performAttack(_0x992e94);}const DamageDisplayManager={'damageContainers':{'player':null,'enemy':null},'initialize'(){const _0x477eaa=_0x5bf82f,_0x404694=document[_0x477eaa(0x472)](_0x477eaa(0x221));_0x404694['id']='player-damage-container',_0x404694[_0x477eaa(0x300)][_0x477eaa(0x317)]=_0x477eaa(0x31c);const _0x3ec114=document['createElement'](_0x477eaa(0x221));_0x3ec114['id']=_0x477eaa(0x38f),_0x3ec114['style'][_0x477eaa(0x317)]=_0x477eaa(0x20b),document[_0x477eaa(0x25f)]['appendChild'](_0x404694),document[_0x477eaa(0x25f)]['appendChild'](_0x3ec114),this[_0x477eaa(0x20a)]['player']=_0x404694,this[_0x477eaa(0x20a)]['enemy']=_0x3ec114;},'createDamageElement'(_0x58641e,_0x12a1b4,_0x23659a,_0x5e1c4d){const _0x531191=_0x5bf82f,_0x270192=document['createElement'](_0x531191(0x221));_0x270192[_0x531191(0x300)]['position']=_0x531191(0x329);const _0x5bfe02=_0x5e1c4d?_0x531191(0x5d1):_0x531191(0x4a9);_0x270192[_0x531191(0x300)][_0x531191(0x3ac)]=_0x5bfe02+_0x531191(0x294);if(_0x58641e>=0x0)_0x270192[_0x531191(0x246)]='-'+_0x58641e,_0x23659a?_0x270192[_0x531191(0x300)]['cssText']+=_0x531191(0x230)+(_0x5e1c4d?_0x531191(0x2d1):_0x531191(0x499))+_0x531191(0x5e6):_0x270192[_0x531191(0x300)][_0x531191(0x317)]+=_0x531191(0x305);else{const _0x227b57=Math[_0x531191(0x278)](_0x58641e);_0x270192[_0x531191(0x246)]='+'+_0x227b57,_0x270192[_0x531191(0x300)][_0x531191(0x317)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20limegreen;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x208px\x20lime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bolder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20'+(_0x5e1c4d?_0x531191(0x2d1):_0x531191(0x499))+_0x531191(0x49b);}return _0x270192;}},style=document['createElement'](_0x5bf82f(0x300));style[_0x5bf82f(0x4e2)]=_0x5bf82f(0x275),document[_0x5bf82f(0x24b)]['appendChild'](style);function updateDamageValue(_0x2808e8,_0x3b637f=![],_0x5d535e=_0x5bf82f(0x5cd),_0x2fb228=![]){const _0x55250d=_0x5bf82f;!DamageDisplayManager['damageContainers'][_0x55250d(0x3d8)]&&DamageDisplayManager[_0x55250d(0x58a)]();if(isNaN(_0x2808e8)){console[_0x55250d(0x28a)](_0x55250d(0x481));return;}const _0x1b70f1=_0x3b637f?DamageDisplayManager[_0x55250d(0x20a)][_0x55250d(0x3d8)]:DamageDisplayManager[_0x55250d(0x20a)]['enemy'],_0x57527f=DamageDisplayManager[_0x55250d(0x429)](_0x2808e8,_0x5d535e,_0x2fb228,_0x3b637f);_0x1b70f1[_0x55250d(0x455)](_0x57527f),setTimeout(()=>{const _0x2b4b2c=_0x55250d;_0x1b70f1[_0x2b4b2c(0x55f)](_0x57527f)&&_0x1b70f1['removeChild'](_0x57527f);},0x4b0);}function ensureCompatibility(){const _0x58b3cd=_0x5bf82f,_0xcb53c3=['player-damage-value','player-extra-damage-value',_0x58b3cd(0x493),_0x58b3cd(0x272)];_0xcb53c3[_0x58b3cd(0x35e)](_0x58e4e0=>{const _0x3e18d5=_0x58b3cd;if(!document[_0x3e18d5(0x50b)](_0x58e4e0)){const _0x145286=document[_0x3e18d5(0x472)]('div');_0x145286['id']=_0x58e4e0,_0x145286[_0x3e18d5(0x300)][_0x3e18d5(0x48a)]=_0x3e18d5(0x504),document[_0x3e18d5(0x25f)][_0x3e18d5(0x455)](_0x145286);}});}function checkTrumpCardState(){const _0x5aea18=_0x5bf82f,_0x1e42be=[],_0x5bf7f7=document[_0x5aea18(0x50b)](_0x5aea18(0x497));_0x5bf7f7&&Array[_0x5aea18(0x43e)](_0x5bf7f7[_0x5aea18(0x2cc)])[_0x5aea18(0x35e)](_0x16829a=>{const _0x27a664=_0x5aea18,_0x40d7b5=_0x16829a['innerText'][_0x27a664(0x287)]('\x20')[0x0],_0x4e641e=currentPet[_0x27a664(0x48f)]['find'](_0x12e332=>_0x12e332['name']===_0x40d7b5&&_0x12e332['type']==='TC');_0x4e641e&&_0x1e42be[_0x27a664(0x591)](_0x4e641e);});if(_0x1e42be[_0x5aea18(0x490)]===0x0)return{'exists':![],'skill':null};let _0xa55fe4=_0x1e42be[0x0];if(_0x1e42be[_0x5aea18(0x490)]>0x1){const _0x444696=Math[_0x5aea18(0x5c6)](Math[_0x5aea18(0x435)]()*_0x1e42be['length']);_0xa55fe4=_0x1e42be[_0x444696];}return{'exists':!![],'skill':_0xa55fe4};}function checkLifeSpan(_0x26959e){const _0x52e598=_0x5bf82f,_0x279d4c=currentLifeSpan-_0x26959e;if(_0x279d4c<0x0)return logBattleEvent(_0x52e598(0x3f9),'grey'),![];return currentLifeSpan-=_0x26959e,!![];}function recoverLifeSpan(_0x260ee5){const _0x41b150=_0x5bf82f;currentLifeSpan=Math['floor'](Math[_0x41b150(0x23d)](maxLifeSpan,currentLifeSpan+_0x260ee5));}function performTrumpCard(){const _0x33ca14=_0x5bf82f,_0x41464b=checkTrumpCardState();if(!_0x41464b[_0x33ca14(0x5a3)]){logBattleEvent(_0x33ca14(0x210),_0x33ca14(0x30c));return;}if(!playerTurn)return;const _0x4acfac=_0x41464b['skill'],_0x56ec94=calculateSkillLevelAndMultiplier(_0x4acfac);applySpecialSkillEffects(_0x4acfac);if(battleAttributes[_0x33ca14(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x33ca14(0x404)][_0x33ca14(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function performIndependentMagicAttack(){const _0x16c759=_0x5bf82f,_0x51298d=document[_0x16c759(0x50b)](_0x16c759(0x497)),_0x3e2b5c=Array[_0x16c759(0x43e)](_0x51298d['children']),_0x1b9cf5=_0x3e2b5c[_0x16c759(0x352)](_0x1ac687=>_0x1ac687['innerText']['split']('\x20')[0x0])[_0x16c759(0x352)](_0x5d650e=>currentPet[_0x16c759(0x48f)][_0x16c759(0x37d)](_0x5c83d7=>_0x5c83d7[_0x16c759(0x3eb)]===_0x5d650e&&_0x5c83d7[_0x16c759(0x4f7)]==='MA'||_0x5d650e&&_0x5c83d7[_0x16c759(0x4f7)]===_0x16c759(0x2d7)))[_0x16c759(0x2f9)](_0x412e0a=>_0x412e0a);let _0x372b94=0x1,_0x45d87b=0x1;if(_0x1b9cf5[_0x16c759(0x490)]>0x0){const _0x4591c8=Math['floor'](Math['random']()*_0x1b9cf5[_0x16c759(0x490)]),_0x28f789=_0x1b9cf5[_0x4591c8],_0x199369=calculateSkillLevelAndMultiplier(_0x28f789);_0x45d87b=_0x199369[_0x16c759(0x600)],_0x372b94=_0x199369[_0x16c759(0x3c8)],logBattleEvent(_0x16c759(0x4ea)+_0x28f789[_0x16c759(0x3eb)]+'\x20'+_0x45d87b+'级。',_0x16c759(0x306));}else logBattleEvent(_0x16c759(0x562),_0x16c759(0x306));let _0x255c3b=0x1;battleState['player'][_0x16c759(0x2d4)]&&(_0x255c3b=0x1f4,logBattleEvent(_0x16c759(0x2c4),_0x16c759(0x4ac)));const _0x146f80=Math[_0x16c759(0x435)]()*(1.2-0.8)+0.8,_0x5696f9=battleState[_0x16c759(0x404)][_0x16c759(0x268)]*_0x146f80,_0x1f6594=f(_0x5696f9),_0x2f02b1=Math['round'](battleState['enemy'][_0x16c759(0x268)]*0.1);let _0x3e41f5;_0x1f6594!==0x0?_0x3e41f5=Math[_0x16c759(0x4ba)](0x1,Math[_0x16c759(0x5c6)](battleAttributes['magicAttack']*0.8*_0x372b94*(0x1-_0x1f6594))):_0x3e41f5=Math[_0x16c759(0x4ba)](0x1,Math[_0x16c759(0x5c6)](battleAttributes[_0x16c759(0x40f)]*0.8*_0x372b94));let _0x18a513=checkCriticalHit(battleState[_0x16c759(0x3d8)]['critRate']);if(handleMagicDodge(_0x16c759(0x404)))return playerTurn=![],0x0;let _0x3e041b=calculateDamage(_0x3e41f5,_0x18a513,battleState[_0x16c759(0x3d8)][_0x16c759(0x262)],!![]);const _0x3636e9=applyWuxingEffects();let _0x238bd2=0x0;if(_0x3636e9[_0x16c759(0x2ce)]&&_0x3636e9[_0x16c759(0x2ce)]>0x0){const _0x5d9ac8=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x3636e9[_0x16c759(0x2ce)]];_0x238bd2=Math[_0x16c759(0x5c6)](_0x3e041b*_0x5d9ac8),_0x3e041b=Math['floor'](_0x3e041b*(0x1+_0x5d9ac8)),!isNaN(_0x238bd2)&&_0x238bd2>0x0&&logBattleEvent(_0x16c759(0x2b4)+_0x238bd2+'\x20点。',_0x16c759(0x462));}_0x3e041b=Math['max'](0x1,_0x3e041b-_0x2f02b1);enemyRivival&&(_0x3e041b=Math[_0x16c759(0x5c6)](0.1*_0x3e041b));battleState[_0x16c759(0x404)][_0x16c759(0x351)]=Math[_0x16c759(0x4ba)](0x0,battleState['enemy']['health']-_0x3e041b);_0x18a513?(logBattleEvent('⚔️【玩家攻击】暴击！！本次对敌方造成了\x20'+_0x3e041b+_0x16c759(0x265),_0x16c759(0x30c)),showEffect(_0x16c759(0x36d),_0x16c759(0x43b))):logBattleEvent(_0x16c759(0x45b)+_0x3e041b+_0x16c759(0x265),_0x16c759(0x306));updateDamageValue(_0x3e041b,![],_0x16c759(0x5e2)),showEffect('playerEffect',_0x16c759(0x444)),applyMagicAttackEffects(_0x3e041b,_0x372b94);battleState[_0x16c759(0x404)][_0x16c759(0x419)]&&handlePierced();if(battleState[_0x16c759(0x3d8)][_0x16c759(0x28c)]&&_0x3e041b>0x0){const _0x33cce7=Math[_0x16c759(0x5c6)](_0x3e041b*0.1);battleAttributes[_0x16c759(0x351)]=Math[_0x16c759(0x4ba)](0x0,battleAttributes['health']-_0x33cce7),logBattleEvent(_0x16c759(0x55c)+_0x33cce7+_0x16c759(0x3f8),_0x16c759(0x397));}}function performPoison(){const _0x4e876a=_0x5bf82f;if(!attributesFetched){showInfoBox(_0x4e876a(0x4ce));return;}if(!battleState||!battleState[_0x4e876a(0x404)]){console[_0x4e876a(0x28a)](_0x4e876a(0x2b7));return;}if(!playerTurn)return;if(battleState[_0x4e876a(0x3d8)][_0x4e876a(0x22e)]){performAttack(_0x4e876a(0x3be));return;}if(!poisonSkillActivated){if(useItem('poisonSkillBook'))poisonSkillActivated=!![],logBattleEvent(_0x4e876a(0x386),_0x4e876a(0x2fd));else{logBattleEvent(_0x4e876a(0x2f0),'red');return;}}const _0x4ad608=document['getElementById']('skills-area'),_0x308d8e=Array[_0x4e876a(0x43e)](_0x4ad608[_0x4e876a(0x2cc)]),_0x47eedd=_0x308d8e[_0x4e876a(0x352)](_0x34a49d=>_0x34a49d[_0x4e876a(0x246)][_0x4e876a(0x287)]('\x20')[0x0])[_0x4e876a(0x352)](_0x436756=>currentPet['skills'][_0x4e876a(0x37d)](_0x254662=>_0x254662[_0x4e876a(0x3eb)]===_0x436756&&(_0x254662[_0x4e876a(0x4f7)]==='PP'||_0x254662[_0x4e876a(0x4f7)]===_0x4e876a(0x583))))['filter'](_0x45a0ee=>_0x45a0ee);let _0x13e122=0x1,_0x57168b=0x1,_0x47ea9c;if(_0x47eedd[_0x4e876a(0x490)]>0x0){const _0x250c3d=Math[_0x4e876a(0x5c6)](Math[_0x4e876a(0x435)]()*_0x47eedd['length']);_0x47ea9c=_0x47eedd[_0x250c3d];const _0x341010=calculateSkillLevelAndMultiplier(_0x47ea9c);_0x57168b=_0x341010[_0x4e876a(0x600)],_0x13e122=_0x341010[_0x4e876a(0x3c8)],logBattleEvent(_0x4e876a(0x5bb)+_0x47ea9c[_0x4e876a(0x3eb)]+'\x20'+_0x57168b+_0x4e876a(0x343),_0x4e876a(0x2fd));}const _0x334f4e=Math[_0x4e876a(0x5c6)](maxMana*0.4);if(battleAttributes[_0x4e876a(0x299)]<_0x334f4e){logBattleEvent(_0x4e876a(0x559),_0x4e876a(0x30c));return;}battleAttributes[_0x4e876a(0x299)]=Math['max'](0x0,battleAttributes['mana']-_0x334f4e);if(handleMagicDodge(_0x4e876a(0x404))){playerTurn=![];return;}let _0x5e8f8b=0.3;useItem('poisonPowder')&&(_0x5e8f8b=0.7,_0x13e122+=0x1);const _0xb9080a=Math[_0x4e876a(0x5c6)](battleAttributes[_0x4e876a(0x40f)]*0.5*_0x13e122*(Math[_0x4e876a(0x435)]()*(1.1-0.9)+0.9));battleState[_0x4e876a(0x404)][_0x4e876a(0x351)]=Math['max'](0x0,battleState['enemy'][_0x4e876a(0x351)]-_0xb9080a),logBattleEvent(_0x4e876a(0x4c5)+_0xb9080a+_0x4e876a(0x56c)+_0x334f4e+'\x20点法力值。',_0x4e876a(0x2fd));battleState[_0x4e876a(0x404)][_0x4e876a(0x419)]&&handlePierced();showEffect('playerEffect','https://pic.imgdb.cn/item/66713185d9c307b7e9fe5fc6.gif'),updateDamageValue(_0xb9080a,![],_0x4e876a(0x5cd));Math[_0x4e876a(0x435)]()<_0x5e8f8b&&!battleState[_0x4e876a(0x404)][_0x4e876a(0x5b2)]&&(battleState[_0x4e876a(0x404)][_0x4e876a(0x5b2)]=!![],handlePoison(_0x13e122,_0x47ea9c));handleShocked(),handleManaRecover(),applyAscensionEffects(),updateUI();if(battleAttributes[_0x4e876a(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x4e876a(0x404)][_0x4e876a(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function handlePoison(_0x1a1b12=0x1,_0x2ece00=null){const _0x527bdd=_0x5bf82f,_0x1c4847=0x3e8,_0x37774=Math[_0x527bdd(0x372)](playerCultivation/0x3a980)*0x3e8,_0x513834=_0x1c4847+_0x37774;let _0x34a544=_0x513834,_0xedd922=0x0;const _0x34cba6=setInterval(()=>{const _0x38b7ba=_0x527bdd;if(!battleState['enemy'][_0x38b7ba(0x5b2)]){clearInterval(_0x34cba6);return;}const _0x19e2cd=Math[_0x38b7ba(0x5c6)](battleAttributes[_0x38b7ba(0x40f)]*0.5*_0x1a1b12*(Math[_0x38b7ba(0x435)]()*(1.1-0.9)+0.9)*(0x1+battleState[_0x38b7ba(0x3d8)][_0x38b7ba(0x262)]*0.1));battleState['enemy']['health']=Math[_0x38b7ba(0x4ba)](0x0,battleState[_0x38b7ba(0x404)][_0x38b7ba(0x351)]-_0x19e2cd),_0x2ece00&&_0x2ece00[_0x38b7ba(0x4f7)]===_0x38b7ba(0x583)&&applySpecialSkillEffects(_0x2ece00,_0x19e2cd),_0xedd922+=_0x19e2cd,_0x34a544-=0x3e8,updateUI(),updateDamageValue(_0x19e2cd,![],_0x38b7ba(0x5e2)),updateEnemyStatusDisplay();},0xc8);if(battleState[_0x527bdd(0x404)][_0x527bdd(0x351)]<=0x0){clearInterval(_0x34cba6),showNextBattlePrompt(!![]),battleState[_0x527bdd(0x404)]['poisoned']=![];return;}battleState[_0x527bdd(0x404)][_0x527bdd(0x2b3)]=setTimeout(()=>{const _0x4fcfc3=_0x527bdd;battleState[_0x4fcfc3(0x404)][_0x4fcfc3(0x5b2)]=![],clearInterval(_0x34cba6),updateEnemyStatusDisplay(),logBattleEvent(_0x4fcfc3(0x56f)+_0xedd922+'\x20点毒性伤害。','#C10066');},_0x513834);}function getCultivationBonusDuration(){if(playerCultivation<=0x1d4c0)return 0x0;return Math['min'](0xa,(playerCultivation-0x1d4c0)/0x2710*0.1);}function applyPhysicalAttackEffects(){const _0x748610=_0x5bf82f;if(!divineWeaponManager['lostBook'][_0x748610(0x3a6)])return;const _0x48a65e=divineWeaponManager[_0x748610(0x478)]['effects'],_0x590084=_0x48a65e[Math[_0x748610(0x5c6)](Math[_0x748610(0x435)]()*_0x48a65e[_0x748610(0x490)])];let _0x3dc75c=Math['min'](0x1,0.01+(divineWeaponManager[_0x748610(0x478)][_0x748610(0x48e)]-0x1)*0.006);const _0x1d1136=playerCultivation-battleState[_0x748610(0x404)]['cultivation'];if(_0x1d1136<0x0){const _0x333dce=Math[_0x748610(0x5c6)](-_0x1d1136/0x2710)*0.01;_0x3dc75c=Math['max'](0.01,_0x3dc75c-_0x333dce),console[_0x748610(0x528)]('当前物理效果真实触发概率为：'+_0x3dc75c);}if(Math[_0x748610(0x435)]()>_0x3dc75c)return;const _0x456010=getCultivationBonusDuration();switch(_0x590084){case'破甲':const _0x47f564=Math[_0x748610(0x5c6)](battleAttributes[_0x748610(0x424)]*(Math['random']()*(0.24-0.12)+0.12));battleState[_0x748610(0x404)]['physicalDefense']-=_0x47f564,battleState[_0x748610(0x404)][_0x748610(0x564)]=!![],logBattleEvent('妖怪的护甲被破坏，物理防御减少了\x20'+_0x47f564+_0x748610(0x2d3),_0x748610(0x52d)),showEffect(_0x748610(0x36d),_0x748610(0x521)),updateEnemyStatusDisplay(),battleState[_0x748610(0x404)][_0x748610(0x2bf)]=setTimeout(()=>{const _0x12218e=_0x748610;battleState['enemy']['physicalDefense']+=_0x47f564,battleState['enemy'][_0x12218e(0x564)]=![],updateEnemyStatusDisplay();},0xbb8+_0x456010*0x3e8);break;case'眩晕':battleState[_0x748610(0x404)][_0x748610(0x332)]=!![],logBattleEvent(_0x748610(0x514),'wheat'),showEffect(_0x748610(0x36d),_0x748610(0x47a)),updateEnemyStatusDisplay(),battleState[_0x748610(0x404)][_0x748610(0x5ac)]=setTimeout(()=>{const _0x28cd8e=_0x748610;battleState[_0x28cd8e(0x404)]['stunned']=![],updateEnemyStatusDisplay();},0x3e8+_0x456010*0x3e8);break;case'恐吓':battleState[_0x748610(0x404)][_0x748610(0x589)]=!![],logBattleEvent(_0x748610(0x223),_0x748610(0x52d)),updateEnemyStatusDisplay(),battleState['enemy'][_0x748610(0x483)]=setTimeout(()=>{battleState['enemy']['intimidated']=![],updateEnemyStatusDisplay();},0x3e8+_0x456010*0x3e8);break;case'穿透':!battleState['enemy']['pierced']?handlePiercedEffect(_0x456010):console[_0x748610(0x528)](_0x748610(0x506));break;case'惶恐':!battleState[_0x748610(0x404)]['terrified']?handleTerrified(_0x456010):console[_0x748610(0x528)]('惶恐效果持续中');break;case'麻痹':!battleState[_0x748610(0x404)][_0x748610(0x4a5)]&&(battleState[_0x748610(0x404)][_0x748610(0x4a5)]=!![],battleState[_0x748610(0x404)]['originalMaxHealth']=enemyMaxHealth,battleState[_0x748610(0x404)][_0x748610(0x347)]=0x0);const _0x143f70=Math[_0x748610(0x5c6)](battleState[_0x748610(0x404)]['originalMaxHealth']*0.03);enemyMaxHealth-=_0x143f70,battleState[_0x748610(0x404)][_0x748610(0x347)]+=_0x143f70;battleState[_0x748610(0x404)][_0x748610(0x351)]>enemyMaxHealth&&(battleState[_0x748610(0x404)][_0x748610(0x351)]=enemyMaxHealth);logBattleEvent(_0x748610(0x3c3)+_0x143f70+_0x748610(0x2d3),_0x748610(0x224)),showEffect(_0x748610(0x36d),_0x748610(0x529)),updateEnemyStatusDisplay(),battleState[_0x748610(0x404)]['benumbedTimer']=setTimeout(()=>{const _0x2d6b8d=_0x748610;battleState[_0x2d6b8d(0x404)][_0x2d6b8d(0x3a4)]&&(battleState[_0x2d6b8d(0x404)][_0x2d6b8d(0x347)]-=_0x143f70,battleState['enemy'][_0x2d6b8d(0x347)]<=0x0?(enemyMaxHealth=battleState[_0x2d6b8d(0x404)]['originalMaxHealth'],battleState['enemy'][_0x2d6b8d(0x4a5)]=![]):enemyMaxHealth=battleState['enemy'][_0x2d6b8d(0x3a4)]-battleState[_0x2d6b8d(0x404)][_0x2d6b8d(0x347)]),updateEnemyStatusDisplay();},0xbb8+_0x456010*0x3e8);break;}}function applyMagicAttackEffects(_0x41b811){const _0x1ee719=_0x5bf82f;if(!divineWeaponManager[_0x1ee719(0x269)][_0x1ee719(0x3a6)])return;const _0x124470=divineWeaponManager[_0x1ee719(0x269)][_0x1ee719(0x52e)],_0x24e5ce=_0x124470[Math['floor'](Math[_0x1ee719(0x435)]()*_0x124470[_0x1ee719(0x490)])];let _0x3785f4=Math[_0x1ee719(0x23d)](0x1,0.01+(divineWeaponManager[_0x1ee719(0x269)][_0x1ee719(0x48e)]-0x1)*0.006);const _0x5bf9a5=playerCultivation-battleState[_0x1ee719(0x404)]['cultivation'];if(_0x5bf9a5<0x0){const _0x385be1=Math[_0x1ee719(0x5c6)](-_0x5bf9a5/0x2710)*0.01;_0x3785f4=Math[_0x1ee719(0x4ba)](0.01,_0x3785f4-_0x385be1),console[_0x1ee719(0x528)](_0x1ee719(0x3a3)+_0x3785f4);}if(Math[_0x1ee719(0x435)]()>_0x3785f4)return;const _0x73b6b8=getCultivationBonusDuration();switch(_0x24e5ce){case'沉默':battleState[_0x1ee719(0x404)][_0x1ee719(0x5b3)]=!![],showEffect(_0x1ee719(0x36d),'https://pic.imgdb.cn/item/66a63612d9c307b7e9d72d78.gif'),updateEnemyStatusDisplay(),battleState[_0x1ee719(0x404)][_0x1ee719(0x3ad)]=setTimeout(()=>{const _0x33519a=_0x1ee719;battleState['enemy'][_0x33519a(0x5b3)]=![],updateEnemyStatusDisplay();},0xbb8+_0x73b6b8*0x3e8);break;case'迟缓':handleSlow(_0x73b6b8);break;case'混乱':battleState[_0x1ee719(0x404)][_0x1ee719(0x208)]=!![],showEffect(_0x1ee719(0x36d),'https://pic.imgdb.cn/item/66a63695d9c307b7e9d82c29.gif'),updateEnemyStatusDisplay(),battleState[_0x1ee719(0x404)]['dazedTimer']=setTimeout(()=>{const _0x5c319e=_0x1ee719;battleState[_0x5c319e(0x404)][_0x5c319e(0x208)]=![],updateEnemyStatusDisplay();},0xbb8+_0x73b6b8*0x3e8);break;case _0x1ee719(0x541):const _0xd5759b=Math[_0x1ee719(0x5c6)](_0x41b811*0.8);let _0x1c187e=0x0;battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]<_0xd5759b&&(_0x1c187e=_0xd5759b-battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]);battleState[_0x1ee719(0x404)]['mana']=Math[_0x1ee719(0x4ba)](0x0,battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]-_0xd5759b),battleState[_0x1ee719(0x404)][_0x1ee719(0x351)]=Math[_0x1ee719(0x4ba)](0x0,battleState['enemy'][_0x1ee719(0x351)]-_0x1c187e);_0x1c187e>0x0?logBattleEvent(_0x1ee719(0x25d)+_0x1c187e+_0x1ee719(0x40c),_0x1ee719(0x4dc)):logBattleEvent(_0x1ee719(0x28d)+_0xd5759b+_0x1ee719(0x55d),'#00BBFF');showEffect('playerEffect',_0x1ee719(0x4e5));break;case'法力吸取':const _0x5638c6=Math['floor'](_0x41b811*0.01);let _0x23fca2=Math[_0x1ee719(0x23d)](_0x5638c6,battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]);battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]=Math['max'](0x0,battleState[_0x1ee719(0x404)][_0x1ee719(0x299)]-_0x23fca2),battleAttributes[_0x1ee719(0x299)]=Math[_0x1ee719(0x23d)](maxMana,battleAttributes[_0x1ee719(0x299)]+_0x23fca2),logBattleEvent('你吸取了\x20'+_0x23fca2+_0x1ee719(0x55d),_0x1ee719(0x4f6)),showEffect('playerEffect',_0x1ee719(0x26c));break;case'灼烧':battleState[_0x1ee719(0x404)][_0x1ee719(0x3fd)]=!![],showEffect(_0x1ee719(0x36d),_0x1ee719(0x480)),updateEnemyStatusDisplay(),battleState[_0x1ee719(0x404)][_0x1ee719(0x5c7)]=setTimeout(()=>{const _0x50fab7=_0x1ee719;battleState['enemy'][_0x50fab7(0x3fd)]=![],updateEnemyStatusDisplay();},0xbb8+_0x73b6b8*0x3e8);break;}}function handlePiercedEffect(_0x1bf792){const _0x5287fd=_0x5bf82f;pierceDamageContainer[_0x5287fd(0x426)]=0x0,battleState[_0x5287fd(0x404)][_0x5287fd(0x419)]=!![],logBattleEvent(_0x5287fd(0x3b7),'#ADFF2F'),showEffect(_0x5287fd(0x36d),_0x5287fd(0x403)),updateEnemyStatusDisplay(),battleState[_0x5287fd(0x404)][_0x5287fd(0x34b)]=setTimeout(()=>{const _0x59c97a=_0x5287fd;if(battleState[_0x59c97a(0x404)]['pierced']){const _0x540679=Math[_0x59c97a(0x5c6)](pierceDamageContainer[_0x59c97a(0x426)]*(Math[_0x59c97a(0x435)]()*(0.84-0.42)+0.24)*(0x1+playerCultivation/0x7a120));battleState[_0x59c97a(0x404)]['health']=Math['max'](0x0,battleState['enemy']['health']-_0x540679),logBattleEvent(_0x59c97a(0x362)+_0x540679+_0x59c97a(0x575),'#ADFF2F'),updateDamageValue(_0x540679,![],_0x59c97a(0x5e2)),showBattleOverlay(_0x59c97a(0x491),0x5dc,0.8),pierceDamageContainer[_0x59c97a(0x426)]=0x0,battleState[_0x59c97a(0x404)][_0x59c97a(0x419)]=![];}updateUI(),updateEnemyStatusDisplay();},0xbb8+_0x1bf792*0x3e8);}function handlePierced(){const _0x25a3f6=_0x5bf82f;if(!battleState['enemy'][_0x25a3f6(0x419)])return;const _0x52b9ee=Math['floor'](battleAttributes[_0x25a3f6(0x424)]*0x5);battleState['enemy'][_0x25a3f6(0x351)]=Math[_0x25a3f6(0x4ba)](0x0,battleState[_0x25a3f6(0x404)][_0x25a3f6(0x351)]-_0x52b9ee),logBattleEvent(_0x25a3f6(0x36b)+_0x52b9ee+_0x25a3f6(0x2e1),_0x25a3f6(0x4ef)),updateDamageValue(_0x52b9ee,![],_0x25a3f6(0x5e2)),pierceDamageContainer[_0x25a3f6(0x426)]+=_0x52b9ee,updateUI();if(battleState[_0x25a3f6(0x404)][_0x25a3f6(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}function handleStunned(){const _0xca54a=_0x5bf82f;if(battleState[_0xca54a(0x404)][_0xca54a(0x332)])return logBattleEvent(_0xca54a(0x261),_0xca54a(0x306)),playerTurn=!![],!![];return![];}function handleCriticalAndDrunken(_0x59f828){const _0x54718e=_0x5bf82f;let _0x41961b=checkCriticalHit(battleState[_0x54718e(0x3d8)][_0x54718e(0x1ff)]);if((ascensionSkill['name']===_0x54718e(0x5ab)||secondAscensionSkill[_0x54718e(0x3eb)]===_0x54718e(0x5ab))&&_0x41961b&&Math['random']()<battleState[_0x54718e(0x3d8)]['extraCritDamageChance']){const _0x194734=Math['floor'](battleAttributes[_0x54718e(0x424)]*battleState['player'][_0x54718e(0x2fb)]);battleState[_0x54718e(0x404)][_0x54718e(0x351)]=Math[_0x54718e(0x4ba)](0x0,battleState['enemy'][_0x54718e(0x351)]-_0x194734),updateDamageValue(_0x194734,![],_0x54718e(0x5e2)),logBattleEvent(_0x54718e(0x567)+_0x194734+_0x54718e(0x265),_0x54718e(0x30c));}handleDrunken(_0x59f828);}function handleSlow(_0x1368d4){const _0x1d96ab=_0x5bf82f,_0x1bfd2f=Math[_0x1d96ab(0x5c6)](battleState[_0x1d96ab(0x404)][_0x1d96ab(0x200)]*0.25);battleState[_0x1d96ab(0x404)][_0x1d96ab(0x200)]-=_0x1bfd2f,battleState[_0x1d96ab(0x404)][_0x1d96ab(0x507)]=!![],showEffect('playerEffect',_0x1d96ab(0x47c)),updateEnemyStatusDisplay(),battleState[_0x1d96ab(0x404)]['slowTimer']=setTimeout(()=>{const _0x222848=_0x1d96ab;battleState[_0x222848(0x404)]['speed']+=_0x1bfd2f,battleState[_0x222848(0x404)]['slow']=![],updateEnemyStatusDisplay();},0xbb8+_0x1368d4*0x3e8);}function handleTerrified(_0x3eb145){const _0x145604=_0x5bf82f,_0x3e7944=Math[_0x145604(0x5c6)](battleAttributes[_0x145604(0x424)]*0x1);battleState[_0x145604(0x404)][_0x145604(0x424)]-_0x3e7944<0x0&&(_0x3e7944=battleState['enemy'][_0x145604(0x424)]),battleState[_0x145604(0x404)]['physicalAttack']-=_0x3e7944,battleState['enemy'][_0x145604(0x3b6)]=!![],showEffect(_0x145604(0x36d),_0x145604(0x3f1)),updateEnemyStatusDisplay(),updateUI(),battleState[_0x145604(0x404)][_0x145604(0x248)]=setTimeout(()=>{const _0x709ee8=_0x145604;battleState[_0x709ee8(0x404)][_0x709ee8(0x424)]+=_0x3e7944,battleState[_0x709ee8(0x404)]['terrified']=![],updateEnemyStatusDisplay(),updateUI();},0xbb8+_0x3eb145*0x3e8);}function handleBurnt(){const _0x2eb86b=_0x5bf82f;if(battleState[_0x2eb86b(0x404)][_0x2eb86b(0x3fd)]){let _0x4dccb7=0x0;const _0x34d30a=battleState['player'][_0x2eb86b(0x200)]-battleState[_0x2eb86b(0x404)][_0x2eb86b(0x200)];_0x34d30a>0x0?_0x4dccb7=0x7d0+_0x34d30a*0x32:_0x4dccb7=0x3e8+Math[_0x2eb86b(0x278)](_0x34d30a)*0x19;battleState[_0x2eb86b(0x404)][_0x2eb86b(0x351)]=Math['max'](0x0,battleState['enemy'][_0x2eb86b(0x351)]-_0x4dccb7),logBattleEvent(_0x2eb86b(0x5bf)+_0x4dccb7+_0x2eb86b(0x233),_0x2eb86b(0x30c)),updateDamageValue(_0x4dccb7,![],_0x2eb86b(0x5e2)),updateUI();if(battleState[_0x2eb86b(0x404)]['health']<=0x0){showNextBattlePrompt(!![]);return;}}}function handleDazed(){const _0x4befe2=_0x5bf82f;if(battleState[_0x4befe2(0x404)][_0x4befe2(0x208)]){if(Math[_0x4befe2(0x435)]()<0.5){const _0x1fa639=battleState['enemy']['physicalAttack'];return battleState[_0x4befe2(0x404)]['health']=Math[_0x4befe2(0x4ba)](0x0,battleState[_0x4befe2(0x404)][_0x4befe2(0x351)]-_0x1fa639),logBattleEvent(_0x4befe2(0x5fa)+_0x1fa639+_0x4befe2(0x265),_0x4befe2(0x52d)),updateDamageValue(_0x1fa639,![],_0x4befe2(0x5cd)),playerTurn=!![],!![];}}return![];}let alreadyUseMushroom=![];function handleMushroom(){const _0x4681ca=_0x5bf82f;if(alreadyUseMushroom||summonEnemy){showInfoBox('现在无法使用，生效失败！',null,null,_0x4681ca(0x30c));return;}alreadyUseMushroom=!![];const _0x260a99=JSON[_0x4681ca(0x384)](JSON[_0x4681ca(0x5f8)](enemyPet)),_0x4c45ad={'health':Math[_0x4681ca(0x372)](enemyPet['health']*0.5),'mana':Math[_0x4681ca(0x372)](enemyPet[_0x4681ca(0x299)]*0.5),'physicalAttack':Math['round'](enemyPet[_0x4681ca(0x424)]*0.5),'physicalDefense':Math[_0x4681ca(0x372)](enemyPet[_0x4681ca(0x479)]*0.5),'magicAttack':Math[_0x4681ca(0x372)](enemyPet[_0x4681ca(0x40f)]*0.5),'magicDefense':Math[_0x4681ca(0x372)](enemyPet[_0x4681ca(0x268)]*0.5),'speed':Math[_0x4681ca(0x372)](enemyPet[_0x4681ca(0x200)]*0.5),'cultivation':Math[_0x4681ca(0x372)](enemyPet['cultivation']*0x1)};enemyPet=_0x4c45ad,enemyMaxHealth=enemyPet['health'],enemyMaxMana=enemyPet[_0x4681ca(0x299)],battleState[_0x4681ca(0x404)]={...enemyPet},logBattleEvent(_0x4681ca(0x27c),_0x4681ca(0x539));function _0x5b2475(){const _0x22dd0a=_0x4681ca;battleState['playerWon']&&(enemyPet=_0x260a99,enemyMaxHealth=enemyPet[_0x22dd0a(0x351)],enemyMaxMana=enemyPet[_0x22dd0a(0x299)],battleState['enemy']={...enemyPet},updateEnemyAttributes());}const _0x3bda59=showNextBattlePrompt;showNextBattlePrompt=function(_0xbbef46){alreadyUseMushroom=![],_0x5b2475(),_0x3bda59(_0xbbef46),showNextBattlePrompt=_0x3bda59;};}function handleSleep(){const _0x32c665=_0x5bf82f;if(battleState[_0x32c665(0x404)][_0x32c665(0x226)])return;const _0x1f27a7=battleState[_0x32c665(0x404)]['health'];console[_0x32c665(0x528)](_0x32c665(0x2d0)+_0x1f27a7),battleState[_0x32c665(0x404)][_0x32c665(0x226)]=!![],logBattleEvent(_0x32c665(0x242),_0x32c665(0x462));const _0x5c55d0=0x2710,_0x4c7175=0x1f4,_0x113c70=setInterval(()=>{const _0x300ba8=_0x32c665;if(!battleState[_0x300ba8(0x404)][_0x300ba8(0x226)]){clearInterval(_0x113c70);return;}battleState[_0x300ba8(0x404)][_0x300ba8(0x351)]=Math[_0x300ba8(0x23d)](enemyMaxHealth,battleState[_0x300ba8(0x404)][_0x300ba8(0x351)]+Math[_0x300ba8(0x372)](enemyMaxHealth*0.005)),updateUI();},_0x4c7175),_0x42b448=setTimeout(()=>{const _0x22fe94=_0x32c665;clearInterval(_0x113c70),battleState['enemy'][_0x22fe94(0x226)]=![],logBattleEvent('敌人从沉睡中醒来了。','pink'),updateUI();},_0x5c55d0),_0x475a87=setInterval(()=>{const _0x5f3d01=_0x32c665;battleState['enemy'][_0x5f3d01(0x351)]<_0x1f27a7&&(clearInterval(_0x113c70),clearTimeout(_0x42b448),clearInterval(_0x475a87),battleState[_0x5f3d01(0x404)][_0x5f3d01(0x226)]=![],logBattleEvent(_0x5f3d01(0x28e),_0x5f3d01(0x462)),updateUI());},0x64);}function getShieldStatus(){const _0x2d055a=_0x5bf82f;extraShield!==0x0?battleState[_0x2d055a(0x3d8)][_0x2d055a(0x5c2)]=!![]:battleState[_0x2d055a(0x3d8)][_0x2d055a(0x5c2)]=![];}function performHeal(){const _0x5aa55c=_0x5bf82f;if(!attributesFetched){showInfoBox(_0x5aa55c(0x4ce));return;}if(!playerTurn)return;if(battleState['player']['taunt']){performAttack('physical');return;}let _0x44644c=0x1;battleState[_0x5aa55c(0x3d8)][_0x5aa55c(0x2d4)]&&(_0x44644c=0x1f4,logBattleEvent(_0x5aa55c(0x2c4),_0x5aa55c(0x2c2)));const _0x13519d=document[_0x5aa55c(0x50b)]('skills-area'),_0x6830f6=Array[_0x5aa55c(0x43e)](_0x13519d[_0x5aa55c(0x2cc)]),_0x54b4bf=_0x6830f6[_0x5aa55c(0x352)](_0x4fb499=>_0x4fb499[_0x5aa55c(0x246)][_0x5aa55c(0x287)]('\x20')[0x0])[_0x5aa55c(0x352)](_0x17779b=>currentPet[_0x5aa55c(0x48f)]['find'](_0x285b59=>_0x285b59['name']===_0x17779b&&(_0x285b59[_0x5aa55c(0x4f7)]==='PH'||_0x285b59[_0x5aa55c(0x4f7)]===_0x5aa55c(0x5d7))))[_0x5aa55c(0x2f9)](_0x32d531=>{return _0x32d531;});let _0x4e8fe9=0x1,_0x412227=0x1,_0x7ce2b8;if(_0x54b4bf[_0x5aa55c(0x490)]>0x0){const _0x33314e=Math['floor'](Math[_0x5aa55c(0x435)]()*_0x54b4bf[_0x5aa55c(0x490)]);_0x7ce2b8=_0x54b4bf[_0x33314e];const _0x3bb5b5=calculateSkillLevelAndMultiplier(_0x7ce2b8);_0x412227=_0x3bb5b5[_0x5aa55c(0x600)],_0x4e8fe9=_0x3bb5b5[_0x5aa55c(0x3c8)],logBattleEvent(_0x5aa55c(0x377)+_0x7ce2b8[_0x5aa55c(0x3eb)]+'\x20'+_0x412227+'级。','aqua');}else{logBattleEvent(_0x5aa55c(0x4f3),_0x5aa55c(0x30c));return;}const _0x1f5d69=handleHealingBan(_0x4e8fe9);if(battleAttributes[_0x5aa55c(0x351)]+_0x1f5d69>maxHealth){const _0x18f24b=battleAttributes[_0x5aa55c(0x351)]+_0x1f5d69-maxHealth,_0x5bef16=Math[_0x5aa55c(0x5c6)](_0x18f24b*0.01);extraShield+=_0x5bef16,console[_0x5aa55c(0x528)](_0x5aa55c(0x413)+extraShield);}const _0x304974=Math['round'](0x184*battleRounds*_0x412227*0.1)*_0x44644c;if(battleAttributes['mana']<_0x304974){logBattleEvent('您的法力值不足，无法治疗！',_0x5aa55c(0x30c));return;}battleAttributes[_0x5aa55c(0x351)]=Math['min'](maxHealth,battleAttributes['health']+_0x1f5d69),battleAttributes['mana']=Math[_0x5aa55c(0x4ba)](0x0,battleAttributes['mana']-_0x304974),logBattleEvent(_0x5aa55c(0x3fe)+_0x1f5d69+_0x5aa55c(0x487)+_0x304974+_0x5aa55c(0x55d),_0x5aa55c(0x441)),showEffect(_0x5aa55c(0x592),'https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c8f.gif'),updateDamageValue(-_0x1f5d69,!![],_0x5aa55c(0x5cd)),handleDivineProtection(_0x54b4bf,_0x412227);_0x7ce2b8&&_0x7ce2b8[_0x5aa55c(0x4f7)]===_0x5aa55c(0x5d7)&&applySpecialSkillEffects(_0x7ce2b8,_0x1f5d69);handleManaRecover(),applyAscensionEffects(),getShieldStatus(),updateUI();if(battleAttributes[_0x5aa55c(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x5aa55c(0x404)]['health']<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![],setTimeout(()=>enemyAttack(),0x15e);}function handleDivineProtection(_0x58e05f,_0x3570c9){const _0x1c73ea=_0x5bf82f;let _0x5f1957=0.05,_0x260481=0x0,_0x4c49c5=0x0;_0x58e05f[_0x1c73ea(0x490)]>0x0&&(_0x5f1957+=_0x3570c9*0.01,_0x260481+=_0x3570c9*0.1);playerCultivation>=0xfa00&&(_0x4c49c5+=playerCultivation/0x2ee0*0.1);let _0x3b07c7=0x3+_0x260481+_0x4c49c5;console[_0x1c73ea(0x528)]('当前仙气护体持续时间为：'+_0x3b07c7),(ascensionSkill[_0x1c73ea(0x3eb)]===_0x1c73ea(0x2fe)||secondAscensionSkill['name']===_0x1c73ea(0x2fe))&&(_0x5f1957=battleState[_0x1c73ea(0x3d8)][_0x1c73ea(0x598)]||0.5,_0x3b07c7=battleState['player'][_0x1c73ea(0x368)]||0x5),Math[_0x1c73ea(0x435)]()<_0x5f1957&&(battleState[_0x1c73ea(0x3d8)][_0x1c73ea(0x4ae)]=!![],logBattleEvent(_0x1c73ea(0x5ce),_0x1c73ea(0x441)),updatePlayerStatusDisplay(),setTimeout(()=>{const _0x439e49=_0x1c73ea;battleState[_0x439e49(0x3d8)]['divineProtection']=![],updatePlayerStatusDisplay();},_0x3b07c7*0x3e8));}let GQreflectPercentage;function handleReflectAndHeal(_0x460ee9){const _0x276078=_0x5bf82f;if(isNaN(_0x460ee9)||_0x460ee9<=0x0){console['error'](_0x276078(0x442),_0x460ee9);return;}if(ascensionSkill[_0x276078(0x3eb)]===_0x276078(0x449)||secondAscensionSkill[_0x276078(0x3eb)]===_0x276078(0x449)){const _0x33a569=(0x2d+0x2*ascensionSkill['level'])/0x64,_0x1a0223=Math[_0x276078(0x435)]()*0xf,_0x4969ea=_0x33a569+_0x1a0223/0x64;if(!isNaN(_0x4969ea)&&_0x4969ea>0x0){let _0x2371b8=Math[_0x276078(0x5c6)](_0x460ee9*_0x4969ea);isNaN(_0x2371b8)&&(_0x2371b8=0x0,console[_0x276078(0x28a)]('Reflect\x20damage\x20is\x20NaN,\x20setting\x20to\x200.'));const _0x50afa1=Math[_0x276078(0x372)]((battleAttributes[_0x276078(0x424)]+battleAttributes[_0x276078(0x40f)])*0x5);_0x2371b8>_0x50afa1&&(_0x2371b8=_0x50afa1),battleState['enemy'][_0x276078(0x351)]=Math[_0x276078(0x4ba)](0x0,battleState[_0x276078(0x404)][_0x276078(0x351)]-_0x2371b8),logBattleEvent(_0x276078(0x31f)+_0x2371b8+_0x276078(0x54f),_0x276078(0x30c)),console[_0x276078(0x528)](_0x276078(0x44e)+_0x4969ea);}else console[_0x276078(0x28a)](_0x276078(0x515),_0x4969ea);}if(battleState['player'][_0x276078(0x2b5)]&&GQreflectPercentage!==null){let _0x43f7b9=GQreflectPercentage,_0x3820d3=Math[_0x276078(0x4ba)](0x3e8,Math[_0x276078(0x5c6)](_0x460ee9*_0x43f7b9));console[_0x276078(0x528)](_0x276078(0x283)+_0x43f7b9),isNaN(_0x3820d3)&&(_0x3820d3=0x0,console[_0x276078(0x28a)](_0x276078(0x3d4))),battleState[_0x276078(0x404)][_0x276078(0x351)]=Math[_0x276078(0x4ba)](0x0,battleState[_0x276078(0x404)]['health']-_0x3820d3),logBattleEvent('反弹状态触发，反弹了\x20'+_0x3820d3+_0x276078(0x46b));}const _0x5bd9e1=applyWuxingEffects();if(_0x5bd9e1[_0x276078(0x2a1)]&&_0x5bd9e1['goldAmulet']>0x0){const _0x55c9a3=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x5bd9e1[_0x276078(0x2a1)]];if(!isNaN(_0x55c9a3)&&_0x55c9a3>0x0){let _0x39822a=Math[_0x276078(0x5c6)](_0x460ee9*_0x55c9a3);isNaN(_0x39822a)&&(_0x39822a=0x0,console[_0x276078(0x28a)](_0x276078(0x3d4))),battleState[_0x276078(0x404)][_0x276078(0x351)]=Math[_0x276078(0x4ba)](0x0,battleState[_0x276078(0x404)]['health']-_0x39822a),logBattleEvent('🟡奥义·金之境界！反弹了\x20'+_0x39822a+_0x276078(0x265),'gold');}else console[_0x276078(0x28a)](_0x276078(0x546),_0x55c9a3);}if(battleState[_0x276078(0x3d8)]['divineProtection']){let _0x1bf9f4=Math['floor'](0x3*battleAttributes[_0x276078(0x40f)]*(Math['random']()*(0.12-0.08)+0.2));isNaN(_0x1bf9f4)&&(_0x1bf9f4=0x0,console[_0x276078(0x28a)](_0x276078(0x488))),battleAttributes[_0x276078(0x351)]=Math[_0x276078(0x23d)](maxHealth,battleAttributes[_0x276078(0x351)]+_0x1bf9f4),updateDamageValue(-_0x1bf9f4,!![],'extra-damage'),logBattleEvent('🔮【玩家治疗】仙气护体触发，恢复了\x20'+_0x1bf9f4+_0x276078(0x40c),_0x276078(0x441)),showEffect(_0x276078(0x592),_0x276078(0x42d));}}let resurrectionState=![],resurrectionTimesMap=new Map();function checkResurrectionState(_0x512cc8){resurrectionState=_0x512cc8>0x0;}function resetResurrectionState(){const _0x57303d=_0x5bf82f;resurrectionTimesMap[_0x57303d(0x1ef)](),checkResurrectionState(0x0);}function handleResurrection(_0x1a1b53){const _0x5eb1c9=_0x5bf82f;if(battleAttributes[_0x5eb1c9(0x351)]>_0x1a1b53)return;if(battleAttributes[_0x5eb1c9(0x351)]<=0x0&&(ascensionSkill[_0x5eb1c9(0x3eb)]===_0x5eb1c9(0x35d)||secondAscensionSkill[_0x5eb1c9(0x3eb)]==='向死而生')){let _0x55b775=ascensionSkill[_0x5eb1c9(0x3eb)]==='向死而生'?ascensionSkill:secondAscensionSkill;const _0x4585dc=_0x55b775[_0x5eb1c9(0x432)]+_0x55b775[_0x5eb1c9(0x3a7)](_0x55b775[_0x5eb1c9(0x48e)]),_0x21992c=Math[_0x5eb1c9(0x5c6)](maxMana*(_0x4585dc/0x64));battleAttributes[_0x5eb1c9(0x299)]>=_0x21992c&&(battleAttributes[_0x5eb1c9(0x351)]=0x1,battleAttributes[_0x5eb1c9(0x299)]-=_0x21992c,logBattleEvent(_0x5eb1c9(0x4a3),_0x5eb1c9(0x30c)),updateUI());return;}const _0x21bcf2=[],_0x209129=document[_0x5eb1c9(0x50b)](_0x5eb1c9(0x497));_0x209129&&Array[_0x5eb1c9(0x43e)](_0x209129[_0x5eb1c9(0x2cc)])[_0x5eb1c9(0x35e)](_0x21aa7e=>{const _0x57a49d=_0x5eb1c9,_0x2dc4ae=_0x21aa7e[_0x57a49d(0x246)][_0x57a49d(0x287)]('\x20')[0x0],_0x1c43f4=currentPet['skills']['find'](_0x17d4f3=>_0x17d4f3[_0x57a49d(0x3eb)]===_0x2dc4ae&&_0x17d4f3['type']==='FH');_0x1c43f4&&_0x21bcf2['push'](_0x1c43f4);});if(_0x21bcf2[_0x5eb1c9(0x490)]===0x0)return;for(const _0x15a6d5 of _0x21bcf2){const _0xa781b1=_0x15a6d5[_0x5eb1c9(0x48e)]||0x1,_0x388d3e=_0x15a6d5[_0x5eb1c9(0x44c)]||0x1,_0x1722e2=Math[_0x5eb1c9(0x350)](_0x388d3e+_0xa781b1*0.01);!resurrectionTimesMap[_0x5eb1c9(0x5ff)](_0x15a6d5[_0x5eb1c9(0x3eb)])&&resurrectionTimesMap['set'](_0x15a6d5[_0x5eb1c9(0x3eb)],0x0);let _0x41cf49=resurrectionTimesMap['get'](_0x15a6d5['name']),_0x5b10cb=_0x1722e2-_0x41cf49;if(_0x41cf49<_0x1722e2&&battleAttributes[_0x5eb1c9(0x351)]<=0x0){const _0x559208=Math[_0x5eb1c9(0x372)](maxHealth*(0.1*_0x388d3e));battleAttributes[_0x5eb1c9(0x351)]+=_0x559208,_0x41cf49++,resurrectionTimesMap[_0x5eb1c9(0x298)](_0x15a6d5[_0x5eb1c9(0x3eb)],_0x41cf49),updateDamageValue(-_0x559208,![],_0x5eb1c9(0x5cd)),logBattleEvent(_0x15a6d5[_0x5eb1c9(0x3eb)]+'\x20'+_0xa781b1+_0x5eb1c9(0x205)+_0x559208+_0x5eb1c9(0x29f)+_0x5b10cb+'次',_0x5eb1c9(0x219)),checkResurrectionState(_0x5b10cb);}else _0x41cf49>=_0x1722e2&&(resurrectionState=![],logBattleEvent(_0x15a6d5[_0x5eb1c9(0x3eb)]+_0x5eb1c9(0x4e3),_0x5eb1c9(0x436)),showNextBattlePrompt(![]));updateUI();}}function handlePlayerPassiveSkills(_0x35a154=null){const _0x12a7ba=_0x5bf82f,_0x13319c=[_0x12a7ba(0x3b1)],_0x58af00=document[_0x12a7ba(0x50b)](_0x12a7ba(0x497));if(!_0x58af00||!currentPet||!currentPet['skills'])return;const _0x2c830c=Array[_0x12a7ba(0x43e)](_0x58af00[_0x12a7ba(0x2cc)]);for(const _0x33719c of _0x2c830c){if(!_0x33719c||!_0x33719c[_0x12a7ba(0x246)])continue;const _0x312c5c=_0x33719c[_0x12a7ba(0x246)];for(const _0x4208af of _0x13319c){if(_0x312c5c[_0x12a7ba(0x3d1)](_0x4208af)){const _0x9d80d8=_0x312c5c[_0x12a7ba(0x287)]('\x20')[0x0],_0x257b20=currentPet[_0x12a7ba(0x48f)][_0x12a7ba(0x37d)](_0x1d18d1=>_0x1d18d1[_0x12a7ba(0x3eb)]===_0x9d80d8);if(!_0x257b20)continue;switch(_0x4208af){case _0x12a7ba(0x3b1):handleShanShuiSkill(_0x257b20,_0x35a154);break;}break;}}}}function handleShanShuiSkill(_0x14e5d6,_0x105389){const _0x44aed2=_0x5bf82f;if(!_0x14e5d6||typeof currentLifeSpan===_0x44aed2(0x548)){console[_0x44aed2(0x528)]('技能或寿命状态无效');return;}if(currentLifeSpan<_0x14e5d6[_0x44aed2(0x48e)]){console['log'](_0x44aed2(0x2cf));return;}if(_0x105389>maxHealth)return;let _0x984a1f=0x0;battleAttributes&&typeof battleAttributes[_0x44aed2(0x40f)]!==_0x44aed2(0x548)&&(_0x984a1f=Math['floor'](battleAttributes[_0x44aed2(0x40f)]*(_0x14e5d6[_0x44aed2(0x44c)]||0x0)));if(_0x105389&&typeof _0x105389===_0x44aed2(0x3f6)){const _0x2e5029=Math['floor'](_0x105389*(_0x14e5d6['multiplier']||0x0));_0x984a1f=Math[_0x44aed2(0x4ba)](_0x984a1f,_0x2e5029);}if(_0x984a1f<=0x0){console[_0x44aed2(0x528)]('治疗量计算为0，不触发效果');return;}currentLifeSpan-=_0x14e5d6['level'];if(typeof battleAttributes[_0x44aed2(0x351)]!=='undefined'&&typeof maxHealth!==_0x44aed2(0x548)){const _0x48a566=battleAttributes[_0x44aed2(0x351)];battleAttributes[_0x44aed2(0x351)]=Math[_0x44aed2(0x23d)](battleAttributes[_0x44aed2(0x351)]+_0x984a1f,maxHealth),logBattleEvent(_0x44aed2(0x366)+_0x14e5d6[_0x44aed2(0x3eb)]+'\x20'+_0x14e5d6['level']+'级触发，治疗了'+_0x984a1f+'点生命值，消耗'+_0x14e5d6[_0x44aed2(0x48e)]+_0x44aed2(0x24e),_0x44aed2(0x219)),updateDamageValue(-_0x984a1f,!![],_0x44aed2(0x5cd)),console[_0x44aed2(0x528)]('上善若水触发:\x20HP\x20'+_0x48a566+_0x44aed2(0x4c4)+battleAttributes[_0x44aed2(0x351)]+_0x44aed2(0x2fa)+_0x14e5d6['level']);}updateUI();}function handleRelieveEffects(){const _0x46092e=_0x5bf82f;try{const _0xa92341=[],_0x3082c5=document[_0x46092e(0x50b)]('skills-area');if(!_0x3082c5){console[_0x46092e(0x474)](_0x46092e(0x214));return;}Array[_0x46092e(0x43e)](_0x3082c5[_0x46092e(0x2cc)])[_0x46092e(0x35e)](_0x4c2859=>{const _0x21afdf=_0x46092e;if(!_0x4c2859||!_0x4c2859[_0x21afdf(0x246)])return;const _0x7380fb=_0x4c2859['innerText'][_0x21afdf(0x287)]('\x20')[0x0];if(!_0x7380fb)return;const _0x48bb6a=currentPet?.['skills']?.['find'](_0x4c8e1e=>_0x4c8e1e[_0x21afdf(0x3eb)]===_0x7380fb&&(_0x4c8e1e[_0x21afdf(0x4f7)]==='JK'||_0x4c8e1e[_0x21afdf(0x4f7)]===_0x21afdf(0x355)));_0x48bb6a&&_0xa92341[_0x21afdf(0x591)](_0x48bb6a);});if(_0xa92341[_0x46092e(0x490)]===0x0)return;for(const _0x18aa82 of _0xa92341){const _0x4ff491=Number(_0x18aa82['level'])||0x1,_0x31eec1=Number(_0x18aa82[_0x46092e(0x44c)])||0.01,_0x135319=Math[_0x46092e(0x23d)](0.1,_0x4ff491*_0x31eec1);if(Math[_0x46092e(0x435)]()<_0x135319){clearEnemyEffect(),logBattleEvent(_0x18aa82['name']+'\x20'+_0x4ff491+_0x46092e(0x570),_0x46092e(0x219));if(_0x18aa82[_0x46092e(0x4f7)]===_0x46092e(0x355))try{applySpecialSkillEffects(_0x18aa82,null);}catch(_0x39b697){console[_0x46092e(0x28a)](_0x46092e(0x4c7),_0x39b697);}}}}catch(_0x2f5132){console[_0x46092e(0x28a)](_0x46092e(0x4aa),_0x2f5132);}finally{updateUI();}}function performDefense(){const _0xacf823=_0x5bf82f;if(!attributesFetched){showInfoBox(_0xacf823(0x4ce));return;}if(!battleState||!battleState[_0xacf823(0x404)]){console[_0xacf823(0x28a)](_0xacf823(0x2b7));return;}if(!playerTurn)return;if(battleState[_0xacf823(0x3d8)][_0xacf823(0x22e)]){performAttack(_0xacf823(0x3be));return;}const _0x5b9a28=document[_0xacf823(0x50b)](_0xacf823(0x497)),_0x5a2248=Array[_0xacf823(0x43e)](_0x5b9a28[_0xacf823(0x2cc)]),_0x1e912d=_0x5a2248[_0xacf823(0x352)](_0x41d8bb=>_0x41d8bb['innerText'][_0xacf823(0x287)]('\x20')[0x0])[_0xacf823(0x352)](_0x4ac855=>currentPet[_0xacf823(0x48f)]['find'](_0x117358=>_0x117358['name']===_0x4ac855&&(_0x117358[_0xacf823(0x4f7)]==='PD'||_0x117358['type']===_0xacf823(0x2d2))))['filter'](_0x43fc94=>_0x43fc94);let _0x3e0f4b=0x1,_0x55b4af=_0xacf823(0x398),_0x1f0dfb;if(_0x1e912d[_0xacf823(0x490)]>0x0){const _0x1c15ff=Math['floor'](Math[_0xacf823(0x435)]()*_0x1e912d[_0xacf823(0x490)]);_0x1f0dfb=_0x1e912d[_0x1c15ff],_0x3e0f4b=_0x1f0dfb[_0xacf823(0x44c)],_0x55b4af=_0x1f0dfb['name'];}let _0x212ee2=(Math['random']()*(0.99-0.8)+0.8)*_0x3e0f4b;battleState[_0xacf823(0x3d8)][_0xacf823(0x20c)]=!![],battleState[_0xacf823(0x3d8)][_0xacf823(0x341)]=_0x212ee2;_0x212ee2<0x1?logBattleEvent('🛡【玩家防御】你施放了防御技能\x20'+_0x55b4af+'，本回合抵抗了\x20'+Math[_0xacf823(0x5c6)](_0x212ee2*0x64)+'%\x20伤害。',_0xacf823(0x412)):logBattleEvent(_0xacf823(0x4e8)+_0x55b4af+_0xacf823(0x3c9)+Math[_0xacf823(0x5c6)](_0x212ee2*0x64)+_0xacf823(0x3db),_0xacf823(0x412));showEffect('enemyEffect',_0xacf823(0x3b5));_0x1f0dfb&&_0x1f0dfb[_0xacf823(0x4f7)]==='PDE'&&applySpecialSkillEffects(_0x1f0dfb,value=null);applyDefenseBonus(_0x55b4af),handleManaRecover(),getShieldStatus(),applyAscensionEffects(),updateUI();if(battleAttributes[_0xacf823(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0xacf823(0x404)][_0xacf823(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function handleDamageReduction(_0x1f666f,_0x29040f=![]){const _0x57a020=_0x5bf82f;let _0x2d6ade=_0x1f666f,_0x519f25=0x0,_0x3e23d2=0x0,_0x36a019=0x0,_0x48a819=_0x1f666f,_0x208c65=0x0;const _0x4cec5f=applyWuxingEffects();_0x48a819=handleWiseDefense(_0x48a819);const _0x52c5bd=document[_0x57a020(0x50b)]('skills-area');if(_0x52c5bd&&currentPet&&currentPet[_0x57a020(0x48f)]){const _0x1db4f7=currentPet[_0x57a020(0x48f)][_0x57a020(0x37d)](_0x568ae4=>_0x568ae4[_0x57a020(0x3eb)]===_0x57a020(0x42e));if(_0x1db4f7){let _0x508c96;_0x1db4f7[_0x57a020(0x48e)]<=0x14?_0x508c96=_0x1db4f7[_0x57a020(0x48e)]*0.005:_0x508c96=0x14*0.005+(_0x1db4f7[_0x57a020(0x48e)]-0x14)*0.01,_0x208c65=Math[_0x57a020(0x5c6)](_0x48a819*_0x508c96),_0x208c65>0x0&&(_0x48a819-=_0x208c65,_0x519f25+=_0x208c65,logBattleEvent(_0x57a020(0x218)+_0x1db4f7[_0x57a020(0x48e)]+_0x57a020(0x38c)+_0x208c65+'点伤害',_0x57a020(0x219)));}}const _0xf80b2a=currentPet[_0x57a020(0x48f)][_0x57a020(0x37d)](_0x1eb65a=>_0x1eb65a[_0x57a020(0x3eb)]==='凤佑天下');if(_0xf80b2a){let _0x580a4d;if(_0xf80b2a[_0x57a020(0x48e)]<=0x14)_0x580a4d=_0xf80b2a[_0x57a020(0x48e)]*0.04;else _0xf80b2a[_0x57a020(0x48e)]<=0x1e&&(_0x580a4d=0x14*0.04+(_0xf80b2a['level']-0x14)*0.01);const _0x1b9056=Math[_0x57a020(0x5c6)](_0x48a819*_0x580a4d);_0x1b9056>0x0&&(_0x48a819-=_0x1b9056,_0x519f25+=_0x1b9056,logBattleEvent(_0x57a020(0x422)+_0xf80b2a['level']+_0x57a020(0x38c)+_0x1b9056+'点伤害',_0x57a020(0x412)));}if((ascensionSkill[_0x57a020(0x3eb)]===_0x57a020(0x53a)||secondAscensionSkill[_0x57a020(0x3eb)]===_0x57a020(0x53a))&&Math[_0x57a020(0x435)]()<battleState[_0x57a020(0x3d8)][_0x57a020(0x32d)]){_0x48a819=0x0,logBattleEvent(_0x57a020(0x57f),_0x57a020(0x539)),showBattleOverlay(_0x57a020(0x3f5),0xbb8,0.8);return;}isNaN(_0x48a819)&&(_0x48a819=0x0,console[_0x57a020(0x28a)](_0x57a020(0x53e)));if(extraShield>0x0){const _0xbf1d82=extraShield;_0x48a819-=extraShield,_0x48a819<0x0?(extraShield=-_0x48a819,_0x48a819=0x0):extraShield=0x0,_0x3e23d2=_0xbf1d82-extraShield;}const _0x56a20f=battleState[_0x57a020(0x3d8)][_0x57a020(0x4f8)]/0x64;if(_0x56a20f>0x0){const _0x52c3a3=Math[_0x57a020(0x5c6)](_0x48a819*_0x56a20f);_0x48a819-=_0x52c3a3,_0x519f25+=_0x52c3a3;}if(battleState[_0x57a020(0x3d8)][_0x57a020(0x20c)]){const _0xb66e29=battleState[_0x57a020(0x3d8)][_0x57a020(0x341)],_0x235e2f=Math[_0x57a020(0x5c6)](_0x48a819*_0xb66e29);_0xb66e29>0x1&&(extraShield+=Math[_0x57a020(0x5c6)](_0x48a819*(_0xb66e29-0x1))),_0x48a819-=_0x235e2f,_0x36a019+=_0x235e2f,battleState['player']['defending']=![];}if(_0x4cec5f[_0x57a020(0x51c)]&&_0x4cec5f[_0x57a020(0x51c)]>0x0){const _0x522895=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x4cec5f[_0x57a020(0x51c)]],_0x20a64b=Math[_0x57a020(0x5c6)](_0x48a819*_0x522895);_0x48a819-=_0x20a64b,_0x519f25+=_0x20a64b,logBattleEvent(_0x57a020(0x3d6)+_0x20a64b+'点所受的伤害。','brown');}const _0x1b1c9a=battleAttributes[_0x57a020(0x351)];battleAttributes[_0x57a020(0x351)]=Math[_0x57a020(0x4ba)](0x0,battleAttributes[_0x57a020(0x351)]-_0x48a819);battleAttributes[_0x57a020(0x351)]>_0x1b1c9a&&(battleAttributes[_0x57a020(0x351)]=_0x1b1c9a);const _0x1ab80c=_0x3e23d2+_0x36a019+_0x519f25+(isNaN(wiseDefense)?0x0:wiseDefense),_0xfb3073=isNaN(_0x1ab80c)?0x0:_0x1ab80c,_0x41eefb=isNaN(_0x48a819)?0x0:_0x48a819,_0x40608c=isNaN(extraShield)?0x0:extraShield;wiseDefenseManaCost=0x0,handleReflectAndHeal(_0x41eefb),_0x29040f?updateDamageValue(_0x41eefb,!![],_0x57a020(0x5cd),!![]):updateDamageValue(_0x41eefb,!![],_0x57a020(0x5cd)),console[_0x57a020(0x528)](_0x57a020(0x1f7)+_0x3e23d2+_0x57a020(0x4d2)+_0x519f25+'，格挡技能抵挡\x20'+_0x36a019+_0x57a020(0x3ae)+(isNaN(wiseDefense)?0x0:wiseDefense)+'点伤害，宽容抵挡了'+_0x208c65+_0x57a020(0x452)+_0x40608c+_0x57a020(0x46a)+_0x41eefb+'\x20点伤害。'),getShieldStatus();}function handleWiseDefense(_0x532bae){const _0x46dc74=_0x5bf82f,_0x32af68=[],_0x3e0fd2=document[_0x46dc74(0x50b)](_0x46dc74(0x497));_0x3e0fd2&&Array[_0x46dc74(0x43e)](_0x3e0fd2['children'])[_0x46dc74(0x35e)](_0xc36edf=>{const _0x4a7225=_0x46dc74,_0x4d9831=_0xc36edf[_0x4a7225(0x246)][_0x4a7225(0x287)]('\x20')[0x0],_0x57056e=currentPet['skills']['find'](_0x2c3829=>_0x2c3829[_0x4a7225(0x3eb)]===_0x4d9831&&_0x2c3829[_0x4a7225(0x4f7)]==='SH');_0x57056e&&_0x32af68['push'](_0x57056e);});if(_0x32af68['length']===0x0)return _0x532bae;let _0x1732d7=_0x532bae;for(const _0x95d3df of _0x32af68){const {skillLevel:_0x38acc,skillMultiplier:_0x18f68f}=calculateSkillLevelAndMultiplier(_0x95d3df),_0x3833c4=Math[_0x46dc74(0x23d)](0.6,0.4+_0x38acc*0.01),_0x38bc0f=0x1+0.05*(_0x38acc-0x1),_0x30857a=Math[_0x46dc74(0x4ba)](0x0,0.19-0.01*(_0x38acc-0x1)),_0x7afb96=Math['floor'](battleAttributes[_0x46dc74(0x299)]*(0x1-_0x30857a)),_0x4d0bfb=Math['round'](_0x1732d7*_0x3833c4),_0x3fb0aa=Math[_0x46dc74(0x23d)](_0x4d0bfb,_0x7afb96*_0x38bc0f),_0x5e05e6=Math[_0x46dc74(0x23d)](_0x7afb96,Math['ceil'](_0x3fb0aa/_0x38bc0f));battleAttributes[_0x46dc74(0x299)]-=_0x5e05e6,_0x1732d7-=Math['round'](_0x5e05e6*_0x38bc0f),wiseDefense=Math[_0x46dc74(0x372)](_0x5e05e6*_0x38bc0f),wiseDefenseManaCost=_0x5e05e6,console['log'](_0x95d3df[_0x46dc74(0x3eb)]+'\x20'+_0x38acc+_0x46dc74(0x4b6)+_0x5e05e6+_0x46dc74(0x55d));}return _0x1732d7;}function applyDefenseBonus(_0x484893){const _0x6d1afb=_0x5bf82f;!battleState[_0x6d1afb(0x3d8)][_0x6d1afb(0x3f4)]&&(battleState[_0x6d1afb(0x3d8)]['defenseBonusCount']=0x0);if(battleState[_0x6d1afb(0x3d8)][_0x6d1afb(0x3f4)]<0x5){battleState[_0x6d1afb(0x3d8)]['defenseBonusCount']+=0x1;const _0x519253=0.06,_0x4008f6=0.09;battleState['player'][_0x6d1afb(0x1ff)]+=_0x519253,battleState['player']['critDamage']+=_0x4008f6,!battleState['player'][_0x6d1afb(0x5ed)]&&(battleState[_0x6d1afb(0x3d8)][_0x6d1afb(0x5ed)]={'critRate':0x0,'critDamage':0x0}),battleState['player'][_0x6d1afb(0x5ed)][_0x6d1afb(0x1ff)]+=_0x519253,battleState['player'][_0x6d1afb(0x5ed)]['critDamage']+=_0x4008f6,battleState['player'][_0x6d1afb(0x409)]=!![],updatePlayerStatusDisplay();}else logBattleEvent(_0x6d1afb(0x2e5),_0x6d1afb(0x423));}function applyDefenseBonusEffect(){const _0x1b20a2=_0x5bf82f;if(battleState[_0x1b20a2(0x3d8)][_0x1b20a2(0x5ed)]){const {critRate:_0x19127d,critDamage:_0x49089a}=battleState['player']['defenseBonus'];battleState[_0x1b20a2(0x3d8)][_0x1b20a2(0x1ff)]-=_0x19127d,battleState['player'][_0x1b20a2(0x262)]-=_0x49089a,logBattleEvent('你的蓄力增益效果已应用：'+Math[_0x1b20a2(0x372)](_0x19127d*0x64)+_0x1b20a2(0x451)+Math[_0x1b20a2(0x372)](_0x49089a*0x64)+'%\x20暴击伤害。','yellow'),battleState[_0x1b20a2(0x3d8)][_0x1b20a2(0x3f4)]=0x0,battleState['player'][_0x1b20a2(0x5ed)]=null,battleState[_0x1b20a2(0x3d8)]['defensing']=![];}}function handleManaRecover(){const _0x4f1857=_0x5bf82f,_0x14bcc8=[],_0x2b112c=document['getElementById']('skills-area');_0x2b112c&&Array[_0x4f1857(0x43e)](_0x2b112c[_0x4f1857(0x2cc)])[_0x4f1857(0x35e)](_0x584797=>{const _0x378f86=_0x4f1857,_0x4aadbb=_0x584797[_0x378f86(0x246)][_0x378f86(0x287)]('\x20')[0x0],_0x42eb43=currentPet[_0x378f86(0x48f)][_0x378f86(0x37d)](_0x14528d=>_0x14528d[_0x378f86(0x3eb)]===_0x4aadbb&&_0x14528d[_0x378f86(0x4f7)]==='HL');_0x42eb43&&_0x14bcc8['push'](_0x42eb43);});if(_0x14bcc8[_0x4f1857(0x490)]===0x0)return;for(const _0x61697f of _0x14bcc8){const _0x5122ec=_0x61697f[_0x4f1857(0x48e)]||0x1,_0x25e1f7=_0x61697f[_0x4f1857(0x44c)]||0x1,_0x1cb035=_0x25e1f7+_0x5122ec*0.01,_0x31b382=Math['round'](maxMana*_0x1cb035);battleAttributes[_0x4f1857(0x299)]=Math[_0x4f1857(0x23d)](maxMana,battleAttributes[_0x4f1857(0x299)]+_0x31b382),logBattleEvent(_0x61697f[_0x4f1857(0x3eb)]+'\x20'+_0x5122ec+_0x4f1857(0x4a7)+_0x31b382+'\x20点法力值。',_0x4f1857(0x224));}}let enemyActionInterval;function decideEnemyCanPerform(){const _0x1c56f0=_0x5bf82f;if(!battleState?.[_0x1c56f0(0x404)]||!battleAttributes){console[_0x1c56f0(0x28a)](_0x1c56f0(0x2b7));return;}const _0x2d0173=document['getElementById'](_0x1c56f0(0x3ef));if(!_0x2d0173){console[_0x1c56f0(0x28a)](_0x1c56f0(0x5cc));return;}enemyActionInterval&&(clearInterval(enemyActionInterval),enemyActionInterval=null);_0x2d0173[_0x1c56f0(0x300)][_0x1c56f0(0x3fc)]='0%';let _0x3b2096=![];enemyActionInterval=setInterval(()=>{const _0x490153=_0x1c56f0;if(!onBattleState){clearInterval(enemyActionInterval),enemyActionInterval=null;return;}if(playerTurn)try{const _0x961d1e=battleState[_0x490153(0x404)][_0x490153(0x200)]||0x0,_0x54fece=Math['max'](0x0,_0x961d1e/(_0x961d1e+0x2710)*battleRounds*0.1),_0x25af67=parseFloat(_0x2d0173[_0x490153(0x300)][_0x490153(0x3fc)])||0x0,_0x302250=Math[_0x490153(0x23d)](0x64,_0x25af67+_0x54fece);_0x2d0173[_0x490153(0x300)][_0x490153(0x3fc)]=_0x302250+'%',_0x302250>=0x64&&(_0x2d0173[_0x490153(0x300)]['width']='0%',playerTurn=![],enemyAttack()),updateUI();}catch(_0x5e9dfa){console[_0x490153(0x28a)]('进度条更新出错:',_0x5e9dfa);}else!_0x3b2096&&(_0x3b2096=!![],setTimeout(()=>{onBattleState&&!playerTurn&&enemyAttack(),_0x3b2096=![];},0x1f4));},0x15e);}document[_0x5bf82f(0x50b)](_0x5bf82f(0x561))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{showInfoBox('这是敌人的行动条，当轮到玩家回合但玩家未行动时，此行动条积满敌人将会行动。行动条的积累速度与敌人的当前速度有关。关闭战斗界面会停止积累。');});function stopEnemyAction(){enemyActionInterval&&(clearInterval(enemyActionInterval),enemyActionInterval=null);}function enemyAttack(){const _0xb901e6=_0x5bf82f;if(!battleState||!battleAttributes||!battleState[_0xb901e6(0x404)]){console['error'](_0xb901e6(0x2b7));return;}!summonEnemy&&handleRampaged();if(playerTurn)return;if(handleDazed())return;if(handleStunned())return;if(battleState[_0xb901e6(0x404)][_0xb901e6(0x226)]){playerTurn=!![];return;}playerTurn=!![];const _0x30e2e0=battleState['enemy'][_0xb901e6(0x351)]/enemyMaxHealth,_0x3e2f45=battleState[_0xb901e6(0x404)][_0xb901e6(0x299)]/enemyMaxMana,_0x3050f4=_0x30e2e0<0.3?0.7:0.1;if(Math['random']()<_0x3050f4){enemyHeal();return;}const _0xc59e59=getRandomInt(0x0,0x64),_0x16e0d2=enemyMaxHealth*0.5;if(battleState[_0xb901e6(0x404)][_0xb901e6(0x351)]<=_0x16e0d2&&_0xc59e59<=0x32){enemyDefense();return;}if(handleEnemySteal(_0x30e2e0,_0x3e2f45)){updateUI();return;}let _0x50e78c=0x0,_0x4997a1=checkCriticalHit(enemyCritRate);battleState[_0xb901e6(0x404)][_0xb901e6(0x589)]&&(_0x4997a1=![]);const _0x4301a8=Math[_0xb901e6(0x435)]()<0.5?_0xb901e6(0x3be):_0xb901e6(0x58c);if(_0x4301a8===_0xb901e6(0x3be))_0x50e78c=performEnemyPhysicalAttack(_0x4997a1);else _0x4301a8===_0xb901e6(0x58c)&&!battleState[_0xb901e6(0x404)]['silenced']?_0x50e78c=performEnemyMagicalAttack(_0x4997a1):logBattleEvent(_0xb901e6(0x4b7),_0xb901e6(0x52d));handleBurnt();(isNaN(_0x50e78c)||_0x50e78c<=0x0)&&(console['error'](_0xb901e6(0x2e0),_0x50e78c),_0x50e78c=0x0);_0x50e78c=handleDamageReduction(_0x50e78c,_0x4997a1),handleResurrection(_0x50e78c),handlePlayerPassiveSkills(_0x50e78c),handleRelieveEffects();if(battleAttributes['health']<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState['enemy'][_0xb901e6(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}else updateUI();}}function performEnemyPhysicalAttack(_0x7f00be){const _0x31aba6=_0x5bf82f;if(handleDodge(_0x31aba6(0x3d8)))return 0x0;const _0x3c4f20=Math[_0x31aba6(0x435)]()*(1.2-0.8)+0.8,_0xd07363=parseInt(document[_0x31aba6(0x50b)](_0x31aba6(0x437))[_0x31aba6(0x246)],0xa)||0x0,_0x2df33c=0x1+_0xd07363/0x64,_0x35338f=battleAttributes[_0x31aba6(0x479)]*_0x3c4f20,_0x49563b=f(_0x35338f),_0xb643cf=Math[_0x31aba6(0x372)](battleAttributes['physicalDefense']*0.1);let _0x4531ed;_0x49563b!==0x0?_0x4531ed=Math[_0x31aba6(0x4ba)](0x1,Math[_0x31aba6(0x5c6)](battleState[_0x31aba6(0x404)][_0x31aba6(0x424)]*1.2*_0x2df33c*(0x1-_0x49563b))):_0x4531ed=Math[_0x31aba6(0x4ba)](0x1,Math[_0x31aba6(0x5c6)](battleState[_0x31aba6(0x404)]['physicalAttack']*1.2*_0x2df33c));_0x4531ed=calculateDamage(_0x4531ed,_0x7f00be,enemyCritDamage),_0x4531ed=Math[_0x31aba6(0x4ba)](0x1,_0x4531ed-_0xb643cf);_0x7f00be?logBattleEvent('⚔️【敌人攻击】妖怪施放物理技能·黑暗血刃并发起暴击，造成了\x20'+_0x4531ed+_0x31aba6(0x225),_0x31aba6(0x30c)):logBattleEvent(_0x31aba6(0x26b)+_0x4531ed+_0x31aba6(0x265),'white');showEffect(_0x31aba6(0x592),_0x31aba6(0x43b));if(battleState[_0x31aba6(0x3d8)][_0x31aba6(0x26d)]){const _0xb56ad9=playerCultivation-enemyPetCultivation;let _0x4dd9c7=0x0;if(_0xb56ad9<0x0){const _0x410062=Math[_0x31aba6(0x278)](_0xb56ad9);enemyPhysicalAttackCount++,_0x4dd9c7=_0x410062*enemyPhysicalAttackCount,logBattleEvent('⚔️【敌人攻击】杀戮状态下由于修为差距，敌人本次物理攻击额外造成了\x20'+_0x4dd9c7+'\x20点伤害！','grey'),updateDamageValue(_0x4dd9c7,!![],_0x31aba6(0x5e2));}else{if(_0xb56ad9>0x0){const _0x3b6860=_0xb56ad9;battleState['enemy'][_0x31aba6(0x351)]-=_0x3b6860,logBattleEvent(_0x31aba6(0x55e)+_0x3b6860+_0x31aba6(0x44a),'grey'),updateDamageValue(_0x4dd9c7,![],'extra-damage');}}_0x4531ed+=_0x4dd9c7;}return(!battleState[_0x31aba6(0x404)]['silenced']||_0x4531ed!==0x0)&&applyEnemyPhysicalEffects(_0x4531ed),_0x4531ed;}function performEnemyMagicalAttack(_0x137136){const _0x88638e=_0x5bf82f;if(battleState['enemy']['mana']<0x32)return enemyAttack('physical'),0x0;const _0x4e5ddf=parseInt(document[_0x88638e(0x50b)](_0x88638e(0x437))[_0x88638e(0x246)],0xa)||0x0,_0x4221c8=0x1+_0x4e5ddf/0x64,_0x565601=Math[_0x88638e(0x435)]()*(1.2-0.8)+0.8,_0x10ee43=battleAttributes[_0x88638e(0x268)]*_0x565601,_0x94762a=f(_0x10ee43),_0x2c46a1=Math[_0x88638e(0x372)](battleAttributes['magicDefense']*0.1);let _0x1f4e2a;_0x94762a!==0x0?_0x1f4e2a=Math[_0x88638e(0x4ba)](0x1,Math[_0x88638e(0x5c6)](battleState[_0x88638e(0x404)]['magicAttack']*_0x4221c8*(0x1-_0x94762a))-_0x2c46a1):_0x1f4e2a=Math['max'](0x1,Math[_0x88638e(0x5c6)](battleState[_0x88638e(0x404)][_0x88638e(0x40f)]*_0x4221c8)-_0x2c46a1);_0x1f4e2a=calculateDamage(_0x1f4e2a,_0x137136,enemyCritDamage),_0x1f4e2a=Math['max'](0x1,_0x1f4e2a-_0x2c46a1);if(handleMagicDodge(_0x88638e(0x3d8)))return 0x0;const _0x3f9826=Math[_0x88638e(0x5c6)](Math[_0x88638e(0x435)]()*(0x64-0x32+0x1))+0x1f4;return battleState['enemy']['mana']=Math[_0x88638e(0x4ba)](0x0,battleState['enemy']['mana']-_0x3f9826),_0x137136?(logBattleEvent(_0x88638e(0x5c3)+_0x1f4e2a+_0x88638e(0x4a0)+_0x3f9826+_0x88638e(0x55d),_0x88638e(0x30c)),showEffect(_0x88638e(0x592),_0x88638e(0x43b))):logBattleEvent('⚔️【敌人攻击】妖怪施放法术技能·嗜血魔咒，造成了\x20'+_0x1f4e2a+_0x88638e(0x45a)+_0x3f9826+_0x88638e(0x55d),'wheat'),showEffect(_0x88638e(0x592),_0x88638e(0x5a7)),applyEnemyMagicEffects(_0x1f4e2a),_0x1f4e2a;}function enemyHeal(){const _0x242ae4=_0x5bf82f;if(enemyHealCount>=0x14){enemyAttack();return;}if(battleState[_0x242ae4(0x404)][_0x242ae4(0x226)])return;const _0x3ad2f2=0x120*battleRounds;if(battleState['enemy'][_0x242ae4(0x299)]<_0x3ad2f2){performEnemyPhysicalAttack(![]);return;}if(battleState['enemy'][_0x242ae4(0x5b3)]){logBattleEvent(_0x242ae4(0x3b2),_0x242ae4(0x336)),performEnemyPhysicalAttack(![]);return;}const _0xf99de=Math[_0x242ae4(0x5c6)](0x3*battleState[_0x242ae4(0x404)][_0x242ae4(0x40f)]*(Math[_0x242ae4(0x435)]()*(1.2-0.8)+0.8));battleState[_0x242ae4(0x404)][_0x242ae4(0x351)]=Math[_0x242ae4(0x23d)](enemyMaxHealth,battleState[_0x242ae4(0x404)][_0x242ae4(0x351)]+_0xf99de),battleState[_0x242ae4(0x404)]['mana']=Math[_0x242ae4(0x4ba)](0x0,battleState['enemy']['mana']-_0x3ad2f2),enemyHealCount+=0x1,logBattleEvent(_0x242ae4(0x3c7)+_0xf99de+_0x242ae4(0x487)+_0x3ad2f2+_0x242ae4(0x55d),'aqua'),showEffect('playerEffect','https://pic.imgdb.cn/item/66754252d9c307b7e9e67706.gif'),updateDamageValue(-_0xf99de,![],_0x242ae4(0x5cd));if(battleState[_0x242ae4(0x404)][_0x242ae4(0x5b2)]){const _0x59408f=Math[_0x242ae4(0x5c6)](battleAttributes[_0x242ae4(0x40f)]*battleRounds*(Math[_0x242ae4(0x435)]()*(0.06-0.03)+0.03));battleState[_0x242ae4(0x404)][_0x242ae4(0x351)]=Math['max'](0x0,battleState[_0x242ae4(0x404)][_0x242ae4(0x351)]-_0x59408f),logBattleEvent(_0x242ae4(0x5fc)+_0x59408f+_0x242ae4(0x40c),_0x242ae4(0x2fd)),updateDamageValue(_0x59408f,![],_0x242ae4(0x5e2));}handleBurnt(),showEffect(_0x242ae4(0x592)),updateUI();}function enemyDefense(){const _0x147e1f=_0x5bf82f;if(battleState[_0x147e1f(0x404)][_0x147e1f(0x226)])return;if(battleState[_0x147e1f(0x404)]['defensing']){enemyAttack();return;}battleState[_0x147e1f(0x404)]['defensing']=!![];const _0x2c6b84=battleState[_0x147e1f(0x404)][_0x147e1f(0x479)],_0xb65a87=battleState[_0x147e1f(0x404)][_0x147e1f(0x268)],_0x2a54f0=Math[_0x147e1f(0x372)]((_0x2c6b84+_0xb65a87)*0.5);battleState[_0x147e1f(0x404)]['physicalDefense']+=_0x2a54f0,battleState[_0x147e1f(0x404)][_0x147e1f(0x268)]+=_0x2a54f0,setTimeout(()=>{const _0x190daf=_0x147e1f;battleState[_0x190daf(0x404)]['defensing']=![],battleState[_0x190daf(0x404)][_0x190daf(0x479)]=_0x2c6b84,battleState[_0x190daf(0x404)][_0x190daf(0x268)]=_0xb65a87,updateUI();},0x7d0),logBattleEvent(_0x147e1f(0x4d6),_0x147e1f(0x412)),showEffect(_0x147e1f(0x36d),_0x147e1f(0x34f));}function applyEnemyPhysicalEffects(_0x33254a){const _0xd60a8f=_0x5bf82f,_0x2ef0ba=['torn',_0xd60a8f(0x43a),_0xd60a8f(0x22e),_0xd60a8f(0x37a),_0xd60a8f(0x26d)],_0x17a0e5=enemyPetCultivation-playerCultivation,_0x2ef271=_0x17a0e5/0x2710*0.01,_0x519895=[];_0x2ef0ba['forEach'](_0x3ef390=>{const _0x2cf755=_0xd60a8f,_0x188685=0.2,_0x134024=Math[_0x2cf755(0x4ba)](0.01,_0x188685+_0x2ef271),_0x50128a=Math['random']();if(battleState[_0x2cf755(0x3d8)][_0x3ef390]){console[_0x2cf755(0x528)](_0x2cf755(0x421)+_0x3ef390+'\x20状态，无法叠加。');return;}_0x50128a<_0x134024&&_0x519895['push'](_0x3ef390);});if(_0x519895['length']>0x0){const _0x3775d3=_0x519895[Math[_0xd60a8f(0x5c6)](Math[_0xd60a8f(0x435)]()*_0x519895[_0xd60a8f(0x490)])];switch(_0x3775d3){case _0xd60a8f(0x2f4):!effectCooldowns[_0xd60a8f(0x2f4)]&&handleTorn();break;case _0xd60a8f(0x43a):!effectCooldowns[_0xd60a8f(0x43a)]&&handleSuppressed();break;case _0xd60a8f(0x22e):!battleState[_0xd60a8f(0x3d8)][_0xd60a8f(0x22e)]&&handleTaunt();break;case _0xd60a8f(0x26d):!battleState[_0xd60a8f(0x3d8)]['slaughter']&&handleSlaughter();break;case _0xd60a8f(0x37a):!battleState[_0xd60a8f(0x3d8)][_0xd60a8f(0x37a)]&&handleSeal();break;}}}function applyEnemyMagicEffects(_0x5461a6){const _0x185340=_0x5bf82f,_0x32f355=['drunken','healingBan','soulCapture',_0x185340(0x542),'spellSlow'],_0x42db93=enemyPetCultivation-playerCultivation,_0x2aa44e=_0x42db93/0x2710*0.01,_0x9abcfb=[];_0x32f355[_0x185340(0x35e)](_0x25a33d=>{const _0x4abab6=_0x185340,_0x3c8686=0.2,_0x1549a7=Math['max'](0.01,_0x3c8686+_0x2aa44e),_0x494684=Math[_0x4abab6(0x435)]();_0x494684<_0x1549a7&&_0x9abcfb[_0x4abab6(0x591)](_0x25a33d);});if(_0x9abcfb[_0x185340(0x490)]>0x0){const _0x1b8dd6=_0x9abcfb[Math['floor'](Math['random']()*_0x9abcfb[_0x185340(0x490)])];switch(_0x1b8dd6){case _0x185340(0x28c):!effectCooldowns[_0x185340(0x28c)]&&(battleState[_0x185340(0x3d8)][_0x185340(0x28c)]=!![],logBattleEvent('你受到了醉酒效果，每次攻击都会受到额外伤害。',_0x185340(0x397)),showEffect(_0x185340(0x592),_0x185340(0x555)),effectCooldowns[_0x185340(0x28c)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x3eddd6=_0x185340;battleState[_0x3eddd6(0x3d8)]['drunken']=![],effectCooldowns['drunken']=![],updatePlayerStatusDisplay();},0x1388));break;case'healingBan':!effectCooldowns[_0x185340(0x4f0)]&&(battleState[_0x185340(0x3d8)][_0x185340(0x4f0)]=!![],logBattleEvent(_0x185340(0x476),_0x185340(0x5dc)),showEffect(_0x185340(0x592),_0x185340(0x555)),effectCooldowns[_0x185340(0x4f0)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x2a4104=_0x185340;battleState['player'][_0x2a4104(0x4f0)]=![],effectCooldowns[_0x2a4104(0x4f0)]=![],updatePlayerStatusDisplay();},0x1388));break;case _0x185340(0x5c0):!effectCooldowns[_0x185340(0x5c0)]&&handleSoulCapture();break;case _0x185340(0x2d4):!effectCooldowns['spellSlow']&&(battleState['player'][_0x185340(0x2d4)]=!![],showEffect(_0x185340(0x592),_0x185340(0x555)),effectCooldowns['spellSlow']=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x33f0bd=_0x185340;battleState[_0x33f0bd(0x3d8)][_0x33f0bd(0x2d4)]=![],effectCooldowns[_0x33f0bd(0x2d4)]=![],updatePlayerStatusDisplay();},0x1388));break;case _0x185340(0x542):!effectCooldowns[_0x185340(0x542)]&&(battleState['player']['blindfold']=!![],logBattleEvent(_0x185340(0x540),_0x185340(0x423)),showEffect(_0x185340(0x592),_0x185340(0x555)),effectCooldowns[_0x185340(0x542)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x377a48=_0x185340;battleState[_0x377a48(0x3d8)][_0x377a48(0x542)]=![],effectCooldowns['blindfold']=![],updatePlayerStatusDisplay();},0x1388));break;}}}function handleEnemySteal(_0x55aa5d,_0x217273){const _0x1448b1=_0x5bf82f;if(_0x55aa5d<0.05&&Math[_0x1448b1(0x435)]()<0.5&&drugInventory[_0x1448b1(0x58d)]&&drugInventory['延寿露'][_0x1448b1(0x53f)]>0x0){if(Math[_0x1448b1(0x435)]()<0.8){const _0x30edaa=Math['min'](0x1e8480,Math[_0x1448b1(0x5c6)](enemyMaxHealth*0.2));battleState[_0x1448b1(0x404)][_0x1448b1(0x351)]=Math[_0x1448b1(0x23d)](enemyMaxHealth,battleState[_0x1448b1(0x404)][_0x1448b1(0x351)]+_0x30edaa),drugInventory[_0x1448b1(0x58d)][_0x1448b1(0x53f)]-=0x1,logBattleEvent(_0x1448b1(0x3ff)+_0x30edaa+_0x1448b1(0x43c),_0x1448b1(0x3dd)),updateDamageValue(-_0x30edaa,![],_0x1448b1(0x5cd)),showEffect(_0x1448b1(0x592),_0x1448b1(0x1fe));}else logBattleEvent(_0x1448b1(0x2ea),_0x1448b1(0x3dd)),handleSlow();return!![];}else{if(_0x217273<0.05&&Math[_0x1448b1(0x435)]()<0.5&&drugInventory[_0x1448b1(0x4a8)]&&drugInventory[_0x1448b1(0x4a8)][_0x1448b1(0x53f)]>0x0){if(Math[_0x1448b1(0x435)]()<0.8){const _0x57cf3c=Math[_0x1448b1(0x23d)](0x1e8480,Math[_0x1448b1(0x5c6)](enemyMaxMana*0.2));battleState[_0x1448b1(0x404)][_0x1448b1(0x299)]=Math[_0x1448b1(0x23d)](enemyMaxMana,battleState['enemy'][_0x1448b1(0x299)]+_0x57cf3c),drugInventory[_0x1448b1(0x4a8)][_0x1448b1(0x53f)]-=0x1,logBattleEvent(_0x1448b1(0x324)+_0x57cf3c+_0x1448b1(0x4d8),_0x1448b1(0x3dd)),showEffect(_0x1448b1(0x592),_0x1448b1(0x1fe));}else logBattleEvent('🥷【敌人偷窃】妖怪想窃取你的资源，但你识破了，没受到任何损失','#66CDAA'),handleSlow();return!![];}}return![];}function handleSlaughter(){const _0x59a3f9=_0x5bf82f;if(battleState[_0x59a3f9(0x3d8)][_0x59a3f9(0x26d)]){console[_0x59a3f9(0x528)](_0x59a3f9(0x471));return;}battleState[_0x59a3f9(0x3d8)][_0x59a3f9(0x26d)]=!![],effectCooldowns[_0x59a3f9(0x26d)]=!![],showEffect(_0x59a3f9(0x592),_0x59a3f9(0x433)),updatePlayerStatusDisplay();const _0x131597=setInterval(()=>{const _0x5031f9=_0x59a3f9;if(!battleState[_0x5031f9(0x3d8)][_0x5031f9(0x26d)]){clearInterval(_0x131597);return;}const _0x3cfa32=playerCultivation-enemyPetCultivation;if(_0x3cfa32>0x0&&battleState[_0x5031f9(0x404)][_0x5031f9(0x351)]<=_0x3cfa32*0x96)battleState[_0x5031f9(0x404)][_0x5031f9(0x351)]=0x0,logBattleEvent(_0x5031f9(0x31e)+battleState[_0x5031f9(0x404)][_0x5031f9(0x351)]+_0x5031f9(0x54e),'#FFDD55'),updateDamageValue(battleState[_0x5031f9(0x404)][_0x5031f9(0x351)],![],_0x5031f9(0x5cd)),updateUI(),updatePlayerStatusDisplay();else _0x3cfa32<0x0&&battleAttributes[_0x5031f9(0x351)]<=Math['abs'](_0x3cfa32)&&(battleAttributes[_0x5031f9(0x351)]=0x0,logBattleEvent(_0x5031f9(0x392)+battleAttributes['health']+'点生命值，被当即斩杀！',_0x5031f9(0x32a)),updateDamageValue(battleState['enemy'][_0x5031f9(0x351)],!![],_0x5031f9(0x5cd)),updateUI(),updatePlayerStatusDisplay());},0x1f4);if(battleAttributes[_0x59a3f9(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x59a3f9(0x404)][_0x59a3f9(0x351)]<=0x0){showNextBattlePrompt(!![]);return;}}setTimeout(()=>{const _0x1d58f0=_0x59a3f9;battleState['player'][_0x1d58f0(0x26d)]=![],effectCooldowns[_0x1d58f0(0x26d)]=![],enemyPhysicalAttackCount=0x0,clearInterval(_0x131597),updatePlayerStatusDisplay();},0x2710);}function handleShocked(){const _0x4dc836=_0x5bf82f;battleState[_0x4dc836(0x3d8)][_0x4dc836(0x4d5)]&&(battleAttributes[_0x4dc836(0x479)]=Math[_0x4dc836(0x4ba)](0x0,Math['floor'](battleAttributes['physicalDefense']*0.8)),battleAttributes[_0x4dc836(0x268)]=Math[_0x4dc836(0x4ba)](0x0,Math[_0x4dc836(0x5c6)](battleAttributes[_0x4dc836(0x479)]*0.8)));}function handleSeal(){const _0x47feca=_0x5bf82f;if(battleState[_0x47feca(0x3d8)][_0x47feca(0x37a)])return;battleState[_0x47feca(0x3d8)]['seal']=!![],battleState[_0x47feca(0x3d8)]['originalAscensionSkill']=ascensionSkill[_0x47feca(0x3eb)],battleState[_0x47feca(0x3d8)][_0x47feca(0x463)]=secondAscensionSkill[_0x47feca(0x3eb)],ascensionSkill[_0x47feca(0x3eb)]=_0x47feca(0x563),secondAscensionSkill['name']=_0x47feca(0x563),updateAscensionDisplay(),updateSecondAscensionDisplay(),logBattleEvent(_0x47feca(0x547),_0x47feca(0x441)),setTimeout(()=>{const _0x611215=_0x47feca;battleState[_0x611215(0x3d8)]['seal']=![],ascensionSkill[_0x611215(0x3eb)]=battleState['player'][_0x611215(0x58b)],secondAscensionSkill['name']=battleState[_0x611215(0x3d8)]['originalSecondAscensionSkill'],logBattleEvent(_0x611215(0x282),_0x611215(0x441)),updateAscensionDisplay(),updateSecondAscensionDisplay(),updateUI();},0x2710);}function handleTorn(){const _0x2d69f4=_0x5bf82f;battleState[_0x2d69f4(0x3d8)][_0x2d69f4(0x2f4)]=!![],showEffect(_0x2d69f4(0x592),_0x2d69f4(0x582)),effectCooldowns['torn']=!![],updatePlayerStatusDisplay();const _0xb4100f=setInterval(()=>{const _0x45f528=_0x2d69f4;if(!battleState[_0x45f528(0x3d8)][_0x45f528(0x2f4)]){clearInterval(_0xb4100f);return;}const _0x337628=Math[_0x45f528(0x5c6)](battleState[_0x45f528(0x404)]['physicalAttack']*0.1);battleAttributes[_0x45f528(0x351)]=Math['max'](0x0,battleAttributes[_0x45f528(0x351)]-_0x337628),updateDamageValue(_0x337628,!![],_0x45f528(0x5e2)),updateUI(),updatePlayerStatusDisplay();},0x1f4);if(battleAttributes[_0x2d69f4(0x351)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x2d69f4(0x404)]['health']<=0x0){showNextBattlePrompt(!![]);return;}}setTimeout(()=>{const _0x2764ea=_0x2d69f4;battleState[_0x2764ea(0x3d8)][_0x2764ea(0x2f4)]=![],effectCooldowns[_0x2764ea(0x2f4)]=![],clearInterval(_0xb4100f),updatePlayerStatusDisplay();},0x2710);}const suppressionState={'actionPerformed':![],'timeoutId':null};function handleSuppressed(){const _0x420014=_0x5bf82f;if(battleState[_0x420014(0x3d8)][_0x420014(0x43a)])return;battleState[_0x420014(0x3d8)][_0x420014(0x43a)]=!![],logBattleEvent(_0x420014(0x527),_0x420014(0x4dc)),showEffect(_0x420014(0x592),_0x420014(0x582)),effectCooldowns[_0x420014(0x43a)]=!![],updatePlayerStatusDisplay(),suppressionState[_0x420014(0x5f7)]=![];const _0x311472=performPhysicalAttack,_0x30126e=performMagicalAttack,_0xedd921=performHeal,_0x34019e=performPoison,_0xff71ad=performDefense,_0x141239=_0x2ab0b9=>{return function(..._0x2db9fa){const _0x2fd77f=_0x45ff;return suppressionState[_0x2fd77f(0x5f7)]=!![],_0x2ab0b9[_0x2fd77f(0x3af)](this,_0x2db9fa);};};performPhysicalAttack=_0x141239(performPhysicalAttack),performMagicalAttack=_0x141239(performMagicalAttack),performHeal=_0x141239(performHeal),performPoison=_0x141239(performPoison),performDefense=_0x141239(performDefense),suppressionState[_0x420014(0x340)]=setTimeout(()=>{cleanSuppressed();},0xbb8);}let tauntTimeout;function handleTaunt(){const _0x4965d3=_0x5bf82f;if(battleState[_0x4965d3(0x3d8)]['taunt']){logBattleEvent(_0x4965d3(0x1f9),_0x4965d3(0x4dc));return;}clearTimeout(tauntTimeout),battleState[_0x4965d3(0x3d8)][_0x4965d3(0x22e)]=!![],logBattleEvent('妖怪极尽嬉笑怒骂之攻势,你未能压抑心中怒火,嘲讽时间内你只能对其使用物理攻击。',_0x4965d3(0x4dc)),showEffect(_0x4965d3(0x592),_0x4965d3(0x582)),effectCooldowns['taunt']=!![],updatePlayerStatusDisplay(),updateUI(),tauntTimeout=setTimeout(()=>{const _0x4a297a=_0x4965d3;battleState['player']['taunt']=![],effectCooldowns[_0x4a297a(0x22e)]=![],updatePlayerStatusDisplay(),updateUI();},0x2710);}function handleHealingBan(_0x4f7014){const _0x479cec=_0x5bf82f;if(battleState[_0x479cec(0x3d8)][_0x479cec(0x4f0)])return 0x0;let _0x38972d=Math[_0x479cec(0x5c6)](0x3*battleAttributes[_0x479cec(0x40f)]*(Math[_0x479cec(0x435)]()*(0.12-0.08)+0.08)*_0x4f7014),_0x113143;const _0x41445a=applyWuxingEffects();if(_0x41445a[_0x479cec(0x2b9)]&&_0x41445a['woodAmulet']>0x0){const _0x1ecd47=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x41445a[_0x479cec(0x2b9)]],_0x5eccf3=Math[_0x479cec(0x5c6)](_0x38972d*_0x1ecd47);_0x38972d=Math[_0x479cec(0x5c6)](_0x38972d*(0x1+_0x1ecd47)),logBattleEvent(_0x479cec(0x375)+_0x5eccf3+'。',_0x479cec(0x441));}return _0x38972d;}function handleSoulCapture(){const _0x1758cd=_0x5bf82f;if(battleState[_0x1758cd(0x3d8)][_0x1758cd(0x5c0)])return;battleState['player'][_0x1758cd(0x5c0)]=!![],battleAttributes[_0x1758cd(0x424)]*=0.5,battleAttributes['magicAttack']*=0.5,logBattleEvent('你受到了摄魂效果，攻击力大幅下降。',_0x1758cd(0x5dc)),showEffect(_0x1758cd(0x592),_0x1758cd(0x555)),updatePlayerStatusDisplay(),setTimeout(()=>{const _0x43d2d7=_0x1758cd;battleState[_0x43d2d7(0x3d8)][_0x43d2d7(0x5c0)]=![],battleAttributes[_0x43d2d7(0x424)]=battleState[_0x43d2d7(0x3d8)][_0x43d2d7(0x424)],battleAttributes[_0x43d2d7(0x40f)]=battleState[_0x43d2d7(0x3d8)]['magicAttack'],updateUI(),updatePlayerStatusDisplay();},0x1388);}function handleDrunken(_0x26a68a){const _0x41be82=_0x5bf82f;if(battleState['player'][_0x41be82(0x28c)]&&_0x26a68a>0x0){const _0x4d1197=Math[_0x41be82(0x5c6)](_0x26a68a*0.05);battleAttributes[_0x41be82(0x351)]=Math[_0x41be82(0x4ba)](0x0,battleAttributes['health']-_0x4d1197),logBattleEvent(_0x41be82(0x3bf)+_0x4d1197+_0x41be82(0x3f8),_0x41be82(0x397)),updateDamageValue(_0x4d1197,!![],'extra-damage');}}let enemyRivival=![],enemyRivivalCount=0x0;function handleRampaged(){const _0x53aa37=_0x5bf82f;console['log'](_0x53aa37(0x405)+battleRounds+_0x53aa37(0x20d)+battleState[_0x53aa37(0x404)][_0x53aa37(0x351)]+_0x53aa37(0x49e)+enemyMaxHealth);if(summonEnemy)return;enemyRivival&&(enemyRivival=![]);if(battleRounds===0x96)enemyCritRate=0x1,enemyCritDamage=3.5,battleState['enemy'][_0x53aa37(0x3d7)]=!![],changeEnemyImage(_0x53aa37(0x2ab)),setBackgroundImage(_0x53aa37(0x530)),console[_0x53aa37(0x528)]('Enemy\x20is\x20rampaged.');else{if(battleRounds>0x96&&battleRounds%0xa===0x0)enemyCritRate=0x1,enemyCritDamage=3.5,battleState[_0x53aa37(0x404)][_0x53aa37(0x3d7)]=!![],changeEnemyImage(_0x53aa37(0x4b0)),setBackgroundImage(_0x53aa37(0x5b0)),console['log'](_0x53aa37(0x49f));else battleRounds<=0x96&&battleRounds%0xa===0x0?(enemyCritRate=0x1,enemyCritDamage=2.5,battleState[_0x53aa37(0x404)][_0x53aa37(0x3d7)]=!![],changeEnemyImage(_0x53aa37(0x3d7)),setBackgroundImage(_0x53aa37(0x530)),console[_0x53aa37(0x528)]('Enemy\x20is\x20rampaged.')):(battleState[_0x53aa37(0x404)][_0x53aa37(0x3d7)]=![],changeEnemyImage(battleRounds>0x96?'realShape':'default'),setBackgroundImage(battleRounds>0x96?_0x53aa37(0x450):'https://pic.imgdb.cn/item/66bc6806d9c307b7e987b92d.webp'),console[_0x53aa37(0x528)](_0x53aa37(0x39d)));}battleState[_0x53aa37(0x404)][_0x53aa37(0x3d7)]&&battleState[_0x53aa37(0x404)][_0x53aa37(0x351)]<enemyMaxHealth*0.2&&enemyRivivalCount<=(battleRounds===0x96?0x3:0x1)&&(enemyRivivalCount+=0x1,logBattleEvent(_0x53aa37(0x41a),_0x53aa37(0x30c)),enemyRivival=!![],console[_0x53aa37(0x528)]('Revival\x20triggered.\x20revivalCount:\x20'+enemyRivivalCount),setTimeout(()=>{const _0x333747=_0x53aa37;enemyRivival&&battleState[_0x333747(0x404)][_0x333747(0x351)]<enemyMaxHealth*0.2&&(battleState[_0x333747(0x404)][_0x333747(0x351)]=enemyMaxHealth,logBattleEvent(_0x333747(0x1f4),_0x333747(0x30c)),updateDamageValue(-enemyMaxHealth,![],'damage'),enemyRivival=![],updateUI(),console[_0x333747(0x528)]('Enemy\x20revived\x20to\x20full\x20health.'));},0x7d0));}function useDrug(){const _0x43186d=_0x5bf82f;!alreadyUseDrug&&(showInfoBox('这是你第一次打开药品面板，附送至尊药品礼包一份！'),alreadyUseDrug=!![]);if(battleState[_0x43186d(0x3d8)][_0x43186d(0x22e)]){performAttack('physical');return;}document['getElementById'](_0x43186d(0x51f))['style'][_0x43186d(0x48a)]=_0x43186d(0x3b3),updateDrugGrid();}function updateDrugGrid(){const _0x55cc85=_0x5bf82f,_0x1a4163=document[_0x55cc85(0x50b)](_0x55cc85(0x24d));_0x1a4163[_0x55cc85(0x33c)]='';for(let _0x36152a in drugInventory){if(drugInventory[_0x36152a][_0x55cc85(0x53f)]>0x0){const _0x5da7f5=document['createElement'](_0x55cc85(0x221));_0x5da7f5['className']=_0x55cc85(0x41e),_0x5da7f5[_0x55cc85(0x33c)]=_0x55cc85(0x571)+drugInventory[_0x36152a][_0x55cc85(0x31d)]+_0x55cc85(0x569)+_0x36152a+_0x55cc85(0x59b)+_0x36152a+_0x55cc85(0x38e)+drugInventory[_0x36152a][_0x55cc85(0x53f)]+_0x55cc85(0x2a9),_0x5da7f5[_0x55cc85(0x1fc)]=()=>selectDrug(_0x36152a),_0x1a4163['appendChild'](_0x5da7f5);}}if(selectedDrug){const _0x50970b=Array[_0x55cc85(0x43e)](_0x1a4163[_0x55cc85(0x4f5)](_0x55cc85(0x41e)))[_0x55cc85(0x37d)](_0x2464d8=>_0x2464d8[_0x55cc85(0x5e3)](_0x55cc85(0x221))['innerText'][_0x55cc85(0x3cf)](selectedDrug));_0x50970b&&(_0x50970b[_0x55cc85(0x300)][_0x55cc85(0x553)]='2px\x20solid\x20white',_0x50970b[_0x55cc85(0x300)][_0x55cc85(0x258)]=_0x55cc85(0x445),_0x50970b[_0x55cc85(0x300)]['padding']=_0x55cc85(0x469));}}function _0x2df6(){const _0x490ebf=['试炼之地召唤卡数量不足，自动战斗已停止！','https://pic.imgdb.cn/item/669a6459d9c307b7e91b9003.png','金子打点进山凭证，采集到了1个','target','goldBonus','pierced','妖怪的生命力正在复苏，请在2秒内击杀它，否则它将复活！','https://pic.imgdb.cn/item/669e973ad9c307b7e9381309.gif','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:\x20right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.closeDivineWeaponUI()\x22\x20style=\x22background:\x20transparent;\x20border:\x20none;\x20color:\x20white;\x20font-size:\x2020px;\x20cursor:\x20pointer;\x22>×</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2020px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','使用双倍经验药，60秒内战斗获胜所得经验变成两倍。','drug-item','正常形态下，它会交替使用物理和法术技能攻击妖怪。妖怪精通人心操纵之术,若玩家被施加\x22醉酒\x22、\x22摄魂\x22等效果，战局风险会极大提高。','key','玩家已经处于\x20','【被动技能】凤佑天下\x20','yellow','physicalAttack','生生不息','totalPierceDamage','⚔️【玩家攻击】你操控小树枝击向了对方。','span','createDamageElement','transform','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b0c.png','复活中','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c7d.gif','元素力量（宽容）','当玩家受击时，有','Blessing!','开启增益','baseValue','https://pic.imgdb.cn/item/66a33f39d9c307b7e942c36c.gif','\x20升级失败了！','random','gray','enemy-level','pet-select','！点击确认继续战斗，取消回到主页。','suppressed','https://pic.imgdb.cn/item/66a0d3e8d9c307b7e93a8108.gif','点生命值。','\x20点法术伤害，消耗了\x20','from','1px\x20solid\x20white','https://pic.imgdb.cn/item/6672bfa5d9c307b7e9b19753.webp','aqua','Invalid\x20damage\x20value:','applyNirvanaGemEffects','https://pic.imgdb.cn/item/66712ba3d9c307b7e9f2ab59.gif','10px','currentPet\x20is\x20not\x20initialized','宠物已达到最高等级，经验值上限被设为最大值。','cursor','以牙还牙','\x20点生命值！','您的精灵增幅已经到了一个比较高的层次，确定继续吗？','multiplier','蓝色品阶，20秒内暴击率提高50%','Current\x20reflectPercentage\x20is\x20','\x20点法力值！','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b907.webp','%\x20暴击率和\x20','点伤害，目前护盾量为\x20','close-ascension-modal','珍贵的神秘药材','appendChild','焚灵之丸','，说明：','spirit-physical-defense','https://pic.imgdb.cn/item/66cd61f8d9c307b7e9af46c0.png','\x20点伤害，消耗了\x20','⚔️【玩家攻击】你造成了\x20','10px\x2020px','enhanceBowl','你至少需要5个同类药品才能进行合成！（橙色品阶需要3个）','\x20级，保底\x20','spirit-magic-attack','entries','pink','originalSecondAscensionSkill','您耗费了\x20','每10轮妖怪会进入狂暴状态，此时妖怪生命低于20%时将在2秒内加持霸体且触发复生。','你使用3个','\x20\x0a6.\x20生命值是玩家受到伤害时会扣除的值，战斗过程中玩家的血量会每秒按照上线比例进行减少\x20\x0a7.\x20法力值是玩家使用技能时的必要消耗数值\x20\x0a8.\x20物理攻击决定物理类技能的伤害基础\x20\x0a9.\x20物理防御决定玩家对敌人物理技能的减伤效果，请注意，减伤效果并不是线性增加的，当防御数值达到临界值后，减伤效果的增长将会变缓（下同法术防御）\x20\x0a10.\x20法术攻击决定玩家的法术伤害类技能的强度，同时决定了玩家的治疗能力和施毒能力\x20\x0a11.\x20法术防御决定了玩家抵抗敌人法术伤害的减伤效果\x20\x0a12.速度决定战斗开始时的出手先后顺序，同时也决定了物理闪避率（根据双方速度之差判断闪避概率）','洗练失败，等级下降了\x20','5px','，你最终受到了\x20','\x20点真实伤害给妖怪。','财源滚滚','焚灵之丸效果无法触发，生命值不足20%。','https://pic.imgdb.cn/item/66a48e2cd9c307b7e9649085.png','轮，当前是','飞升之术增益已启用！','玩家已经处于杀戮状态，无法叠加。','createElement','strength','warn','second-ascension-name','你受到了禁疗效果，无法恢复生命值。','gridTemplateColumns','lostBook','physicalDefense','https://pic.imgdb.cn/item/66742c80d9c307b7e930b160.gif','battle-log-head','https://pic.imgdb.cn/item/66742c80d9c307b7e930b159.gif','经验值:\x20','specialty','武尊秘露','https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c332.gif','Invalid\x20damage\x20value:\x20NaN.','player-cultivation','intimidatedTimer','当玩家使用物理攻击时，会吸收等同伤害值','这是一个召唤得来的怪物。','该技能已达到目前阶段最高等级！请尝试使用药品系统中的“魔术棱柱”进行升级！','\x20点生命值，消耗了\x20','Heal\x20amount\x20is\x20NaN,\x20setting\x20to\x200.','您的法力值不足！','display','action','神品·定空的灵石\x20(Lv','绿色品阶，恢复玩家20%的生命值','level','skills','length','https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c420.gif','interval','enemy-damage-value','settlement','22QtFhfW','right','skills-area','toggle','floatUpLeftCritical','cultivationPill500','\x201s\x20ease-out\x20forwards;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','refresh-second-ascension','试炼之地开始！持续60秒，期间会自动开始战斗，请勿执行其他操作以免造成崩溃！',',\x20enemyMaxHealth:\x20','Enemy\x20is\x20rampaged.','\x20的猛烈伤害！消耗了\x20','高级树桩','spellMasteryChance','向死而生触发，生命值恢复至1，消耗大量法力值。','使用武尊秘露，物理攻击力提升150%，持续20秒。','benumbed','本轮战斗胜利获得了:\x20','级为你恢复了\x20','天山雪莲','floatUpLeft','处理解控效果时发生错误:','每秒有','grey','enemyCritDamage','divineProtection','expEnemy','darkShape','🧚🏻战斗精灵的赐福，你还额外获得了\x20','center','openDivineWeaponUI','，你想使用哪种方式升级？\x0a【宇宙之心】按钮：使用5个宇宙之心（必定成功）\x0a【技能书】按钮：使用1本技能书（20%成功）','%的生命值，每级提升1%','级消耗\x20','妖怪被沉默，无法进行法术攻击。','白色品阶，恢复1000点生命值和法力值，收集3个可以合成1个绿色品阶的药品','https://pic.imgdb.cn/item/66a484fcd9c307b7e95c2645.gif','max','永久增加了\x20','https://pic.imgdb.cn/item/666aa7b6d9c307b7e9495e97.png','物理防御力','【提示】这里是战斗面板，测试当前宠物极限战斗能力，轮次越高，当前宠物越强悍。\x20\x0a\x0a\x20【清屏】点击上方战斗记录字样可清屏\x20\x0a\x0a\x20【兼容】如果你无法完整看到本文本框底部，请调整网页字体大小至适当值','ascension-name','残页的河图','scale(1)','力劈华山','%;\x20height:\x20100%;\x20background:\x20','\x20->\x20','你对妖怪造成了\x20','🧚🏻Attack\x20from\x20your\x20best\x20teammate！敌人受到来自精灵的','应用特殊效果时发生错误:','绿色品阶，每1.5秒恢复1%生命值值，持续3秒，可叠加生效','ignoranceWater','https://pic.imgdb.cn/item/666c1408d9c307b7e9cea328.png','reward','goldCompensation','\x20秒的仙气护体。','请先从属性面板获取属性。','https://pic.imgdb.cn/item/666d311dd9c307b7e996b5a8.png','%概率驱散以下减益效果：','.selected-skill','\x20点伤害，土符抵挡了','，但\x20','每次使用法术攻击时，有','shocked','🛡【敌人防御】敌人释放了能量场，双防得到了提升！','铜墙铁壁','点法力值。','橙色品阶，永久提高1%暴击率','物理攻击力','见手青','#FF4500','仙气护体','功夫不负有心人，你意外获得一份藏宝图！','敌人闪避概率为：','rewardMessage','效果尚在冷却中，无法叠加使用。','textContent','\x20已经无法再触发复活。','玩家闪避概率为：','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c68.gif','enemy-name','hidden','🛡【玩家防御】你施放了防御技能\x20','https://pic.imgdb.cn/item/666d311dd9c307b7e996b565.png','⚔️【玩家攻击】触发法术精通，你再次施放了\x20','点经验值，将','斩龙一式','healing','rarity','#ADFF2F','healingBan','点生命值和','妖怪一共有150轮，通关后可以继续挑战无尽Boss“深渊之神”。这是一个强大的怪物，能力多变。','当前宠物没有学会任何治疗技能！','3296444oPZPOj','getElementsByClassName','#00BBFF','type','damageReductionPercentage','慈悲心怀','法术迟钝','#D3D3D3','你的无动于衷极大助长了妖怪的威压，它降下地狱之火焚尽了你的战斗能力。','angelWings','100%','沉檀凝香生效，但未能清除异常状态。','lightgreen','tornInterval','attribute-exp-bar','spiritPowerActive','none','金子打点进山凭证，采集到了','穿透效果持续中','slow','当前技能已达到最大等级！','無班之魂','你没有宇宙精华了！','getElementById','second-ascension-effect','蓝色品阶，临时增加59点生命值和法力值，收集3个可以合成1个紫色品阶的药品','https://pic.imgdb.cn/item/667269e9d9c307b7e915e15a.gif','\x20点物理伤害！','吸血魔刃触发,吸取了\x20','有1个内丹元气已耗尽，请及时补充！','遗失的洛书','使用慧心糖果，暴击伤害永久提高1%。','妖怪被眩晕，无法行动。','Invalid\x20reflectPercentage:','ascension-effect','24px','\x22\x20alt=\x22残页的河图\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>','https://pic.imgdb.cn/item/66a61b8cd9c307b7e9b71e30.gif','https://pic.imgdb.cn/item/669a7ce3d9c307b7e9450f04.png','天赋高级技能需要使用特殊道具\x22宇宙之心\x22才能升级，请尝试获取后再操作','earthAmulet','晗灵果','挑战召唤的敌人往往会获得更丰富的奖励','drug-modal','your-pet-physical-attack','https://pic.imgdb.cn/item/66742a77d9c307b7e92c52b4.gif','cultivation','天空精华','。\x0a2.精灵的各项数值为：\x0a\x20','second-ascension-skill','魔术棱柱最高只能将所选技能等级提升至24级！','你受到了压制效果，必须在3秒内进行有效操作。','log','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718cb5.gif','绿色品阶，每1.5秒恢复2%法力值，持续3秒，可叠加生效','usingBuff','⭐️生命值','white','effects','\x20成功升级至\x20','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b921.webp','baiYin','background-color\x200.3s,\x20transform\x200.3s','选中药品后可直接使用，低品阶药品可合成更高品阶的药品。采集会花费金子，采集所得的原始药材只能用于合成。战斗精灵成长后，每次战斗胜利会有额外的掉落奖励。','\x20级！','狂暴印记冷却结束。','wounded','https://pic.imgdb.cn/item/668a30dbd9c307b7e9c54fff.gif','使用幸运金币，你成功回退至10轮之前。','silver','无我之境','你花费','#e0a800','蓄力中','Damage\x20is\x20NaN,\x20setting\x20to\x200.','quantity','你被附加了失明，施放物理技能时将无法对敌人造成伤害！','法力燃烧','blindfold','穷奇擅长吸收敌人的生命之力转换为自己的护甲','selected-skill','149622JZerqY','Invalid\x20goldReflectPercentage:','远古魔神的低吟充满离散心智的声量，令你短暂被封印了飞升技能带来的战斗增益。','undefined','%的生命值','top','textAlign','的战斗中失败了，没有获得任何奖励。','\x20成功升至\x20','点生命值，被当即斩杀！','\x20点伤害给妖怪。','https://pic.imgdb.cn/item/665433e8d9c307b7e93ac758.gif','上古心魔','使用沉檀凝香，恢复了\x20','border','equippedPet','https://pic.imgdb.cn/item/66742cffd9c307b7e931d5ee.gif','金子不足，无法进行采集！','9999','全部升级','您的法力值不足，无法使用施毒之法！','升级说明','开启神器后才能执行升级！','醉酒状态下，你招式过猛误伤自身，受到\x20','\x20点法力值。','⚔️【敌人攻击】杀戮状态下由于修为差距，敌人在施放物理攻击时自身损失了\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22','enemy-speed-container','⚔️【玩家攻击】触发法术精通，但没有可用的法术攻击技能，使用普通法术攻击。','被封印的技能','armorBreak','translate(-50%,\x20-50%)','https://pic.imgdb.cn/item/66726727d9c307b7e9118748.png','灵魂穿刺触发，额外造成了\x20','尚未开启！','\x22\x20alt=\x22','removeEventListener','keys','\x20点中毒伤害，消耗了\x20','enemy-pet-physical-defense','3nvjIeI','持续时间内，敌人一共受到\x20','级触发，成功解除敌人的控制效果！','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','消耗一本','焉知非福','三花丸','\x20点穿透余波伤害。','lifeSpanBonus','linear-gradient(to\x20bottom,\x20#477AD6,\x20#8FF1FD,\x20#477AD6)','Invalid\x20target\x20for\x20dodge\x20handling','金牌调解','1个珍贵的洪荒至尊仙葫。在这次艰难的对抗中，你的宠物与你并肩作战，好感大增，亲密度增加了600！','getEffectChineseName','stoneDragon','挑战失败会受到惩罚。','spirit-health','遁入无我之境！','你跳过了','addEventListener','https://pic.imgdb.cn/item/669c8a9ed9c307b7e94f5766.gif','PPE','rgba(0,\x200,\x200,\x200.8)','沉檀凝香','法力吸取','closeDivineWeaponUI','linear-gradient(to\x20bottom,\x20#7E2723,\x20#9F322C,\x20#CB5D5A,\x20#CB5D5A,\x20#9F322C,\x20#7E2723)','intimidated','initialize','originalAscensionSkill','magical','延寿露','#0066ff','没有技能需要升级或经验不足！','player-physical-dodge-rate','push','enemyEffect','太古魔魂','universalKernel','宇宙之心数量不足，无法升级！','spirit-multiplier','你已经成功挑战150轮！你的爱宠经受住了魔王的考验，恭喜你！继续挑战会进入无尽模式。','divineProtectionChance','battle-spirit-button','gap','\x22\x20width=\x2245\x22\x20height=\x2245\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>','https://pic.imgdb.cn/item/66a33f3ad9c307b7e942c38c.gif','残页的河图开启后，能够为你的法术技能附加专属效果，同时最多拥有3个效果。可以附加效果如下：\x0a1.迟缓：根据伤害量的比例降低敌人的当前速度\x20\x0a2.沉默：持续时间内禁止怪物施放法术技能及附加减益效果\x20\x0a3.混乱：持续时间内怪物可能会攻击自己\x20\x0a4.灼烧：造成伤害时会给敌人附加额外灼烧伤害，己方速度之于怪物越快，灼烧伤害越猛烈\x20\x0a5.法力燃烧：根据本次法术伤害减少怪物的当前法力值，敌人法力为空时，将转化为生命伤害。\x0a6.法力吸取：吸收敌人的法力为己用，吸收量与所造成法术伤害有关','displayName','40EkJLTQ','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b38.png','src','1000','exists','经验不足100000或没有对应钥匙，无法刷新效果。（如果你拥有钥匙，将会优先自动使用钥匙刷新）','持续回血','enable-ascension','https://pic.imgdb.cn/item/66717584d9c307b7e98a90e6.gif','getWeaponData','ascension-icon','expMultiplier','灵魂穿刺','stunnedTimer','使用幸运金币，怪物血量变为1。','反弹伤害','\x20点经验值，你的经验值不足，无法升级！','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b8ec.webp','你还没有打开第一个飞升技能！','poisoned','silenced','⚔️【玩家攻击】你用拳头平A了对方。','logDiv\x20not\x20found','中途退出会视为挑战失败哦。','Status\x20\x27','gold','your-pet-magic-attack','divineWeaponUI','你施放了\x20','ascension-skill-button','%概率再次施放一次法术伤害','qiongQi','妖怪受到了\x20','soulCapture','Battle\x20state\x20or\x20player\x20state\x20is\x20not\x20initialized','shielded','⚔️【敌人攻击】妖怪施放法术技能·嗜血魔咒并发起暴击，造成了\x20','您的精灵觉醒石不足！','处于短暂失明，敌人闪避了你的物理攻击。','floor','burntTimer','crimson','enemy-crit-rate','飞升之术技能已达最大等级！','20px','速度条元素未找到','damage','你获得了仙气护体状态，受到伤害时会恢复生命值。','spirit-mana','\x20颗精灵精炼石，将精灵升至\x20','floatUpRight','second-ascension-icon','\x20金子。','未知的敌人类型','#add8e6','法术防御','PHE','怒意激发了你的斗志，嘲讽下你的物理伤害提升20%！','marginBottom','你至少需要3个同类药品才能进行合成！','法术攻击','#B94FFF','\x20升级失败！','hailMonsterPill','maxLevel','Invalid\x20player\x20attribute\x20type','your-pet-max-mana','extra-damage','querySelector','#138496','enemy-pet-mana','\x201s\x20ease-out\x20forwards;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enemy-pet-magic-defense','intelligence','auto-level-up-spirit','#28a745','backgroundColor','black','defenseBonus','10000经验值','hongHuang','practiceEnemy','闪避随机数为：','战斗失败时不扣除金子，并获得','肉盾模式','长生泉','boxSizing','upgradeMaxDivineWeapon','actionPerformed','stringify','高级练习树桩','混乱状态下，敌人攻击了自己，造成了\x20','宠物等级每提升10级，所拥有的技能会自动提升1级。技能的等级很大程度上决定了它们的威力（被动技能会按一定比例增加各项属性值）。每个技能等级上限为20级，当技能等级到10级后，需要在本界面消耗一定经验值来升级技能。','☣【敌人中毒】妖怪中毒，失去了\x20','getRandomEffect','upgradeDivineWeapon','has','skillLevel','https://pic.imgdb.cn/item/666c0afbd9c307b7e9beef9c.png','removeChild','clear','onmouseover','slowTimer','双倍经验药','enemy-magic-dodge-rate','妖怪复生成功，生命值恢复到100%！','幸运金币','https://pic.imgdb.cn/item/66e6d18fd9c307b7e9c12e52.gif','护盾抵挡了\x20','universalHeart','你已经被嘲讽,不能使用其他技能。','description','Invalid\x20drug\x20type','onclick','enemy-image','https://pic.imgdb.cn/item/66a250dfd9c307b7e97f96eb.png','critRate','speed','click','https://pic.imgdb.cn/item/6678135ed9c307b7e9060dd6.gif','🧚🏻Bless\x20from\x20your\x20best\x20teammate！战斗精灵带来全属性提升！','%概率进入无我之境，免受一切伤害。持续时间5秒','级触发，复活并恢复\x20','使用四倍经验药，60秒内战斗获胜所得经验变成四倍。','PAE','dazed','受到致命伤害时，消耗法力值上限','damageContainers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','defending',',\x20enemy\x20health:\x20','上古传说中的仙葫，流传久远，极其稀有，打开可获得随机珍稀道具','妖怪(精英)','你还没有解锁任何必杀技！','%以上时，对妖怪的物理攻击伤害增加40%','absolute','法术防御力','技能区域不存在','%概率触发以下技能效果：','\x20点物理伤害。','treasureMap','【被动技能】元素力量（宽容）\x20','lime','https://pic.imgdb.cn/item/666c0289d9c307b7e9ae8abd.png','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b15.png','尝试合成，但没有产出任何事物','财源滚滚触发，额外增加了\x20','战斗停止。','pow','魔龙之力','div','蓝色品阶，临时增加300点生命值（刷新游戏后失效）','妖怪被恐吓，无法暴击。','lightblue','\x20的猛烈伤害！','sleep','永夜大帝','benumbedTimer','blue-text','一个富贵宝石袋','magicPetAmulet','dazedTimer','3636uqmuFR','taunt','法力值\x20+\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20red;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x20-2px\x20-2px\x200\x20#8a2e27,\x202px\x20-2px\x200\x20#8a2e27,\x20-2px\x202px\x200\x20#8a2e27,\x202px\x202px\x200\x20#8a2e27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bolder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20','show-effect','忘忧水','\x20点灼烧伤害。','scrollHeight','<p>炽热明亮的金樽，开启后可为物理技能概率附加效果：</p><p>破甲、恐吓、眩晕、穿透、麻痹、惶恐</p>','您已经输掉此次战斗，扣除金子','冰莲絮','your-pet-cultivation','⚔️【玩家攻击】暴击！！本次对敌方造成了\x20','使用幸运金币，获得了50000点经验值。','transparent','%概率额外给妖怪附加等同于玩家物理攻击力1000%的伤害。','min','，请检查你的背包！','12px','20px\x200','聚灵丹数量不足，无法开启自动战斗！','🧚🏻对方在精灵的低语里陷入沉睡','没有其他宠物可以更换，本次战斗已失败！','狂暴之魂','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a29.png','innerText','化功散','terrifiedTimer','button','狂暴印记','head','earthlyEnergy','drug-grid','点寿命','练习树桩','your-pet-health','敌人魔法闪避概率为：','使用焚灵之丸，消耗20%生命值，提升50%物理攻击力、法术攻击、暴击率和暴击伤害，持续20秒。','protectionDuration','margin','<p>开启后可能解除如下减益效果：</p><p>醉酒、禁疗、摄魂、失明、法术迟钝、撕裂、压制、嘲讽、封印、杀戮</p>','使用狂暴之魂，暴击率永久提高1%。','上等药材','borderRadius','8846469qkzStm','你将会召唤','魔术棱柱','吸血魔刃','敌人的法力已经燃烧殆尽，敌人开始燃烧生命之力！失去了\x20','点法力值','body','https://pic.imgdb.cn/item/66cc940cd9c307b7e9cb752e.png','妖怪眩晕，无法行动。','critDamage','refresh-ascension','enemy-pet-physical-attack','\x20点伤害。','进行炼制，但只得到了1个','combat','magicDefense','fragmentedMap','spirit-level','⚔️【敌人攻击】妖怪施放物理技能·黑暗血刃，造成了\x20','https://pic.imgdb.cn/item/66c44a29d9c307b7e967d02b.gif','slaughter','法力值','options','vigor','https://pic.imgdb.cn/item/66d071cbd9c307b7e9344927.png','enemy-extra-damage-value','https://pic.imgdb.cn/item/6671343bd9c307b7e9031c3d.gif','equipped','\x0a\x20\x20\x20\x20@keyframes\x20floatUpLeft\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-50px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpRight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-50px)\x20translateX(20px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpLeftCritical\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20scale(1)\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2020%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-10px)\x20scale(1.2)\x20translateX(-5px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-60px)\x20scale(1)\x20translateX(-20px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpRightCritical\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2020%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-10px)\x20scale(1.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-60px)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a','您的心鉴之石不足！','\x20级。','abs','heartStone','你消耗了\x20','极品药材','使用见手青，敌人的所有能力降至50%直至本轮战斗胜利。','battleRounds','pointer','第二个飞升技能','橙色品阶，使用后将随机触发事件：让怪物血量变为1/获得50000经验/回退10轮','spirit-speed','封印解除，飞升技能可以发挥作用了。','当前反弹比例为','survivalChance','时钟空转，你已进入忘却之时……','\x20级，威力增加了！','split','0.5','-warning\x22\x20style=\x22position:\x20absolute;\x20top:\x200;\x20left:\x200;\x20right:\x200;\x20bottom:\x200;\x20border:\x201px\x20solid\x20','error','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0af3.png','drunken','法力燃烧！妖怪失去了\x20','敌人被攻击惊醒。','close-spirit-modal','nirvanaGem','applied','法术攻击力','你在与','\x200.8s\x20ease-out\x20forwards','your-pet-image','橙色品阶，永久提高1%暴击伤害，最多可使用此道具提升至350%','，获得了','set','mana','position:\x20fixed;\x20top:\x2050%;\x20left:\x2050%;\x20transform:\x20translate(-50%,\x20-50%);\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x20border:\x201px\x20solid\x20#F5F5F5;\x20width:\x2090%;\x20padding:\x2010px;\x20color:\x20white;\x20z-index:\x209990;','永夜大帝の吸血魔刃，破坏了你的护甲且吸取了你','经验不足200000或缺少对应的「钥匙」。神器的「钥匙」可以通过武神仙葫小概率获得。','backgroundImage','join','\x20点生命值，本局战斗还能再生效','开启神器后才能执行刷新！','goldAmulet','https://pic.imgdb.cn/item/66a0d383d9c307b7e93a3779.gif','https://pic.imgdb.cn/item/666d311dd9c307b7e996b5b7.png','repeat(4,\x201fr)','您已经开启过第二个飞升之术了！','bleeding','即时性药品效果已被重置。','https://pic.imgdb.cn/item/66a616f4d9c307b7e9b24c97.gif','</span>个</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1932630KyteTI','mao','点速度和','enemyCritRate','定空的灵石开启后，每秒有概率驱散减益效果，同时最多驱散5个效果。可以驱散效果如下：\x0a1.醉酒：法术效果，玩家攻击怪物时会受到10%的反弹溅射伤害\x20\x0a2.禁疗：法术效果，持续时间内禁止玩家使用治疗技能\x20\x0a3.摄魂：法术效果，持续时间内玩家物理和法术攻击减半\x20\x0a4.失明：法术效果，持续时间内玩家物理攻击会被怪物闪避\x20\x0a5.法术迟钝：法术效果，持续时间内玩家使用法术技能时法力消耗值增至100倍\x20\x0a6.撕裂：物理效果，持续时间内玩家会受到每0.5秒的持续掉血效果，掉血量与怪物物理攻击有关\x20\x0a7.嘲讽：物理效果，持续时间内玩家的所有战斗行为会强制指向物理攻击，且物理伤害增至120%\x20\x0a8.压制：物理效果，玩家若没有在3秒内做出战斗行为，血量会降至1\x20\x0a9.封印：物理效果，持续时间内玩家的飞升技能会被封印，使其无法生效\x20\x0a10.杀戮：物理效果，持续时间内会根据双方修为之差判断斩杀线，当一方血量低于双方修为差值的一定比例时，负值一方会被斩杀','您的宠物没有飞升，无法开启飞升增益！','此次升级需要\x20','5px\x2010px','生命值','poisonedTimer','🔴奥义·火之易伤！伤害增加了\x20','reflecting','creditCard100','战斗状态未初始化','额外提供','woodAmulet','焉知非福触发,战斗获得持续\x20','轮，无法再继续跳过！','升级技能','紫色品阶，恢复10%生命值并有几率清除玩家的异常状态','universalAsh','armorBreakTimer','Invalid\x20target\x20for\x20magic\x20dodge\x20handling','normalExperienceBook','blue','hailMonsterAmulet','妖怪令你对法术的操控更迟钝了，你耗费了更多的法力值！','marginTop','https://pic.imgdb.cn/item/66d5dd07d9c307b7e953e4e1.png','本次战斗已失败！请加强一下再进来吧~','whiteNightThreshold','紫色品阶，20秒内增加150%物理攻击力。','無班之魂の法术穿透，损失','drug-description','children','\x20点经验值，将\x20','fireAmulet','寿命不足，无法触发上善若水','睡眠时刻的敌人生命值为','floatUpRightCritical','PDE','\x20点。','spellSlow','enemy-physical-dodge-rate','点物理防御和','MAE','宇宙之尘','attribute-exp-text','4665YQYbpZ','spiritRefreshStone','你获得了','已成功开启！','橙色品阶，投喂敌人后敌人会中毒，能力下降50%，直至本轮胜利','classList','Invalid\x20damage\x20value\x20before\x20reduction:','\x20点穿透伤害。','your-pet-speed','固若金汤','❤️【敌人恢复】加强版树桩恢复了满状态生命值','防御增益已达到最大值，无法再增加。','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2020px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','fixed','value','额外经验1600000点','🥷【敌人偷窃】妖怪想窃取你的资源，但被你抓包打跑了，你没受到任何损失','使用长生泉，你如获新生。','https://pic.imgdb.cn/item/669a7ce2d9c307b7e9450ef4.png','your-pet-mana','https://pic.imgdb.cn/item/66d5d9a1d9c307b7e950d6b2.png','你仓皇逃跑中，损失了20两金','你还没有获得施毒之术，请尝试通过武神仙葫获取！','\x0a1.\x20二级属性主要由各一级属性（耐力、智力等）决定\x20\x0a2.\x20被动技能的数量和等级也会增加二级属性\x20\x0a3.药材、五行符可以提供额外属性\x20\x0a4.精灵和飞升技能提供的属性为战斗属性，脱离战斗状态时将会复位\x20\x0a5.\x20当前技能加成为：\x20\x0a\x0a\x20','weaken','物理攻击','torn','color','敌人\x20','修为灵丹（橙）','化功散冷却结束。','filter',',\x20消耗寿命\x20','extraCritDamageMultiplier','使用天山雪莲，恢复了\x20','#C10066','天降甘霖','https://pic.imgdb.cn/item/666d311dd9c307b7e996b4f5.png','style','status','opacity','你击败了','extraCritDamageChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x202px\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wheat','getElementsByTagName','battle-spirit-modal','exp-text','universalCrystal','点物理攻击力','red','恭喜你战胜了第100轮妖怪，获得了1个灵兽符文！','成功炼制出了3个随机紫色品阶药品：','baiYinCard','举一反三触发，经验值增加了\x20','https://pic.imgdb.cn/item/666d311dd9c307b7e996b52a.png','已阵亡,\x20是否更换至其他宠物继续战斗？点击取消不再显示此提示','#17a2b8','some','你获得一个宇宙之尘','✨【8件套效果】觉醒套装之力吸取了\x20','cssText','等级:\x20','请先开启飞升之术增益！','tier','brown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','url','⚔️【敌人攻击】道高一尺，魔高一丈，敌人低于你的修为，施法时损失','以牙还牙触发，反弹了\x20','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a20.png','战斗胜利后金子奖励额外增加','open','该技能现在不需要升级,10级后再来吧！','🥷【敌人偷窃】妖怪窥探了你的锦囊，吸收了一个来自你所拥有的天山雪莲的能量，恢复了','add','\x20的数量已更新，当前数量:\x20','level-up-second-ascension','https://pic.imgdb.cn/item/665aecc0d9c307b7e90a239e.png','relative','#FFDD55','\x20Lv','position','invincibilityChance','padding','https://pic.imgdb.cn/item/66db2daed9c307b7e9c7508a.png','10px\x200','enhance-spirit','stunned','\x0a\x20\x20\x20\x20<div\x20style=\x22z-index:1000;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%;\x20background-color:\x20#35472C;\x20overflow:\x20hidden;\x20position:\x20relative;\x20border:\x201px\x20solid\x20black;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22','80%','ascension-skill-modal','#FFC8B4','紫色品阶，消耗自身生命值上限20%生命值，20秒内提升50%物理攻击力、法术攻击、暴击率和暴击伤害。生命值不足上限20%时无法使用。','show','完美药材','https://pic.imgdb.cn/item/66cd62b1d9c307b7e9afcf5b.gif','紫色品阶，消耗300000当前经验升级一个随机技能，通过该道具最多可让技能升至24级','innerHTML','get','暗黑大渊神','https://pic.imgdb.cn/item/66cc8f01d9c307b7e9c6d2e8.png','timeoutId','defenseReduction','heat','级\x20，毒性大大加强。','practiceEnemyPlus','个内丹元气已耗尽，请及时补充！','expBonus','benumbStack','每回合恢复','\x20x1','https://pic.imgdb.cn/item/666c1408d9c307b7e9cea34b.png','piercedTimer','hasOwnProperty','无效的目标等级！','紫色品阶，使用后60秒内战斗获胜所得经验增加四倍','https://pic.imgdb.cn/item/66d4a22dd9c307b7e9f5faec.gif','ceil','health','map','beiming','自动战斗已停止。','JKE','damageLost','使用神力仙丹，暴击伤害提高50%，持续20秒。','justifyContent','remove','金牌调解触发，未扣除金子并获得\x20','.battle-system-drawer','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a2f.png','向死而生','forEach','skills-area\x20element\x20not\x20found.','50%','药品不足！','穿心蚀骨之毒爆！敌人承受了\x20','紫色品阶，临时增加35物理防御和法术防御，收集3个可以合成1个橙色品阶的药品','你的固元鼎或清心酿数量不足，无法回退！','\x0a1.当前你携带的精灵等级为','【被动技能】','被封锁的上古神器（法术）','divineProtectionDuration','点经验值，升级技能失败！','alignItems','敌人受到\x20','您的飞升之石不足！','playerEffect','正在战斗中或未知错误','你没有宇宙之晶了！','attribute','byLearned','round','gold-text','目前召唤敌人和妖怪共享一套战斗系统，但它们通常具备特殊的战斗效果。','🟢奥义·木之春意！治疗量增加了\x20','神品·遗失的洛书\x20(Lv','你正在施放恢复技能\x20','noWorkBoss','ascensionStone','seal','https://pic.imgdb.cn/item/6672bf9fd9c307b7e9b189e0.png','大渊神真身','find','试炼之地妖怪','文金子的安慰金','天空之晶','经验不足，无法使用魔术棱柱。','timer','8px','parse','发现可用的','你使用了施毒之术，现在可以对妖怪施毒了。','borderColor','普通药材','fightingDrawer','activateDivineWeapon','instant','级触发，减免了','未开启飞升技能','\x20<span>','enemy-damage-container','3912636ujdLxW','\x20/\x20','⚔️【敌人攻击】道高一尺，魔高一丈，你低于敌人的修为，施法时损失','endurance','法术精通','your-pet-max-health','玩家魔法闪避概率为：','#FF0088','普通防御','zIndex','14765140EwrlRl','effect','\x20没有特殊攻击能力','Enemy\x20is\x20not\x20rampaged.','fontSize','-bar\x22\x20style=\x22width:\x20','举一反三','#fff','enemy-pet-speed','当前法术效果真实触发概率为：','originalMaxHealth','left','active','increment','未开启','img','火焰巨人','第二个飞升技能尚未开启，且当前没有技能名称可显示。','animation','silencedTimer','\x20点伤害，智慧守护抵挡','apply','#92341C','上善若水','由于妖怪被沉默，无法治疗','block','enemyKey','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718ca1.gif','terrified','妖怪被施加穿透效果，每次造成伤害时会附加真实伤害。穿透效果结束后会给予妖怪致命的余波伤害。','fireGiant','使用物理技能时，有','🧚🏻精灵为你祈福，恢复了⭐️','双倍经验药效果消失。','retryPhysical','space-between','physical','⚔️【敌人反弹】醉酒状态下，你招式过猛误伤自身，受到\x20','狂暴的心魔','<p>开启后可能为法术技能附加如下效果：</p><p>迟缓、沉默、混乱、灼烧、法力燃烧、法力吸取</p>','grid','妖怪被麻痹，最大生命值减少了\x20','神器100级后，只能使用「钥匙」升级，你可以通过开启武神仙葫获取「钥匙」。','天赋书','https://pic.imgdb.cn/item/66e6d194d9c307b7e9c131d3.png','🔮【敌人治疗】妖怪施放魔王之力，恢复了\x20','skillMultiplier','，本回合抵抗了\x20','toFixed','100px','linear-gradient(to\x20bottom,\x20#394F89,\x20#405CB2,\x20#5C81EE,\x20#5C81EE,\x20#405CB2,\x20#394F89)','发动魔龙之力恢复了\x20','transition','startsWith','gemLuckyBag','includes','enemy-crit-damage','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x200;\x22>','Reflect\x20damage\x20is\x20NaN,\x20setting\x20to\x200.','洪荒至尊仙葫','🟤奥义·土之庇护！你减少了\x20','rampaged','player','四倍经验药效果消失。',';\x20animation:\x20warning-blink\x201s\x20infinite;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%\x20伤害，溢出值已形成护盾。','反弹本次承受伤害的','#66CDAA','enemy-status','太古魔魂封印','background-color\x200.3s','secondary-attributes-panel','spiritAwakenStone','default','faith','战胜后可得到大量经验值和概率获得提升宠物技能的神秘物质','还没死，还得练，再给你上上强度','setWeaponData','#003670','你消耗了','承受伤害降低','name','定空的灵石','height','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enemy-speed-bar','waterAmulet','https://pic.imgdb.cn/item/66c43d02d9c307b7e954d4f7.gif','当妖怪生命值在','杀戮状态已被解除。','defenseBonusCount','https://pic.imgdb.cn/item/66b86c3ad9c307b7e93202e9.gif','number','enemy-max-mana','\x20点溅射伤害。','你的宠物看起来起色很不好，多关心关心它吧！','请先选中要合成的药品。','点击技能可查看技能详细说明。','width','burnt','🔮【玩家治疗】你恢复了\x20','🥷【敌人偷窃】妖怪窥探了你的锦囊，吸收了一个来自你所拥有的延寿露的能量，恢复了','战斗胜利时获得的经验值增加','#ffc107','wealthyGemBag','https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c43c.gif','enemy','handleRampaged\x20called.\x20battleRounds:\x20','flex','scale(1.05)','querySelectorAll','defensing','enemy-pet-health','https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png','\x20点生命值。','神器等级已达到上限。','bloodSuckPercentage','magicAttack','⚔️【玩家攻击】你进行了法术攻击，造成了\x20','level-up-ascension','orange','护盾为'];_0x2df6=function(){return _0x490ebf;};return _0x2df6();}function addDrugToInventory(_0x15c429,_0x506f68=0x1){const _0x45d2f9=_0x5bf82f;drugInventory[_0x15c429]?drugInventory[_0x15c429][_0x45d2f9(0x53f)]+=_0x506f68:drugInventory[_0x15c429]={'quantity':_0x506f68,'url':'https://pic.imgdb.cn/item/66cc940fd9c307b7e9cb77b1.png','tier':0x0,'description':_0x45d2f9(0x454)},updateDrugGrid(),console[_0x45d2f9(0x528)](_0x15c429+_0x45d2f9(0x326)+drugInventory[_0x15c429][_0x45d2f9(0x53f)]);}function closeDrugModal(){const _0x1bb2b7=_0x5bf82f;document[_0x1bb2b7(0x50b)](_0x1bb2b7(0x51f))[_0x1bb2b7(0x300)][_0x1bb2b7(0x48a)]=_0x1bb2b7(0x504),selectedDrug=null,document[_0x1bb2b7(0x50b)](_0x1bb2b7(0x2cb))[_0x1bb2b7(0x246)]=_0x1bb2b7(0x533);}function selectDrug(_0x3fe6cf){const _0x5eaa3d=_0x5bf82f,_0x525c02=document['getElementById'](_0x5eaa3d(0x2cb));selectedDrug=_0x3fe6cf,_0x525c02&&(_0x525c02[_0x5eaa3d(0x246)]=drugInventory[_0x3fe6cf][_0x5eaa3d(0x1fa)]),updateDrugGrid();}function useSelectedDrug(){const _0x3d33bd=_0x5bf82f;if(!selectedDrug){showInfoBox('请选择一种药品！');return;}if(activeBuffs[selectedDrug]){showInfoBox(selectedDrug+_0x3d33bd(0x4e1));return;}if(checkConflictingBuffs(selectedDrug))return;const _0xaf5b8d=drugInventory[selectedDrug];if(_0xaf5b8d[_0x3d33bd(0x53f)]>0x0){_0xaf5b8d['quantity']-=0x1,updateDrugGrid();switch(selectedDrug){case _0x3d33bd(0x5f4):tempBonus[_0x3d33bd(0x351)]+=0x3e8,updatePetInfo(),logBattleEvent(_0x3d33bd(0x2eb),_0x3d33bd(0x5b8));break;case _0x3d33bd(0x574):const _0x1048a4=0x3*0x3e8,_0x4a1343=1.5*0x3e8,_0x580fc6=Math[_0x3d33bd(0x5c6)](maxMana*0.01);let _0x412777=0x0;const _0x323cbb=setInterval(()=>{const _0x3e641c=_0x3d33bd;_0x412777>=_0x1048a4?clearInterval(_0x323cbb):(battleAttributes['mana']=Math[_0x3e641c(0x23d)](maxMana,battleAttributes[_0x3e641c(0x299)]+_0x580fc6),logBattleEvent(_0x3e641c(0x22f)+_0x580fc6+'点。',_0x3e641c(0x5b8)),updateUI(),_0x412777+=_0x4a1343);},_0x4a1343);break;case _0x3d33bd(0x232):const _0x45c1f9=0x3*0x3e8,_0x47b1b3=1.5*0x3e8,_0x27abbe=Math[_0x3d33bd(0x5c6)](maxHealth*0.02);let _0x253852=0x0;const _0x4dcf3a=setInterval(()=>{const _0x1622a3=_0x3d33bd;_0x253852>=_0x45c1f9?clearInterval(_0x4dcf3a):(battleAttributes[_0x1622a3(0x351)]=Math[_0x1622a3(0x23d)](maxHealth,battleAttributes[_0x1622a3(0x351)]+_0x27abbe),updateDamageValue(-_0x27abbe,!![],_0x1622a3(0x5cd)),updateUI(),_0x253852+=_0x47b1b3);},_0x47b1b3);break;case _0x3d33bd(0x25b):const _0x343867=document[_0x3d33bd(0x50b)](_0x3d33bd(0x497)),_0x233923=Array['from'](_0x343867[_0x3d33bd(0x2cc)])[_0x3d33bd(0x352)](_0x2a7f6b=>{const _0x38dfcc=_0x3d33bd,_0x5f86e4=_0x2a7f6b[_0x38dfcc(0x246)][_0x38dfcc(0x287)]('\x20')[0x0],_0x4a7e4b=currentPet[_0x38dfcc(0x48f)][_0x38dfcc(0x37d)](_0x421bf3=>_0x421bf3['name']===_0x5f86e4);return _0x4a7e4b;})['filter'](_0x24194f=>_0x24194f[_0x3d33bd(0x48e)]<0x18&&_0x24194f!==null&&!_0x24194f[_0x3d33bd(0x371)]);if(_0x233923[_0x3d33bd(0x490)]===0x0){showInfoBox(_0x3d33bd(0x526));break;}let _0x5cb9d3=_0x233923[Math['floor'](Math[_0x3d33bd(0x435)]()*_0x233923[_0x3d33bd(0x490)])];const _0x4dabaf=(_0x5cb9d3['level']+0x1)*0x2710;currentExp>=_0x4dabaf?(currentExp-=_0x4dabaf,_0x5cb9d3[_0x3d33bd(0x48e)]>=0x18&&(_0x5cb9d3=_0x233923[_0x3d33bd(0x37d)](_0x385a72=>_0x385a72[_0x3d33bd(0x48e)]<0x18)),_0x5cb9d3&&Math[_0x3d33bd(0x435)]()<0.4?(_0x5cb9d3['level']+=0x1,showInfoBox(_0x3d33bd(0x3e9)+_0x4dabaf+'点经验值，将'+_0x5cb9d3[_0x3d33bd(0x3eb)]+'\x20成功升至\x20'+_0x5cb9d3[_0x3d33bd(0x48e)]+_0x3d33bd(0x286))):showInfoBox(_0x3d33bd(0x3e9)+_0x4dabaf+_0x3d33bd(0x369)),updateExpBar(currentExp,maxExp),updateUI()):(addDrugToInventory(_0x3d33bd(0x25b),0x1),showInfoBox(_0x3d33bd(0x381)));break;case _0x3d33bd(0x1f5):if(Math[_0x3d33bd(0x435)]()<0.1&&battleRounds>0xa){const _0x14fda9=battleRounds-0xa;initializeEnemyPet(),battleRounds=_0x14fda9,updateEnemyAttributes(),logBattleEvent(_0x3d33bd(0x538),'gold');}else Math[_0x3d33bd(0x435)]()<0.8?(gainExp(0xc350),logBattleEvent(_0x3d33bd(0x23a),'gold')):(battleState[_0x3d33bd(0x404)][_0x3d33bd(0x351)]=0x1,logBattleEvent(_0x3d33bd(0x5ad),_0x3d33bd(0x5b8)));updateUI(),updateExpBar(currentExp,maxExp);break;case _0x3d33bd(0x1f2):applyTimedBuff(selectedDrug,()=>{const _0x4576d6=_0x3d33bd;return battleState[_0x4576d6(0x3d8)][_0x4576d6(0x5aa)]=0x2,logBattleEvent(_0x4576d6(0x41d),_0x4576d6(0x5b8)),()=>{const _0x1aa66a=_0x4576d6;battleState[_0x1aa66a(0x3d8)][_0x1aa66a(0x5aa)]=0x1,logBattleEvent(_0x1aa66a(0x3bb),_0x1aa66a(0x30c));};},0xea60);break;case'四倍经验药':applyTimedBuff(selectedDrug,()=>{const _0x403d82=_0x3d33bd;return battleState[_0x403d82(0x3d8)][_0x403d82(0x5aa)]=0x4,logBattleEvent(_0x403d82(0x206),'gold'),()=>{const _0x51ce7a=_0x403d82;battleState[_0x51ce7a(0x3d8)][_0x51ce7a(0x5aa)]=0x1,logBattleEvent(_0x51ce7a(0x3d9),_0x51ce7a(0x30c));};},0xea60);break;case'武尊秘露':case'神力仙丹':case _0x3d33bd(0x24a):case _0x3d33bd(0x247):case _0x3d33bd(0x585):case _0x3d33bd(0x456):if(!activeBuffs[selectedDrug])applyBuff(selectedDrug);else{showInfoBox(selectedDrug+_0x3d33bd(0x4e1));return;}break;case _0x3d33bd(0x4db):handleMushroom();break;case _0x3d33bd(0x244):playerCritRate=Math[_0x3d33bd(0x23d)](0x1,playerCritRate+0.01),logBattleEvent(_0x3d33bd(0x256),_0x3d33bd(0x5b8));break;case'慧心糖果':playerCritDamage=Math[_0x3d33bd(0x23d)](0x1e,playerCritDamage+0.01),logBattleEvent(_0x3d33bd(0x513),_0x3d33bd(0x5b8));break;case _0x3d33bd(0x58d):battleAttributes[_0x3d33bd(0x351)]=Math[_0x3d33bd(0x23d)](maxHealth,battleAttributes[_0x3d33bd(0x351)]+Math['floor'](maxHealth*0.2)),updateDamageValue(-Math[_0x3d33bd(0x5c6)](maxHealth*0.2),!![],_0x3d33bd(0x5cd)),logBattleEvent('使用延寿露，恢复了\x20'+Math['floor'](maxHealth*0.2)+_0x3d33bd(0x40c),_0x3d33bd(0x5b8));break;case'天山雪莲':battleAttributes['mana']=Math[_0x3d33bd(0x23d)](maxMana,battleAttributes[_0x3d33bd(0x299)]+Math['floor'](maxMana*0.2)),logBattleEvent(_0x3d33bd(0x2fc)+Math['floor'](maxMana*0.2)+'\x20点法力值。',_0x3d33bd(0x5b8));break;case _0x3d33bd(0x388):battleAttributes[_0x3d33bd(0x351)]=Math[_0x3d33bd(0x23d)](maxHealth,battleAttributes[_0x3d33bd(0x351)]+0x3e8),updateDamageValue(-(battleAttributes[_0x3d33bd(0x351)]+0x3e8),!![],_0x3d33bd(0x5cd)),battleAttributes[_0x3d33bd(0x299)]=Math['min'](maxMana,battleAttributes[_0x3d33bd(0x299)]+0x3e8);break;case'上等药材':tempBonus[_0x3d33bd(0x200)]+=0x14;break;case'极品药材':tempBonus[_0x3d33bd(0x351)]+=0x32,tempBonus[_0x3d33bd(0x299)]+=0x32;break;case'珍贵药材':tempBonus[_0x3d33bd(0x479)]+=0x23,tempBonus[_0x3d33bd(0x268)]+=0x23;break;case _0x3d33bd(0x339):tempBonus[_0x3d33bd(0x424)]+=0xf,tempBonus['magicAttack']+=0xf;break;case _0x3d33bd(0x237):tempBonus[_0x3d33bd(0x351)]+=0x12c;break;case _0x3d33bd(0x51d):tempBonus[_0x3d33bd(0x299)]+=0x12c;break;}updateUI();}else showInfoBox(_0x3d33bd(0x361),_0x3d33bd(0x30c));}function checkConflictingBuffs(_0x18cb05){const _0x10e04f=_0x5bf82f,_0x487fa2=['神力仙丹',_0x10e04f(0x24a),'焚灵之丸'];if(_0x487fa2[_0x10e04f(0x3d1)](_0x18cb05))for(const _0x3d922a of _0x487fa2){if(activeBuffs[_0x3d922a])return showInfoBox('已有同系效果发挥作用或正在冷却中，无法叠加效果使用'),!![];}return![];}function applyBuff(_0x9f249b){const _0x494210=_0x5bf82f;switch(_0x9f249b){case _0x494210(0x47f):applyTimedBuff(_0x9f249b,()=>{const _0x4b4ac4=_0x494210,_0x25af55=battleAttributes[_0x4b4ac4(0x424)];return battleAttributes['physicalAttack']=Math['floor'](battleAttributes[_0x4b4ac4(0x424)]*1.5),logBattleEvent(_0x4b4ac4(0x4a4),_0x4b4ac4(0x5b8)),()=>{const _0x248375=_0x4b4ac4;battleAttributes[_0x248375(0x424)]=_0x25af55,logBattleEvent('武尊秘露冷却结束。',_0x248375(0x30c));};},0x4e20);break;case'神力仙丹':applyTimedBuff(_0x9f249b,()=>{const _0x4b60f4=_0x494210;return battleState[_0x4b60f4(0x3d8)][_0x4b60f4(0x262)]=Math[_0x4b60f4(0x23d)](0x1e,playerCritDamage+0.5),logBattleEvent(_0x4b60f4(0x357),_0x4b60f4(0x5b8)),()=>{const _0xb25fe5=_0x4b60f4;battleState['player'][_0xb25fe5(0x262)]=playerCritDamage-0.5,logBattleEvent('神力仙丹冷却结束。',_0xb25fe5(0x30c));};},0x4e20);break;case _0x494210(0x24a):applyTimedBuff(_0x9f249b,()=>{const _0x49beda=_0x494210;return battleState[_0x49beda(0x3d8)]['critRate']=Math['min'](0xa,playerCritRate+0.5),logBattleEvent('使用狂暴印记，暴击率提高50%，持续20秒。',_0x49beda(0x5b8)),()=>{const _0x56bbf3=_0x49beda;battleState[_0x56bbf3(0x3d8)][_0x56bbf3(0x1ff)]=playerCritRate-0.5,logBattleEvent(_0x56bbf3(0x535),_0x56bbf3(0x30c));};},0x4e20);break;case _0x494210(0x247):applyTimedBuff(_0x9f249b,()=>{const _0x2a353c=_0x494210,_0x31b185=enemyCritRate;return enemyCritRate=0x0,logBattleEvent('使用化功散，妖怪暴击率降低至0%，持续30秒。',_0x2a353c(0x5b8)),()=>{const _0x572e42=_0x2a353c;enemyCritRate=_0x31b185,logBattleEvent(_0x572e42(0x2f8),_0x572e42(0x30c));};},0x7530);break;case'沉檀凝香':const _0x5141a4=Math[_0x494210(0x5c6)](maxHealth*0.1);battleAttributes[_0x494210(0x351)]=Math[_0x494210(0x23d)](maxHealth,battleAttributes[_0x494210(0x351)]+_0x5141a4),logBattleEvent(_0x494210(0x552)+_0x5141a4+'\x20点生命值。','gold');Math[_0x494210(0x435)]()<0.8?(clearEnemyEffect(),logBattleEvent('沉檀凝香生效，清除了异常状态。','gold')):logBattleEvent(_0x494210(0x4ff),'red');break;case _0x494210(0x456):battleAttributes[_0x494210(0x351)]>=maxHealth*0.2?applyTimedBuff(_0x9f249b,()=>{const _0x1a63f5=_0x494210,_0x40353a=battleAttributes[_0x1a63f5(0x424)],_0x4748d1=battleAttributes['magicAttack'];return battleAttributes[_0x1a63f5(0x351)]-=Math[_0x1a63f5(0x5c6)](maxHealth*0.2),battleAttributes[_0x1a63f5(0x424)]=Math[_0x1a63f5(0x5c6)](battleAttributes[_0x1a63f5(0x424)]*1.5),battleAttributes[_0x1a63f5(0x40f)]=Math[_0x1a63f5(0x5c6)](battleAttributes[_0x1a63f5(0x40f)]*1.5),battleState[_0x1a63f5(0x3d8)][_0x1a63f5(0x1ff)]=Math[_0x1a63f5(0x23d)](0xa,playerCritRate+0.5),battleState[_0x1a63f5(0x3d8)]['critDamage']=Math['min'](0x1e,playerCritDamage+0.5),logBattleEvent(_0x1a63f5(0x252),_0x1a63f5(0x5b8)),()=>{const _0x554d15=_0x1a63f5;battleAttributes['physicalAttack']=_0x40353a,battleAttributes[_0x554d15(0x40f)]=_0x4748d1,battleState['player'][_0x554d15(0x1ff)]-=0.5,battleState['player'][_0x554d15(0x262)]-=0.5,logBattleEvent('焚灵之丸冷却结束。',_0x554d15(0x30c));};},0x4e20):showInfoBox(_0x494210(0x46d));break;}}function applyTimedBuff(_0x397c81,_0x2278fa,_0x55ca02){if(activeBuffs[_0x397c81])return;const _0x451af2=_0x2278fa();activeBuffs[_0x397c81]=setTimeout(()=>{_0x451af2(),delete activeBuffs[_0x397c81],updateUI();},_0x55ca02);}function applyDrugBonus0(_0x133cc9,_0x1039a9){const _0x2cd73a=_0x5bf82f;if(!battleState||!battleState[_0x2cd73a(0x3d8)]){console[_0x2cd73a(0x28a)](_0x2cd73a(0x5c1));return;}if(drugBonus0[_0x2cd73a(0x34c)](_0x133cc9))drugBonus0[_0x133cc9]+=_0x1039a9;else{console['error'](_0x2cd73a(0x1fb));return;}battleState[_0x2cd73a(0x3d8)][_0x2cd73a(0x34c)](_0x133cc9)?battleState['player'][_0x133cc9]+=_0x1039a9:console[_0x2cd73a(0x28a)](_0x2cd73a(0x5e0));if(_0x133cc9===_0x2cd73a(0x351))maxHealth=battleState[_0x2cd73a(0x3d8)][_0x2cd73a(0x351)];else _0x133cc9===_0x2cd73a(0x299)&&(maxMana=battleState['player'][_0x2cd73a(0x299)]);[_0x2cd73a(0x424),_0x2cd73a(0x479),'magicAttack',_0x2cd73a(0x268),'speed'][_0x2cd73a(0x3d1)](_0x133cc9)&&updatePetInfo();const _0x2870dd={'health':_0x2cd73a(0x2b2),'mana':_0x2cd73a(0x26e),'physicalAttack':_0x2cd73a(0x4da),'physicalDefense':_0x2cd73a(0x4bd),'magicAttack':_0x2cd73a(0x292),'magicDefense':_0x2cd73a(0x213),'speed':'速度'};logBattleEvent(_0x2cd73a(0x4bb)+_0x1039a9+'\x20点'+_0x2870dd[_0x133cc9]+'。',_0x2cd73a(0x5b8)),updateUI();}function collectDrug(){const _0x1f5f2f=_0x5bf82f;if(goldAmount<collectCost){showInfoBox(_0x1f5f2f(0x556));return;}goldAmount-=collectCost,updateGoldDisplay(goldAmount),collectCost+=0x64;const _0x84fa3=Math[_0x1f5f2f(0x435)]()*0x64;let _0x499466;if(_0x84fa3<0x32)_0x499466='普通药材',drugInventory[_0x1f5f2f(0x388)]['quantity']+=0x1;else{if(_0x84fa3<0x50)_0x499466=_0x1f5f2f(0x257),drugInventory[_0x1f5f2f(0x257)]['quantity']+=0x1;else{if(_0x84fa3<0x5f)_0x499466=_0x1f5f2f(0x27b),drugInventory[_0x1f5f2f(0x27b)][_0x1f5f2f(0x53f)]+=0x1;else _0x84fa3<0x62?(_0x499466='珍贵药材',drugInventory['珍贵药材'][_0x1f5f2f(0x53f)]+=0x1):(_0x499466=_0x1f5f2f(0x339),drugInventory[_0x1f5f2f(0x339)][_0x1f5f2f(0x53f)]+=0x1,addItemToJinnang(_0x1f5f2f(0x217),0x1),showInfoBox(_0x1f5f2f(0x4de)));}}const _0x21d72e=Math[_0x1f5f2f(0x435)]()*0x64;let _0x518d07=0x1;if(_0x21d72e<0x1)_0x518d07=0x3;else _0x21d72e<0x3&&(_0x518d07=0x2);_0x518d07>0x1?(drugInventory[_0x499466][_0x1f5f2f(0x53f)]+=_0x518d07-0x1,document[_0x1f5f2f(0x50b)](_0x1f5f2f(0x2cb))[_0x1f5f2f(0x246)]=_0x1f5f2f(0x53b)+convertPrice(collectCost-0x64)+_0x1f5f2f(0x505)+_0x518d07+'个'+_0x499466+'！'):document[_0x1f5f2f(0x50b)](_0x1f5f2f(0x2cb))[_0x1f5f2f(0x246)]=_0x1f5f2f(0x53b)+convertPrice(collectCost-0x64)+_0x1f5f2f(0x416)+_0x499466+'！',updateDrugGrid();}function mergeDrug(){const _0x27da4c=_0x5bf82f;if(!selectedDrug){showInfoBox(_0x27da4c(0x3fa));return;}const _0x80015d=drugInventory[selectedDrug],_0x24fc4a=_0x80015d[_0x27da4c(0x31a)];if(_0x24fc4a===0x0){const _0x1d2f6e=0x3;if(_0x80015d[_0x27da4c(0x53f)]<_0x1d2f6e){showInfoBox(_0x27da4c(0x5da));return;}_0x80015d['quantity']-=_0x1d2f6e;const _0x3ef281=Math[_0x27da4c(0x435)]();let _0x343ff8='';if(_0x3ef281<0.1)_0x343ff8=_0x27da4c(0x466)+selectedDrug+_0x27da4c(0x21c);else{if(_0x3ef281<0.2)drugInventory[selectedDrug][_0x27da4c(0x53f)]+=0x1,_0x343ff8=_0x27da4c(0x466)+selectedDrug+_0x27da4c(0x266)+selectedDrug;else{if(_0x3ef281<0.5){const _0x376ee2=Object['keys'](drugInventory)[_0x27da4c(0x2f9)](_0x4d1e5c=>drugInventory[_0x4d1e5c][_0x27da4c(0x31a)]===0x1),_0x314b18=[];for(let _0x2eefa2=0x0;_0x2eefa2<0x3;_0x2eefa2++){const _0x14165b=_0x376ee2[Math[_0x27da4c(0x5c6)](Math[_0x27da4c(0x435)]()*_0x376ee2[_0x27da4c(0x490)])];drugInventory[_0x14165b][_0x27da4c(0x53f)]+=0x1,_0x314b18[_0x27da4c(0x591)](_0x14165b);}_0x343ff8='你使用3个'+selectedDrug+_0x27da4c(0x30e)+_0x314b18[_0x27da4c(0x29e)](',\x20');}else{const _0x55ce03=Object[_0x27da4c(0x56b)](drugInventory)['filter'](_0x1d3a10=>drugInventory[_0x1d3a10][_0x27da4c(0x31a)]===0x0),_0x2c8974=[];for(let _0x124572=0x0;_0x124572<0x2;_0x124572++){const _0xe5f8ef=_0x55ce03[Math['floor'](Math['random']()*_0x55ce03[_0x27da4c(0x490)])];drugInventory[_0xe5f8ef]['quantity']+=0x1,_0x2c8974[_0x27da4c(0x591)](_0xe5f8ef);}_0x343ff8=_0x27da4c(0x466)+selectedDrug+'成功炼制出了2个随机橙色品阶药品：'+_0x2c8974[_0x27da4c(0x29e)](',\x20');}}}document['getElementById']('drug-description')[_0x27da4c(0x246)]=_0x343ff8;}else{const _0x122206=0x5;if(_0x80015d[_0x27da4c(0x53f)]<_0x122206){showInfoBox(_0x27da4c(0x45e));return;}_0x80015d[_0x27da4c(0x53f)]-=_0x122206;const _0x56018a=_0x24fc4a-0x1,_0x1fdf94=Object[_0x27da4c(0x56b)](drugInventory)['filter'](_0x5ba836=>drugInventory[_0x5ba836][_0x27da4c(0x31a)]===_0x56018a),_0x2f080b=_0x1fdf94[Math[_0x27da4c(0x5c6)](Math['random']()*_0x1fdf94[_0x27da4c(0x490)])];drugInventory[_0x2f080b][_0x27da4c(0x53f)]+=0x1,document['getElementById'](_0x27da4c(0x2cb))[_0x27da4c(0x246)]='你使用5个'+selectedDrug+'成功炼制出了1个'+_0x2f080b;}updateDrugGrid();}document[_0x5bf82f(0x50b)]('battle-spirit-button')[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x4704d9=_0x5bf82f;if(battleState[_0x4704d9(0x3d8)]['taunt']){performAttack(_0x4704d9(0x3be));return;}!awakened?showInfoBox('\x0a1.宠物在觉醒后可以开启战斗精灵\x20\x0a2.经过精心培养的精灵可以大幅增加战斗属性\x0a3.精灵会提供额外的战场胜利物资\x0a4.战斗中精灵有概率施加恢复、控制或强化\x20\x0a5.精灵等级和增幅越高，增益越明显'):(document[_0x4704d9(0x50b)](_0x4704d9(0x308))[_0x4704d9(0x300)][_0x4704d9(0x48a)]=_0x4704d9(0x3b3),updateSpiritDisplay());});function checkAwakening(){const _0x2ae48c=_0x5bf82f;awakened?document[_0x2ae48c(0x50b)]('battle-spirit-button')[_0x2ae48c(0x300)]['display']='block':document[_0x2ae48c(0x50b)](_0x2ae48c(0x599))[_0x2ae48c(0x300)]['display']=_0x2ae48c(0x3b3);}function getBaseSpiritAttributes(){return!awakened?{'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0}:{'health':0x7,'mana':0x6,'physicalAttack':0x2,'physicalDefense':2.1,'magicAttack':1.9,'magicDefense':2.05,'speed':0x1};}function displayInBottle(){const _0x44c48b=_0x5bf82f,_0xa77b90=getCurrentSpiritAttributes(),_0x1c885a=new Map([[_0x44c48b(0x351),'生命值'],[_0x44c48b(0x40f),_0x44c48b(0x5db)],['magicDefense',_0x44c48b(0x5d6)],[_0x44c48b(0x299),'法力值'],['physicalAttack',_0x44c48b(0x2f3)],[_0x44c48b(0x479),'物理防御'],[_0x44c48b(0x200),'速度']]);let _0x2f8af4='';for(const [_0x2d8b90,_0x41cc31]of Object['entries'](_0xa77b90)){const _0x224339=_0x1c885a[_0x44c48b(0x33d)](_0x2d8b90)||_0x2d8b90;_0x2f8af4+=_0x224339+':\x20'+_0x41cc31+'\x0a';}showInfoBox(_0x44c48b(0x365)+spiritLevel+'，成长系数为'+spiritMultiplier+_0x44c48b(0x524)+_0x2f8af4);}function updateSpiritDisplay(){const _0x249b88=_0x5bf82f,_0x1dfe89=getCurrentSpiritAttributes();document['getElementById'](_0x249b88(0x26a))[_0x249b88(0x246)]=spiritLevel,document[_0x249b88(0x50b)](_0x249b88(0x596))['innerText']=Math['round'](spiritMultiplier*0x64)+'%',document['getElementById'](_0x249b88(0x57e))[_0x249b88(0x246)]=_0x1dfe89['health'],document[_0x249b88(0x50b)](_0x249b88(0x5cf))[_0x249b88(0x246)]=_0x1dfe89['mana'],document[_0x249b88(0x50b)]('spirit-physical-attack')[_0x249b88(0x246)]=_0x1dfe89[_0x249b88(0x424)],document[_0x249b88(0x50b)](_0x249b88(0x458))[_0x249b88(0x246)]=_0x1dfe89['physicalDefense'],document[_0x249b88(0x50b)](_0x249b88(0x460))['innerText']=_0x1dfe89[_0x249b88(0x40f)],document[_0x249b88(0x50b)]('spirit-magic-defense')['innerText']=_0x1dfe89['magicDefense'],document[_0x249b88(0x50b)](_0x249b88(0x281))['innerText']=_0x1dfe89['speed'];}document[_0x5bf82f(0x50b)](_0x5bf82f(0x28f))['addEventListener'](_0x5bf82f(0x201),()=>{const _0x2eee3a=_0x5bf82f;document['getElementById'](_0x2eee3a(0x308))[_0x2eee3a(0x300)]['display']=_0x2eee3a(0x504);}),document[_0x5bf82f(0x50b)]('level-up-spirit')[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x391446=_0x5bf82f;if(spiritLevel>=0x64){showMessage('战斗精灵已达到最大等级！',_0x391446(0x28a));return;}if(useItem(_0x391446(0x2db),0x1)){let _0x4d8979,_0x231f0f=0x0,_0x2c898d;if(spiritLevel<=0x14)_0x4d8979=0x1,_0x2c898d=0x1;else{if(spiritLevel<=0x1e)_0x4d8979=0.95,_0x2c898d=0x15;else{if(spiritLevel<=0x28)_0x4d8979=0.9,_0x231f0f=0x1,_0x2c898d=0x1f;else{if(spiritLevel<=0x32)_0x4d8979=0.85,_0x231f0f=0x1,_0x2c898d=0x29;else{if(spiritLevel<=0x3c)_0x4d8979=0.8,_0x231f0f=0x1,_0x2c898d=0x33;else{if(spiritLevel<=0x46)_0x4d8979=0.85,_0x231f0f=0x2,_0x2c898d=0x3d;else{if(spiritLevel<=0x50)_0x4d8979=0.8,_0x231f0f=0x2,_0x2c898d=0x47;else{if(spiritLevel<=0x5a)_0x4d8979=0.75,_0x231f0f=0x2,_0x2c898d=0x51;else spiritLevel<=0x63&&(_0x4d8979=0.7,_0x231f0f=0x2,_0x2c898d=0x5b);}}}}}}}const _0x58ebf8=Math['random']();_0x58ebf8<_0x4d8979?(spiritLevel+=0x1,updateSpiritDisplay(),updatePetInfo()):(_0x231f0f>0x0?(spiritLevel=Math[_0x391446(0x4ba)](_0x2c898d,spiritLevel-_0x231f0f),showMessage(_0x391446(0x468)+_0x231f0f+_0x391446(0x45f)+_0x2c898d+_0x391446(0x534),_0x391446(0x28a))):showMessage('洗练失败！','error'),updateSpiritDisplay(),updatePetInfo());}else showMessage('您的精灵精炼石不足！',_0x391446(0x28a));}),document[_0x5bf82f(0x50b)](_0x5bf82f(0x5e9))['addEventListener']('click',()=>{const _0x15235a=_0x5bf82f,_0x1aeff2=parseInt(prompt('请输入目标精灵等级：'),0xa);if(isNaN(_0x1aeff2)||_0x1aeff2<=spiritLevel||_0x1aeff2>maxSpiritLevel){showMessage(_0x15235a(0x34d),_0x15235a(0x28a));return;}let _0x1a943a=spiritLevel,_0x5eaddb=0x0;while(spiritLevel<_0x1aeff2&&useItem(_0x15235a(0x2db),0x1)){_0x5eaddb++;let _0x1d7dd8,_0x5b51ca=0x0,_0x5a5959;if(spiritLevel<=0x14)_0x1d7dd8=0x1,_0x5a5959=0x1;else{if(spiritLevel<=0x1e)_0x1d7dd8=0.95,_0x5a5959=0x15;else{if(spiritLevel<=0x28)_0x1d7dd8=0.9,_0x5b51ca=0x1,_0x5a5959=0x1f;else{if(spiritLevel<=0x32)_0x1d7dd8=0.85,_0x5b51ca=0x1,_0x5a5959=0x29;else{if(spiritLevel<=0x3c)_0x1d7dd8=0.8,_0x5b51ca=0x1,_0x5a5959=0x33;else{if(spiritLevel<=0x46)_0x1d7dd8=0.85,_0x5b51ca=0x2,_0x5a5959=0x3d;else{if(spiritLevel<=0x50)_0x1d7dd8=0.8,_0x5b51ca=0x2,_0x5a5959=0x47;else{if(spiritLevel<=0x5a)_0x1d7dd8=0.75,_0x5b51ca=0x2,_0x5a5959=0x51;else spiritLevel<=0x63&&(_0x1d7dd8=0.7,_0x5b51ca=0x2,_0x5a5959=0x5b);}}}}}}}const _0x143059=Math[_0x15235a(0x435)]();_0x143059<_0x1d7dd8?(spiritLevel+=0x1,updateSpiritDisplay(),updatePetInfo()):(_0x5b51ca>0x0&&(spiritLevel=Math[_0x15235a(0x4ba)](_0x5a5959,spiritLevel-_0x5b51ca)),updateSpiritDisplay(),updatePetInfo());}showMessage(_0x15235a(0x464)+_0x5eaddb+_0x15235a(0x5d0)+spiritLevel+_0x15235a(0x277),'info');});function getCurrentSpiritAttributes(){const _0x3f84b2=_0x5bf82f,_0x2875f7=getBaseSpiritAttributes();return{'health':Math[_0x3f84b2(0x5c6)](_0x2875f7[_0x3f84b2(0x351)]*Math[_0x3f84b2(0x21f)](1.08,spiritLevel)*spiritMultiplier),'mana':Math[_0x3f84b2(0x5c6)](_0x2875f7[_0x3f84b2(0x299)]*Math[_0x3f84b2(0x21f)](1.08,spiritLevel)*spiritMultiplier),'physicalAttack':Math[_0x3f84b2(0x5c6)](_0x2875f7['physicalAttack']*Math[_0x3f84b2(0x21f)](1.07,spiritLevel)*spiritMultiplier),'physicalDefense':Math[_0x3f84b2(0x5c6)](_0x2875f7[_0x3f84b2(0x479)]*Math['pow'](1.08,spiritLevel)*spiritMultiplier),'magicAttack':Math['floor'](_0x2875f7[_0x3f84b2(0x40f)]*Math[_0x3f84b2(0x21f)](1.07,spiritLevel)*spiritMultiplier),'magicDefense':Math[_0x3f84b2(0x5c6)](_0x2875f7[_0x3f84b2(0x268)]*Math['pow'](1.08,spiritLevel)*spiritMultiplier),'speed':Math[_0x3f84b2(0x5c6)](_0x2875f7['speed']*Math[_0x3f84b2(0x21f)](1.07,spiritLevel)*spiritMultiplier)};}document[_0x5bf82f(0x50b)](_0x5bf82f(0x331))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x55a1ed=_0x5bf82f;if(useItem(_0x55a1ed(0x3e2),0x1)){let _0x5c5380;const _0x438064=Math[_0x55a1ed(0x435)]();if(_0x438064<0.95)_0x5c5380=(Math['random']()*(0x3-0.01)+0.01)[_0x55a1ed(0x3ca)](0x2);else{if(_0x438064<0.98)_0x5c5380=(Math[_0x55a1ed(0x435)]()*(3.99-3.01)+3.01)[_0x55a1ed(0x3ca)](0x2);else _0x438064<0.99?_0x5c5380=(Math[_0x55a1ed(0x435)]()*(4.1-0x4)+0x4)[_0x55a1ed(0x3ca)](0x2):_0x5c5380=(Math['random']()*(4.15-4.11)+4.11)[_0x55a1ed(0x3ca)](0x2);}if(parseFloat(_0x5c5380)>3.9){const _0x2e7135=_0x55a1ed(0x44b);showInfoBox(_0x2e7135,()=>{spiritMultiplier=parseFloat(_0x5c5380),updateSpiritDisplay(),updatePetInfo();});}else spiritMultiplier=parseFloat(_0x5c5380),updateSpiritDisplay(),updatePetInfo();}else showInfoBox(_0x55a1ed(0x5c4));});function handleSpiritHeal(){const _0x1e31fa=_0x5bf82f;if(!awakened)return;if(summonEnemy)return;const _0x42b09b=0.01,_0x4b0d16=_0x42b09b+spiritMultiplier/0x190,_0x2797e0=Math[_0x1e31fa(0x372)](_0x4b0d16*0x64);if(Math[_0x1e31fa(0x435)]()*0x64<_0x2797e0){const _0x52fd4a=getCurrentSpiritAttributes(),_0x2d1d62=Math[_0x1e31fa(0x372)]((Math['random']()*(1.8-0.9)+0.9)*_0x52fd4a[_0x1e31fa(0x40f)]*spiritMultiplier*2.5);battleState[_0x1e31fa(0x3d8)]['health']=Math[_0x1e31fa(0x23d)](battleState[_0x1e31fa(0x3d8)]['health']+_0x2d1d62,maxHealth),logBattleEvent(_0x1e31fa(0x3ba)+_0x2d1d62+_0x1e31fa(0x52c),_0x1e31fa(0x462)),updateDamageValue(-_0x2d1d62,!![],'extra-damage'),updateUI();}}function handleSpiritPower(){const _0x136445=_0x5bf82f;if(!awakened)return;if(summonEnemy)return;const _0x27e1ed=0.01,_0x3f26df=_0x27e1ed+spiritMultiplier/0x190,_0x55c426=Math[_0x136445(0x372)](_0x3f26df*0x64);if(Math[_0x136445(0x435)]()*0x64<_0x55c426&&!spiritPowerActive){spiritPowerActive=!![],battleState[_0x136445(0x3d8)][_0x136445(0x503)]=!![];const _0x27145a=getCurrentSpiritAttributes(),_0x176299={'health':Math[_0x136445(0x372)](_0x27145a[_0x136445(0x351)]/0x2),'mana':Math['round'](_0x27145a[_0x136445(0x299)]/1.5),'physicalAttack':Math[_0x136445(0x372)](_0x27145a[_0x136445(0x424)]/1.5),'physicalDefense':Math[_0x136445(0x372)](_0x27145a['physicalDefense']/1.2),'magicAttack':Math[_0x136445(0x372)](_0x27145a[_0x136445(0x40f)]/1.5),'magicDefense':Math[_0x136445(0x372)](_0x27145a['magicDefense']/1.3),'speed':Math[_0x136445(0x372)](_0x27145a[_0x136445(0x200)]/1.3)};Object[_0x136445(0x56b)](_0x176299)['forEach'](_0xc54a9=>{battleAttributes[_0xc54a9]+=_0x176299[_0xc54a9];}),logBattleEvent(_0x136445(0x203),_0x136445(0x462)),updateUI(),setTimeout(()=>{const _0x25e5f5=_0x136445;Object[_0x25e5f5(0x56b)](_0x176299)[_0x25e5f5(0x35e)](_0x4923c7=>{battleAttributes[_0x4923c7]-=_0x176299[_0x4923c7];}),spiritPowerActive=![],battleState[_0x25e5f5(0x3d8)][_0x25e5f5(0x503)]=![],updateUI();},0x1388);}}function handleSpiritAttack(){const _0x450dfb=_0x5bf82f;if(!awakened)return;if(summonEnemy)return;const _0x28818b=0.01,_0x4a877e=_0x28818b+spiritMultiplier/0x190,_0x160326=Math['round'](_0x4a877e*0x64);if(Math['random']()*0x64<_0x160326){const _0x1efbe4=getCurrentSpiritAttributes(),_0x27bf55=Math['round']((Math[_0x450dfb(0x435)]()*(2.4-1.8)+1.8)*_0x1efbe4[_0x450dfb(0x40f)]*spiritMultiplier*battleState[_0x450dfb(0x3d8)]['critDamage']);battleState['enemy'][_0x450dfb(0x351)]=Math[_0x450dfb(0x4ba)](battleState[_0x450dfb(0x404)][_0x450dfb(0x351)]-_0x27bf55,0x0),logBattleEvent(_0x450dfb(0x4c6)+_0x27bf55+'点助攻伤害！',_0x450dfb(0x462));if(battleState[_0x450dfb(0x404)]['health']<=0x0){showNextBattlePrompt(!![]);return;}Math['random']()<0.4+_0x4a877e&&handleSleep(),updateUI();}}document['getElementById'](_0x5bf82f(0x5a6))[_0x5bf82f(0x581)](_0x5bf82f(0x201),handleAscensionButtonClick);function handleAscensionButtonClick(){const _0x4c84cf=_0x5bf82f;if(!ascend){showInfoBox(_0x4c84cf(0x2af));return;}ascensionEnabled?ascensionSkillDescription():useItem('heartStone',0x1)?(showInfoBox(_0x4c84cf(0x470)),refreshAscensionSkill(),applyAscensionBonus(),ascensionEnabled=!![]):showInfoBox(_0x4c84cf(0x276)),updateAscensionButton();}document[_0x5bf82f(0x50b)](_0x5bf82f(0x453))[_0x5bf82f(0x581)]('click',()=>{const _0x416d33=_0x5bf82f;document['getElementById'](_0x416d33(0x335))[_0x416d33(0x300)][_0x416d33(0x48a)]='none';});function checkAscensionEnabled(){const _0x23fa05=_0x5bf82f;if(!ascensionEnabled)return showInfoBox(_0x23fa05(0x319)),![];return!![];}function updateAscensionButton(){const _0x127a6e=_0x5bf82f,_0x20413d=document[_0x127a6e(0x50b)](_0x127a6e(0x5a6));ascensionEnabled?(_0x20413d[_0x127a6e(0x246)]='技能说明',_0x20413d[_0x127a6e(0x300)][_0x127a6e(0x5eb)]='darkred',_0x20413d[_0x127a6e(0x56a)](_0x127a6e(0x201),handleAscensionButtonClick),_0x20413d[_0x127a6e(0x581)](_0x127a6e(0x201),ascensionSkillDescription)):(_0x20413d['innerText']=_0x127a6e(0x431),_0x20413d['style']['backgroundColor']='',_0x20413d[_0x127a6e(0x56a)](_0x127a6e(0x201),ascensionSkillDescription),_0x20413d[_0x127a6e(0x581)](_0x127a6e(0x201),handleAscensionButtonClick));}function ascensionSkillDescription(){const _0x4e3c73=_0x5bf82f;let _0x5da653=[],_0x4d0058=0x1;for(const _0x12f896 in ascensionSkills){ascensionSkills['hasOwnProperty'](_0x12f896)&&ascensionSkills[_0x12f896][_0x4e3c73(0x35e)](_0x2082ed=>{const _0x2df13f=_0x4e3c73;_0x5da653[_0x2df13f(0x591)](_0x4d0058+'.\x20'+_0x2082ed['name']+'：'+_0x2082ed[_0x2df13f(0x39b)](0x1)),_0x4d0058++;});}const _0x44da09=_0x5da653[_0x4e3c73(0x29e)]('\x0a');showInfoBox(_0x44da09);}document['getElementById'](_0x5bf82f(0x5bc))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x48668c=_0x5bf82f;if(!petAscended)showInfoBox('您的宠物未飞升，还没有掌握飞升之术！');else{if(battleState[_0x48668c(0x3d8)][_0x48668c(0x22e)]){performAttack(_0x48668c(0x3be));return;}else document[_0x48668c(0x50b)]('ascension-skill-modal')[_0x48668c(0x300)]['display']=_0x48668c(0x3b3),updateAscensionDisplay();}}),document[_0x5bf82f(0x50b)](_0x5bf82f(0x263))[_0x5bf82f(0x581)]('click',()=>{const _0x51ce80=_0x5bf82f;if(!checkAscensionEnabled())return;useItem(_0x51ce80(0x279),0x1)?(refreshAscensionSkill(),applyAscensionBonus()):showInfoBox(_0x51ce80(0x276));});function refreshAscensionSkill(){const _0x1caee9=_0x5bf82f;let _0x1669a;do{const _0x4a79c1=[...ascensionSkills[_0x1caee9(0x370)],...ascensionSkills['combat'],...ascensionSkills[_0x1caee9(0x494)]];_0x1669a=_0x4a79c1[Math[_0x1caee9(0x5c6)](Math[_0x1caee9(0x435)]()*_0x4a79c1[_0x1caee9(0x490)])];}while(_0x1669a['name']===secondAscensionSkill[_0x1caee9(0x3eb)]||_0x1669a[_0x1caee9(0x3eb)]===_0x1caee9(0x3a8)||_0x1669a[_0x1caee9(0x3eb)]===_0x1caee9(0x563));ascensionSkill={..._0x1669a,'level':0x1},updateAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}document[_0x5bf82f(0x50b)](_0x5bf82f(0x411))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x4e9826=_0x5bf82f;if(!checkAscensionEnabled())return;useItem(_0x4e9826(0x24c),0xa)?levelUpAscensionSkill():showInfoBox('每次提升技能需要消耗10个天地灵气，你的天地灵气数量不足！');});function levelUpAscensionSkill(){const _0x8ce845=_0x5bf82f;ascensionSkill[_0x8ce845(0x48e)]<0x14?(ascensionSkill['level']+=0x1,updateAscensionDisplay(),applyAscensionBonus()):showInfoBox('飞升之术技能已达最大等级！');}function updateAscensionDisplay(){const _0x3ac02d=_0x5bf82f;document['getElementById'](_0x3ac02d(0x5a9))[_0x3ac02d(0x5a1)]=_0x3ac02d(0x4bc),document[_0x3ac02d(0x50b)](_0x3ac02d(0x4bf))[_0x3ac02d(0x246)]=ascensionSkill[_0x3ac02d(0x3eb)],document[_0x3ac02d(0x50b)]('ascension-level')['innerText']=_0x3ac02d(0x318)+ascensionSkill[_0x3ac02d(0x48e)],document[_0x3ac02d(0x50b)](_0x3ac02d(0x516))[_0x3ac02d(0x246)]='';const _0xc770d3=ascensionSkills[_0x3ac02d(0x267)][_0x3ac02d(0x37d)](_0x439d52=>_0x439d52[_0x3ac02d(0x3eb)]===ascensionSkill['name'])||ascensionSkills[_0x3ac02d(0x370)][_0x3ac02d(0x37d)](_0x484ea5=>_0x484ea5[_0x3ac02d(0x3eb)]===ascensionSkill[_0x3ac02d(0x3eb)])||ascensionSkills[_0x3ac02d(0x494)][_0x3ac02d(0x37d)](_0x3e8dea=>_0x3e8dea[_0x3ac02d(0x3eb)]===ascensionSkill[_0x3ac02d(0x3eb)]);_0xc770d3&&(document['getElementById'](_0x3ac02d(0x516))['innerText']=_0xc770d3['effect'](ascensionSkill[_0x3ac02d(0x48e)]));}function checkSecondAscensionEnabled(){const _0x111254=_0x5bf82f,_0x354bc8=document[_0x111254(0x50b)](_0x111254(0x525));if(!reenableAscension||!ascensionEnabled){const _0x4395b1=secondAscensionSkill?secondAscensionSkill[_0x111254(0x3eb)]:null;return _0x354bc8[_0x111254(0x300)][_0x111254(0x48a)]=_0x111254(0x504),_0x4395b1?console[_0x111254(0x528)](_0x111254(0x27f)+_0x4395b1+_0x111254(0x568)):console[_0x111254(0x528)](_0x111254(0x3ab)),![];}else return _0x354bc8[_0x111254(0x300)][_0x111254(0x48a)]=_0x111254(0x3b3),!![];}document[_0x5bf82f(0x50b)]('reenable-ascension')[_0x5bf82f(0x581)]('click',()=>{const _0x4c2fa2=_0x5bf82f;if(!ascensionSkill['name']&&!ascensionEnabled){showInfoBox(_0x4c2fa2(0x5b1));return;}const _0x4e5ff9=document[_0x4c2fa2(0x50b)](_0x4c2fa2(0x525));_0x4e5ff9[_0x4c2fa2(0x300)][_0x4c2fa2(0x48a)]===_0x4c2fa2(0x504)?confirm('你可以消耗10个飞升之石为宠物开启第二个飞升之术，确认请继续')&&(useItem(_0x4c2fa2(0x379),0xa)?(_0x4e5ff9[_0x4c2fa2(0x300)]['display']=_0x4c2fa2(0x3b3),refreshSecondAscensionSkill(),reenableAscension=!![]):showInfoBox(_0x4c2fa2(0x36c))):showInfoBox(_0x4c2fa2(0x2a5)),checkSecondAscensionEnabled();}),document[_0x5bf82f(0x50b)](_0x5bf82f(0x49c))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x59ca28=_0x5bf82f;if(!checkSecondAscensionEnabled())return;useItem(_0x59ca28(0x279),0x1)?refreshSecondAscensionSkill():showInfoBox(_0x59ca28(0x276));});function refreshSecondAscensionSkill(){const _0x44d5ea=_0x5bf82f;let _0x18aaf3;do{const _0x1bb4ae=[...ascensionSkills['attribute'],...ascensionSkills[_0x44d5ea(0x267)],...ascensionSkills[_0x44d5ea(0x494)]];_0x18aaf3=_0x1bb4ae[Math['floor'](Math[_0x44d5ea(0x435)]()*_0x1bb4ae['length'])];}while(_0x18aaf3['name']===ascensionSkill[_0x44d5ea(0x3eb)]||_0x18aaf3[_0x44d5ea(0x3eb)]===_0x44d5ea(0x3a8)||_0x18aaf3['name']==='被封印的技能');secondAscensionSkill={..._0x18aaf3,'level':0x1},updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}document[_0x5bf82f(0x50b)](_0x5bf82f(0x327))[_0x5bf82f(0x581)](_0x5bf82f(0x201),()=>{const _0x527e4d=_0x5bf82f;if(!checkSecondAscensionEnabled())return;useItem(_0x527e4d(0x24c),0xa)?levelUpSecondAscensionSkill():showInfoBox('每次提升技能需要消耗10个天地灵气，你的天地灵气数量不足！');});function levelUpSecondAscensionSkill(){const _0xe9633c=_0x5bf82f;secondAscensionSkill[_0xe9633c(0x48e)]<0x14?(secondAscensionSkill[_0xe9633c(0x48e)]+=0x1,updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects()):showInfoBox(_0xe9633c(0x5ca));}function updateSecondAscensionSkill(){updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}function _0x45ff(_0x462ca0,_0x5efcee){const _0x2df620=_0x2df6();return _0x45ff=function(_0x45ff62,_0xdf7be7){_0x45ff62=_0x45ff62-0x1ef;let _0x12ea05=_0x2df620[_0x45ff62];return _0x12ea05;},_0x45ff(_0x462ca0,_0x5efcee);}function updateSecondAscensionDisplay(){const _0x188843=_0x5bf82f;if(!checkSecondAscensionEnabled())return;const _0x5ef469=document[_0x188843(0x50b)]('second-ascension-skill');document['getElementById'](_0x188843(0x5d2))[_0x188843(0x5a1)]=_0x188843(0x566),document[_0x188843(0x50b)](_0x188843(0x475))['innerText']=secondAscensionSkill['name'],document['getElementById']('second-ascension-level')[_0x188843(0x246)]=_0x188843(0x318)+secondAscensionSkill[_0x188843(0x48e)];const _0x2ac245=ascensionSkills[_0x188843(0x267)][_0x188843(0x37d)](_0x226d08=>_0x226d08[_0x188843(0x3eb)]===secondAscensionSkill[_0x188843(0x3eb)])||ascensionSkills[_0x188843(0x370)][_0x188843(0x37d)](_0x1f52a=>_0x1f52a[_0x188843(0x3eb)]===secondAscensionSkill[_0x188843(0x3eb)])||ascensionSkills[_0x188843(0x494)][_0x188843(0x37d)](_0x2f8e7d=>_0x2f8e7d[_0x188843(0x3eb)]===secondAscensionSkill[_0x188843(0x3eb)]);_0x2ac245&&(document['getElementById'](_0x188843(0x50c))[_0x188843(0x246)]=_0x2ac245[_0x188843(0x39b)](secondAscensionSkill[_0x188843(0x48e)]));}function applyAscensionBonus(){const _0x15a998=_0x5bf82f;let _0x459c59={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};_0x459c59=applySingleAscensionBonus(ascensionSkill,_0x459c59),secondAscensionSkill[_0x15a998(0x3eb)]&&checkSecondAscensionEnabled()&&(_0x459c59=applySingleAscensionBonus(secondAscensionSkill,_0x459c59)),ascensionAttributes=_0x459c59,updatePetInfo();}function applySingleAscensionBonus(_0x2b68f2,_0x5bdf9d){const _0x159e7e=_0x5bf82f;switch(_0x2b68f2[_0x159e7e(0x3eb)]){case _0x159e7e(0x4c2):_0x5bdf9d['physicalAttack']+=_0x2b68f2[_0x159e7e(0x432)]+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2['level']);break;case _0x159e7e(0x4f9):_0x5bdf9d[_0x159e7e(0x351)]+=_0x2b68f2[_0x159e7e(0x432)]+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]),_0x5bdf9d['mana']+=0x2710+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]);break;case'势如破竹':_0x5bdf9d[_0x159e7e(0x200)]+=_0x2b68f2['baseValue']+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]),_0x5bdf9d[_0x159e7e(0x40f)]+=0xbb8+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]);break;case'固若金汤':_0x5bdf9d['physicalDefense']+=_0x2b68f2[_0x159e7e(0x432)]+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]),_0x5bdf9d[_0x159e7e(0x268)]+=0x186a0+_0x2b68f2[_0x159e7e(0x3a7)](_0x2b68f2[_0x159e7e(0x48e)]);break;}return _0x5bdf9d;}function applyAscensionEffects(){resetBattleStateEffects(),applySingleAscensionEffect(ascensionSkill),secondAscensionSkill['name']&&checkSecondAscensionEnabled()&&applySingleAscensionEffect(secondAscensionSkill);}function applySingleAscensionEffect(_0x2d67cd){const _0x1d4208=_0x5bf82f;switch(_0x2d67cd[_0x1d4208(0x3eb)]){case _0x1d4208(0x220):const _0x463b15=(_0x2d67cd['baseValue']+_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]))/0x64,_0x10f8da=Math[_0x1d4208(0x5c6)](maxHealth*_0x463b15);battleAttributes[_0x1d4208(0x351)]=Math[_0x1d4208(0x23d)](maxHealth,battleAttributes[_0x1d4208(0x351)]+_0x10f8da),logBattleEvent(_0x1d4208(0x3cd)+_0x10f8da+'\x20点生命值。',_0x1d4208(0x31b)),updateUI();break;case'天降甘霖':battleState[_0x1d4208(0x3d8)][_0x1d4208(0x598)]=0.5,battleState[_0x1d4208(0x3d8)][_0x1d4208(0x368)]=0x5+_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]);break;case _0x1d4208(0x4ec):battleState[_0x1d4208(0x3d8)][_0x1d4208(0x2c8)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)])/0x64;break;case'灵魂穿刺':battleState['player'][_0x1d4208(0x304)]=_0x2d67cd['increment'](_0x2d67cd[_0x1d4208(0x48e)])/0x64,battleState['player'][_0x1d4208(0x2fb)]=0xa;break;case _0x1d4208(0x25c):battleState[_0x1d4208(0x3d8)][_0x1d4208(0x40e)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd['level'])/0x64;break;case _0x1d4208(0x53a):battleState[_0x1d4208(0x3d8)][_0x1d4208(0x32d)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)])/0x64;break;case _0x1d4208(0x4d7):battleState['player'][_0x1d4208(0x4f8)]+=_0x2d67cd['baseValue']+_0x2d67cd['increment'](_0x2d67cd[_0x1d4208(0x48e)]);break;case _0x1d4208(0x394):battleState[_0x1d4208(0x3d8)][_0x1d4208(0x4a2)]=_0x2d67cd[_0x1d4208(0x432)]+_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]);break;case _0x1d4208(0x46c):battleState[_0x1d4208(0x3d8)]['goldBonus']=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]);break;case _0x1d4208(0x579):battleState[_0x1d4208(0x3d8)]['noGoldPenalty']=!![],battleState[_0x1d4208(0x3d8)][_0x1d4208(0x4cc)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]);break;case'焉知非福':battleState[_0x1d4208(0x3d8)][_0x1d4208(0x253)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd['level']);break;case _0x1d4208(0x35d):battleState[_0x1d4208(0x3d8)][_0x1d4208(0x284)]=_0x2d67cd['increment'](_0x2d67cd[_0x1d4208(0x48e)]);break;case'举一反三':battleState['player'][_0x1d4208(0x346)]=_0x2d67cd[_0x1d4208(0x3a7)](_0x2d67cd[_0x1d4208(0x48e)]);break;}}function resetBattleStateEffects(){const _0xc8646d=_0x5bf82f;battleState[_0xc8646d(0x3d8)][_0xc8646d(0x4a2)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x598)]=0x0,battleState[_0xc8646d(0x3d8)]['reflectPercentage']=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x40e)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x32d)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x304)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x2fb)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x2c8)]=0x0,battleState['player'][_0xc8646d(0x4f8)]=0x0,battleState['player'][_0xc8646d(0x418)]=0x0,battleState['player']['noGoldPenalty']=![],battleState[_0xc8646d(0x3d8)][_0xc8646d(0x4cc)]=0x0,battleState['player'][_0xc8646d(0x253)]=0x0,battleState[_0xc8646d(0x3d8)][_0xc8646d(0x284)]=0x0,battleState[_0xc8646d(0x3d8)]['expBonus']=0x0;}function enemyInfo(){const _0x25529a=_0x5bf82f,_0x4a7b5b=document['createElement']('div');_0x4a7b5b[_0x25529a(0x300)][_0x25529a(0x32c)]=_0x25529a(0x2e7),_0x4a7b5b['style']['top']='50%',_0x4a7b5b[_0x25529a(0x300)]['left']=_0x25529a(0x360),_0x4a7b5b[_0x25529a(0x300)][_0x25529a(0x42a)]=_0x25529a(0x565),_0x4a7b5b[_0x25529a(0x300)]['backgroundColor']=_0x25529a(0x584),_0x4a7b5b[_0x25529a(0x300)]['color']='white',_0x4a7b5b[_0x25529a(0x300)]['padding']=_0x25529a(0x5cb),_0x4a7b5b[_0x25529a(0x300)][_0x25529a(0x553)]=_0x25529a(0x43f),_0x4a7b5b['style'][_0x25529a(0x258)]=_0x25529a(0x445),_0x4a7b5b[_0x25529a(0x300)][_0x25529a(0x399)]=_0x25529a(0x557),_0x4a7b5b[_0x25529a(0x300)][_0x25529a(0x3fc)]=_0x25529a(0x334),_0x4a7b5b[_0x25529a(0x300)]['maxWidth']='600px',_0x4a7b5b['style'][_0x25529a(0x5f5)]='border-box',_0x4a7b5b[_0x25529a(0x300)]['fontSize']='14px';const _0x417267=document[_0x25529a(0x472)]('button');_0x417267[_0x25529a(0x246)]='X',_0x417267[_0x25529a(0x300)][_0x25529a(0x32c)]=_0x25529a(0x212),_0x417267[_0x25529a(0x300)][_0x25529a(0x54a)]=_0x25529a(0x445),_0x417267[_0x25529a(0x300)][_0x25529a(0x496)]=_0x25529a(0x445),_0x417267[_0x25529a(0x300)]['backgroundColor']=_0x25529a(0x23b),_0x417267[_0x25529a(0x300)]['color']=_0x25529a(0x52d),_0x417267[_0x25529a(0x300)][_0x25529a(0x553)]=_0x25529a(0x504),_0x417267['style'][_0x25529a(0x448)]='pointer',_0x417267['addEventListener'](_0x25529a(0x201),()=>{const _0x1e5999=_0x25529a;document[_0x1e5999(0x25f)]['removeChild'](_0x4a7b5b);});const _0xaf1a79=document[_0x25529a(0x472)](_0x25529a(0x221));_0xaf1a79[_0x25529a(0x300)][_0x25529a(0x48a)]='flex',_0xaf1a79[_0x25529a(0x300)][_0x25529a(0x36a)]=_0x25529a(0x4b2),_0xaf1a79[_0x25529a(0x300)][_0x25529a(0x5d9)]='20px';const _0x3b4b2c=enemyImages[_0x25529a(0x37d)](_0x4c440d=>_0x4c440d[_0x25529a(0x3eb)]===battleState[_0x25529a(0x404)][_0x25529a(0x3eb)]),_0x182baf=document['createElement'](_0x25529a(0x3a9));_0x3b4b2c?_0x182baf[_0x25529a(0x5a1)]=_0x3b4b2c[_0x25529a(0x31d)]:_0x182baf[_0x25529a(0x5a1)]=_0x25529a(0x202);_0x182baf[_0x25529a(0x300)][_0x25529a(0x3fc)]=_0x25529a(0x3cb),_0x182baf[_0x25529a(0x300)]['height']='100px',_0x182baf['style']['marginRight']='20px';const _0x481431=document['createElement'](_0x25529a(0x221)),_0x53639d=document['createElement']('h2');!summonEnemy?_0x53639d[_0x25529a(0x246)]=_0x25529a(0x20f):_0x53639d[_0x25529a(0x246)]=''+battleState[_0x25529a(0x404)][_0x25529a(0x3eb)];_0x53639d[_0x25529a(0x300)][_0x25529a(0x254)]='0',_0x53639d[_0x25529a(0x300)][_0x25529a(0x5d9)]=_0x25529a(0x445);const _0x306cb2=document[_0x25529a(0x472)]('p');!summonEnemy?_0x306cb2[_0x25529a(0x246)]='潜藏于三界裂缝，以迷惑人心智、吸收人的恐惧而不断变强的邪祟。':_0x306cb2[_0x25529a(0x246)]=_0x25529a(0x485);_0x306cb2[_0x25529a(0x300)]['margin']='0',_0x481431['appendChild'](_0x53639d),_0x481431[_0x25529a(0x455)](_0x306cb2),_0xaf1a79[_0x25529a(0x455)](_0x182baf),_0xaf1a79[_0x25529a(0x455)](_0x481431);const _0x6dc8d=document[_0x25529a(0x472)]('hr');_0x6dc8d[_0x25529a(0x300)][_0x25529a(0x387)]='white',_0x6dc8d[_0x25529a(0x300)]['margin']=_0x25529a(0x240);const _0x18be09=document[_0x25529a(0x472)](_0x25529a(0x221));let _0x476c3a;!summonEnemy?_0x476c3a=['妖怪共有两种形态：正常和狂暴',_0x25529a(0x41f),_0x25529a(0x465),_0x25529a(0x4f2)]:_0x476c3a=[_0x25529a(0x51e),_0x25529a(0x374),_0x25529a(0x57d),_0x25529a(0x5b6)];_0x476c3a['forEach'](_0xe31260=>{const _0x48fc47=_0x25529a,_0x330e38=document[_0x48fc47(0x472)]('p');_0x330e38[_0x48fc47(0x246)]=_0xe31260,_0x330e38[_0x48fc47(0x300)][_0x48fc47(0x254)]=_0x48fc47(0x330),_0x18be09['appendChild'](_0x330e38);});const _0x2093be=document[_0x25529a(0x472)]('div');_0x2093be[_0x25529a(0x300)][_0x25529a(0x48a)]=_0x25529a(0x406),_0x2093be['style'][_0x25529a(0x358)]='space-between',_0x2093be['style'][_0x25529a(0x3fc)]=_0x25529a(0x4fe),_0x2093be[_0x25529a(0x300)][_0x25529a(0x2c5)]=_0x25529a(0x5cb);const _0x2c5d64=document[_0x25529a(0x472)]('button');_0x2c5d64['innerText']='跳过十轮',_0x2c5d64[_0x25529a(0x300)][_0x25529a(0x32e)]=_0x25529a(0x2b1),_0x2c5d64[_0x25529a(0x300)]['backgroundColor']=_0x25529a(0x3e8),_0x2c5d64['style']['color']=_0x25529a(0x52d),_0x2c5d64[_0x25529a(0x300)][_0x25529a(0x553)]=_0x25529a(0x504),_0x2c5d64[_0x25529a(0x300)][_0x25529a(0x258)]=_0x25529a(0x469),_0x2c5d64['style']['cursor']='pointer',_0x2c5d64['addEventListener'](_0x25529a(0x201),()=>{jumpByTenRounds();});const _0x1a9d1b=document[_0x25529a(0x472)](_0x25529a(0x249));_0x1a9d1b['innerText']='自动战斗',_0x1a9d1b[_0x25529a(0x300)][_0x25529a(0x32e)]=_0x25529a(0x2b1),_0x1a9d1b[_0x25529a(0x300)][_0x25529a(0x5eb)]=_0x25529a(0x3e8),_0x1a9d1b[_0x25529a(0x300)]['color']=_0x25529a(0x52d),_0x1a9d1b[_0x25529a(0x300)][_0x25529a(0x553)]=_0x25529a(0x504),_0x1a9d1b[_0x25529a(0x300)][_0x25529a(0x258)]=_0x25529a(0x469),_0x1a9d1b[_0x25529a(0x300)][_0x25529a(0x448)]='pointer',_0x1a9d1b[_0x25529a(0x581)](_0x25529a(0x201),()=>{const _0x5507b3=_0x25529a;autoBattle(),document[_0x5507b3(0x25f)][_0x5507b3(0x602)](_0x4a7b5b);});const _0x20a4de=document['createElement'](_0x25529a(0x249));_0x20a4de[_0x25529a(0x246)]='忘却之时',_0x20a4de[_0x25529a(0x300)][_0x25529a(0x32e)]=_0x25529a(0x2b1),_0x20a4de[_0x25529a(0x300)][_0x25529a(0x5eb)]='#003670',_0x20a4de[_0x25529a(0x300)][_0x25529a(0x2f5)]=_0x25529a(0x52d),_0x20a4de[_0x25529a(0x300)]['border']=_0x25529a(0x504),_0x20a4de[_0x25529a(0x300)]['borderRadius']=_0x25529a(0x469),_0x20a4de['style']['cursor']=_0x25529a(0x27e),_0x20a4de[_0x25529a(0x581)](_0x25529a(0x201),()=>{backToRoundOne();}),_0x2093be[_0x25529a(0x455)](_0x2c5d64),_0x2093be[_0x25529a(0x455)](_0x1a9d1b),_0x2093be[_0x25529a(0x455)](_0x20a4de),_0x4a7b5b['appendChild'](_0x417267),_0x4a7b5b[_0x25529a(0x455)](_0xaf1a79),_0x4a7b5b[_0x25529a(0x455)](_0x6dc8d),_0x4a7b5b[_0x25529a(0x455)](_0x18be09),_0x4a7b5b['appendChild'](_0x2093be),document[_0x25529a(0x25f)][_0x25529a(0x455)](_0x4a7b5b),_0x4a7b5b[_0x25529a(0x581)](_0x25529a(0x201),_0x3a8229=>{const _0x263522=_0x25529a;_0x3a8229[_0x263522(0x417)]===_0x4a7b5b&&document[_0x263522(0x25f)][_0x263522(0x602)](_0x4a7b5b);});}function autoBattle(){const _0x5d16b7=_0x5bf82f;if(!battleState||!battleState['enemy']){console[_0x5d16b7(0x28a)](_0x5d16b7(0x2b7)),clearAutoBattle();return;}if(autoBattleInterval!==null){clearAutoBattle(),showInfoBox('已关闭自动战斗！');return;}useItem(_0x5d16b7(0x5de),0x1)?(logBattleEvent('自动战斗已开始。',_0x5d16b7(0x500)),autoBattleInterval=setInterval(()=>{const _0x3141f0=_0x5d16b7;if(!battleState||!battleState['enemy']){console[_0x3141f0(0x28a)](_0x3141f0(0x2b7)),clearAutoBattle();return;}if(!playerTurn)return;if(battleAttributes['health']/maxHealth<0.5&&playerTurn){Math[_0x3141f0(0x435)]()<0.5?performDefense():performHeal();return;}const _0x459fe7=[battleState[_0x3141f0(0x3d8)][_0x3141f0(0x28c)],battleState[_0x3141f0(0x3d8)][_0x3141f0(0x4f0)],battleState[_0x3141f0(0x3d8)]['soulCapture'],battleState['player'][_0x3141f0(0x542)],battleState['player'][_0x3141f0(0x37a)],battleState['player'][_0x3141f0(0x2f4)],battleState[_0x3141f0(0x3d8)]['taunt'],battleState[_0x3141f0(0x3d8)][_0x3141f0(0x2d4)],battleState['player'][_0x3141f0(0x43a)],battleState[_0x3141f0(0x3d8)][_0x3141f0(0x26d)]],_0x498362=_0x459fe7[_0x3141f0(0x2f9)](Boolean)[_0x3141f0(0x490)];if(_0x498362>=0x2){const _0x4a3d4d=_0x3141f0(0x585),_0x3c0d01=drugInventory[_0x4a3d4d];if(_0x3c0d01&&_0x3c0d01[_0x3141f0(0x53f)]>0x0){selectDrug(_0x4a3d4d),useSelectedDrug();return;}}battleState[_0x3141f0(0x3d8)][_0x3141f0(0x542)]?performAttack(_0x3141f0(0x58c)):battleAttributes[_0x3141f0(0x40f)]>0.8*battleAttributes[_0x3141f0(0x424)]&&!battleState['player'][_0x3141f0(0x22e)]?Math[_0x3141f0(0x435)]()<0.99?performAttack('magical'):performAttack(_0x3141f0(0x3be)):performAttack(_0x3141f0(0x3be));},0x15e)):showInfoBox(_0x5d16b7(0x241),null,null,_0x5d16b7(0x30c));}function clearAutoBattle(){const _0x1f5d86=_0x5bf82f;autoBattleInterval!==null&&(clearInterval(autoBattleInterval),autoBattleInterval=null,logBattleEvent(_0x1f5d86(0x354),'red'));}function jumpByTenRounds(){const _0x441ca0=_0x5bf82f;if(battleState['player'][_0x441ca0(0x22e)]){performAttack(_0x441ca0(0x3be));return;}const _0x3645c6=0x3e8,_0x305a43=_0x3645c6-battleRounds,_0x2ab484=Math['min'](0xa,_0x305a43);if(battleRounds>=_0x3645c6){showInfoBox('当前是第'+battleRounds+_0x441ca0(0x2bb));return;}if(useItem(_0x441ca0(0x2c3),0x1)){let _0x477d65=currentExp;battleRounds+=_0x2ab484;for(let _0x35e34c=0x0;_0x35e34c<_0x2ab484;_0x35e34c++){updateEnemyAttributes(),gainExp(),currentExp=_0x477d65,updateExpBar(currentExp,maxExp),logBattleEvent(_0x441ca0(0x580)+_0x2ab484+_0x441ca0(0x46f)+battleRounds+'轮',_0x441ca0(0x462)),updatePetInfo(),updateUI();}}else{showInfoBox('唤妖符数量不足，无法跳过轮次！',null,null,_0x441ca0(0x30c));return;}}function backToRoundOne(){showInfoBox('你可以使用100个固元鼎和100个清心酿回到第一轮',()=>{const _0x93ee9=_0x45ff,_0x50f289=jinnangItems['find'](_0xa4feb4=>_0xa4feb4[_0x93ee9(0x3eb)]===_0x93ee9(0x45d)),_0x29f480=jinnangItems[_0x93ee9(0x37d)](_0x143e83=>_0x143e83[_0x93ee9(0x3eb)]==='ignoranceWater');if(!_0x50f289||_0x50f289['quantity']<0x64||!_0x29f480||_0x29f480[_0x93ee9(0x53f)]<0x64){showInfoBox(_0x93ee9(0x364));return;}useItem(_0x93ee9(0x45d),0x64),useItem(_0x93ee9(0x4c9),0x64),battleRounds=0x1,initializeEnemyPet(),updateEnemyAttributes(),updateUI(),showInfoBox(_0x93ee9(0x285));});}function divinedWeapon(){const _0x324374=_0x5bf82f;!divinedWeaponStatus&&(showInfoBox('使用神器可以为你的技能附加各种强力效果，极大增强你的战斗能力。\x0a1.神器的开启和使用需要消耗大量经验值或特定的「钥匙」。\x20\x0a2.【升满】按钮会根据你当前经验值或所拥有的道具数量直接升至最大值，请知悉。\x0a3.不建议未满级（180级）前执行神器升级操作。'),divinedWeaponStatus=!![]),divineWeaponManager[_0x324374(0x4b3)]();}class DivineWeaponManager{constructor(){const _0x5ce9b5=_0x5bf82f;this[_0x5ce9b5(0x478)]={'active':![],'level':0x1,'effects':[]},this[_0x5ce9b5(0x269)]={'active':![],'level':0x1,'effects':[]},this['nirvanaGem']={'active':![],'level':0x1,'effects':[]},this[_0x5ce9b5(0x5ba)]=null;}[_0x5bf82f(0x5a8)](){const _0x350d09=_0x5bf82f;return{'lostBook':this[_0x350d09(0x478)],'fragmentedMap':this[_0x350d09(0x269)],'nirvanaGem':this[_0x350d09(0x290)]};}[_0x5bf82f(0x3e7)](_0x168f83){const _0x582afc=_0x5bf82f;if(_0x168f83[_0x582afc(0x478)])this[_0x582afc(0x478)]=_0x168f83[_0x582afc(0x478)];if(_0x168f83[_0x582afc(0x269)])this[_0x582afc(0x269)]=_0x168f83[_0x582afc(0x269)];if(_0x168f83[_0x582afc(0x290)])this[_0x582afc(0x290)]=_0x168f83['nirvanaGem'];}[_0x5bf82f(0x4b3)](){const _0x4371b1=_0x5bf82f;this[_0x4371b1(0x5ba)]&&this['divineWeaponUI'][_0x4371b1(0x359)]();if(battleState['player']['taunt']){performAttack(_0x4371b1(0x3be));return;}this[_0x4371b1(0x5ba)]=document[_0x4371b1(0x472)](_0x4371b1(0x221)),this[_0x4371b1(0x5ba)][_0x4371b1(0x300)]=_0x4371b1(0x29a);const _0xd75ba4=this[_0x4371b1(0x478)][_0x4371b1(0x3a6)]?_0x4371b1(0x376)+this[_0x4371b1(0x478)][_0x4371b1(0x48e)]+')':'被封锁的上古神器（物理）',_0x3b4045=this[_0x4371b1(0x478)][_0x4371b1(0x3a6)]?this[_0x4371b1(0x478)]['effects']['length']>0x0?_0x4371b1(0x3b9)+(this[_0x4371b1(0x478)][_0x4371b1(0x48e)]*0.6+0x1)[_0x4371b1(0x3ca)](0x1)+'%概率触发以下技能效果：'+this[_0x4371b1(0x478)][_0x4371b1(0x52e)]['map'](this['getEffectChineseName'])[_0x4371b1(0x29e)](',\x20'):'<p>开启后可能为物理技能附加如下效果：</p><p>破甲、恐吓、眩晕、穿透、麻痹、惶恐</p>':_0x4371b1(0x235),_0x1d68f8=this[_0x4371b1(0x269)][_0x4371b1(0x3a6)]?'神品·残页的河图\x20(Lv'+this['fragmentedMap'][_0x4371b1(0x48e)]+')':_0x4371b1(0x367),_0x401bb8=this[_0x4371b1(0x269)][_0x4371b1(0x3a6)]?this[_0x4371b1(0x269)][_0x4371b1(0x52e)][_0x4371b1(0x490)]>0x0?'使用法术技能时，有'+(this['fragmentedMap'][_0x4371b1(0x48e)]*0.6+0x1)['toFixed'](0x1)+_0x4371b1(0x215)+this['fragmentedMap'][_0x4371b1(0x52e)][_0x4371b1(0x352)](this[_0x4371b1(0x57b)])[_0x4371b1(0x29e)](',\x20'):_0x4371b1(0x3c1):'<p>闪烁星光的宝盒，开启后可为法术技能概率附加效果：</p><p>迟缓、沉默、混乱、灼烧、法力燃烧、法力吸取</p>',_0x1fb9cd=this[_0x4371b1(0x290)][_0x4371b1(0x3a6)]?_0x4371b1(0x48c)+this[_0x4371b1(0x290)][_0x4371b1(0x48e)]+')':'被封锁的上古神器（庇护）',_0x1e7558=this[_0x4371b1(0x290)][_0x4371b1(0x3a6)]?this[_0x4371b1(0x290)][_0x4371b1(0x52e)][_0x4371b1(0x490)]>0x0?_0x4371b1(0x4ab)+(this[_0x4371b1(0x290)][_0x4371b1(0x48e)]*0.3+0.5)['toFixed'](0x1)+_0x4371b1(0x4d0)+this[_0x4371b1(0x290)][_0x4371b1(0x52e)][_0x4371b1(0x352)](this[_0x4371b1(0x57b)])[_0x4371b1(0x29e)](',\x20'):_0x4371b1(0x255):'<p>流光溢彩的锦囊，开启后每秒有一定概率驱散敌人的减益效果，成功概率与等级有关。</p>';this['divineWeaponUI']['innerHTML']=_0x4371b1(0x41c)+(this[_0x4371b1(0x478)]['active']?_0x4371b1(0x51a):_0x4371b1(0x328))+'\x22\x20alt=\x22遗失的洛书\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>'+_0xd75ba4+_0x4371b1(0x3d3)+_0x3b4045+_0x4371b1(0x2e6)+(this[_0x4371b1(0x269)][_0x4371b1(0x3a6)]?_0x4371b1(0x2ec):_0x4371b1(0x328))+_0x4371b1(0x518)+_0x1d68f8+_0x4371b1(0x3d3)+_0x401bb8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2010px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+(this[_0x4371b1(0x290)]['active']?_0x4371b1(0x46e):'https://pic.imgdb.cn/item/665aecc0d9c307b7e90a239e.png')+'\x22\x20alt=\x22定空的灵石\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>'+_0x1fb9cd+_0x4371b1(0x3d3)+_0x1e7558+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:\x20right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.closeDivineWeaponUI()\x22\x20style=\x22background:\x20transparent;\x20border:\x20none;\x20color:\x20white;\x20font-size:\x2020px;\x20cursor:\x20pointer;\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4371b1(0x25f)][_0x4371b1(0x455)](this[_0x4371b1(0x5ba)]);}[_0x5bf82f(0x587)](){const _0x3e19d0=_0x5bf82f;this[_0x3e19d0(0x5ba)]&&(this['divineWeaponUI']['remove'](),this[_0x3e19d0(0x5ba)]=null);}[_0x5bf82f(0x38a)](_0x17a3fb){const _0x1c54e6=_0x5bf82f;if(this[_0x17a3fb][_0x1c54e6(0x3a6)]){showInfoBox('你已经开启此神器了，无法重复开启！');return;}const _0x168280=_0x17a3fb===_0x1c54e6(0x478)?_0x1c54e6(0x478):_0x17a3fb===_0x1c54e6(0x269)?'fragmentedMap':_0x1c54e6(0x290);if(useItem(_0x168280)){this[_0x17a3fb][_0x1c54e6(0x3a6)]=!![],this[_0x17a3fb]['effects']=[this['getRandomEffect'](_0x17a3fb)],showInfoBox((_0x17a3fb===_0x1c54e6(0x478)?'遗失的洛书':_0x17a3fb==='fragmentedMap'?_0x1c54e6(0x4c0):_0x1c54e6(0x3ec))+_0x1c54e6(0x2dd)),this[_0x1c54e6(0x4b3)]();return;}if(currentExp<0x30d40){showInfoBox(_0x1c54e6(0x29c));return;}currentExp-=0x30d40,updateExpBar(currentExp,maxExp),this[_0x17a3fb][_0x1c54e6(0x3a6)]=!![],this[_0x17a3fb]['effects']=[this[_0x1c54e6(0x5fd)](_0x17a3fb)],showInfoBox((_0x17a3fb==='lostBook'?_0x1c54e6(0x512):_0x17a3fb===_0x1c54e6(0x269)?_0x1c54e6(0x4c0):_0x1c54e6(0x3ec))+'已成功开启！'),this['openDivineWeaponUI']();}[_0x5bf82f(0x1fa)](_0x2f227d){const _0x20448d=_0x5bf82f,_0x1feaac=_0x2f227d===_0x20448d(0x478)?_0x20448d(0x478):_0x2f227d==='fragmentedMap'?_0x20448d(0x269):_0x20448d(0x290);showInfoBox(weaponDescriptions[_0x1feaac]),this[_0x20448d(0x4b3)]();}['refreshDivineWeapon'](_0x2f38f1){const _0x4692f1=_0x5bf82f;if(!this[_0x2f38f1][_0x4692f1(0x3a6)]){showInfoBox(_0x4692f1(0x2a0));return;}const _0xb84155=_0x2f38f1===_0x4692f1(0x478)?_0x4692f1(0x478):_0x2f38f1===_0x4692f1(0x269)?'fragmentedMap':_0x4692f1(0x290);if(useItem(_0xb84155)){const _0x247b79=Math[_0x4692f1(0x435)]();if(_0x2f38f1===_0x4692f1(0x290)){if(_0x247b79<0.05)this[_0x2f38f1]['effects']=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1)];else{if(_0x247b79<0.15)this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)];else{if(_0x247b79<0.3)this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)];else _0x247b79<0.6?this[_0x2f38f1]['effects']=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)]:this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1)];}}}else{if(_0x247b79<0.05)this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)];else _0x247b79<0.2?this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1)]:this[_0x2f38f1][_0x4692f1(0x52e)]=[this['getRandomEffect'](_0x2f38f1)];}this[_0x4692f1(0x4b3)]();return;}if(currentExp<0x186a0){showInfoBox(_0x4692f1(0x5a4));return;}currentExp-=0x186a0,updateExpBar(currentExp,maxExp);const _0x46549e=Math['random']();if(_0x2f38f1===_0x4692f1(0x290)){if(_0x46549e<0.05)this[_0x2f38f1][_0x4692f1(0x52e)]=[this['getRandomEffect'](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)];else{if(_0x46549e<0.15)this[_0x2f38f1][_0x4692f1(0x52e)]=[this['getRandomEffect'](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1),this['getRandomEffect'](_0x2f38f1)];else{if(_0x46549e<0.3)this[_0x2f38f1]['effects']=[this['getRandomEffect'](_0x2f38f1),this['getRandomEffect'](_0x2f38f1),this['getRandomEffect'](_0x2f38f1)];else _0x46549e<0.6?this[_0x2f38f1]['effects']=[this['getRandomEffect'](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)]:this[_0x2f38f1]['effects']=[this[_0x4692f1(0x5fd)](_0x2f38f1)];}}}else{if(_0x46549e<0.05)this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1),this[_0x4692f1(0x5fd)](_0x2f38f1)];else _0x46549e<0.2?this[_0x2f38f1]['effects']=[this[_0x4692f1(0x5fd)](_0x2f38f1),this['getRandomEffect'](_0x2f38f1)]:this[_0x2f38f1][_0x4692f1(0x52e)]=[this[_0x4692f1(0x5fd)](_0x2f38f1)];}showInfoBox((_0x2f38f1===_0x4692f1(0x478)?_0x4692f1(0x512):_0x2f38f1===_0x4692f1(0x269)?_0x4692f1(0x4c0):_0x4692f1(0x3ec))+'已通过经验刷新。'),this['openDivineWeaponUI']();}[_0x5bf82f(0x5fe)](_0x46ed87){const _0x253daa=_0x5bf82f;if(!this[_0x46ed87][_0x253daa(0x3a6)]){showInfoBox(_0x253daa(0x55b));return;}if(this[_0x46ed87][_0x253daa(0x48e)]>=0xa5){showInfoBox(_0x253daa(0x40d));return;}const _0x516158=_0x46ed87===_0x253daa(0x478)?'lostBook':_0x46ed87===_0x253daa(0x269)?_0x253daa(0x269):_0x253daa(0x290);if(this[_0x46ed87][_0x253daa(0x48e)]>=0x64||useItem(_0x516158)){if(this[_0x46ed87][_0x253daa(0x48e)]>=0x64&&!useItem(_0x516158)){showInfoBox(_0x253daa(0x3c4));return;}this[_0x46ed87][_0x253daa(0x48e)]+=0x1,this['openDivineWeaponUI']();return;}if(currentExp<0xbb8){showInfoBox('经验不足3000或缺少对应「钥匙」，无法升级神器。');return;}currentExp-=0xbb8,updateExpBar(currentExp,maxExp),this[_0x46ed87][_0x253daa(0x48e)]+=0x1,this['openDivineWeaponUI']();}[_0x5bf82f(0x5f6)](_0x3e6fbc){const _0x39d04d=_0x5bf82f;while(this[_0x3e6fbc]['level']<0xa5){const _0x1e9656=this[_0x3e6fbc][_0x39d04d(0x48e)];this['upgradeDivineWeapon'](_0x3e6fbc);if(this[_0x3e6fbc]['level']===_0x1e9656)break;}}[_0x5bf82f(0x5fd)](_0x4809bf){const _0xc97d0=_0x5bf82f;if(_0x4809bf===_0xc97d0(0x478)){const _0x177a87=['破甲','眩晕','恐吓','麻痹','穿透','惶恐'];return _0x177a87[Math['floor'](Math[_0xc97d0(0x435)]()*_0x177a87[_0xc97d0(0x490)])];}else{if(_0x4809bf===_0xc97d0(0x269)){const _0x4769f1=['沉默','迟缓','混乱','法力燃烧','灼烧',_0xc97d0(0x586)];return _0x4769f1[Math[_0xc97d0(0x5c6)](Math['random']()*_0x4769f1[_0xc97d0(0x490)])];}else{if(_0x4809bf===_0xc97d0(0x290)){const _0x5648fa=[_0xc97d0(0x28c),_0xc97d0(0x4f0),'soulCapture',_0xc97d0(0x542),'spellSlow',_0xc97d0(0x2f4),'suppressed',_0xc97d0(0x22e),_0xc97d0(0x37a),_0xc97d0(0x26d)];return _0x5648fa[Math['floor'](Math[_0xc97d0(0x435)]()*_0x5648fa['length'])];}}}}[_0x5bf82f(0x57b)](_0xc82564){const _0x300cef=_0x5bf82f,_0x38bdf1={'破甲':'破甲','眩晕':'眩晕','恐吓':'恐吓','麻痹':'麻痹','穿透':'穿透','惶恐':'惶恐','沉默':'沉默','迟缓':'迟缓','混乱':'混乱','法力燃烧':_0x300cef(0x541),'法力吸取':_0x300cef(0x586),'灼烧':'灼烧','drunken':'醉酒','healingBan':'禁疗','soulCapture':'摄魂','blindfold':'失明','spellSlow':_0x300cef(0x4fa),'torn':'撕裂','suppressed':'压制','taunt':'嘲讽','seal':'封印','slaughter':'杀戮'};return _0x38bdf1[_0xc82564]||_0xc82564;}['applyNirvanaGemEffects'](){const _0x67ea48=_0x5bf82f;if(!this[_0x67ea48(0x290)][_0x67ea48(0x3a6)])return;const _0x58695f=Math[_0x67ea48(0x23d)](0x1,0.005+(this[_0x67ea48(0x290)][_0x67ea48(0x48e)]-0x1)*0.003);if(Math[_0x67ea48(0x435)]()>_0x58695f)return;const _0x367980=[_0x67ea48(0x28c),_0x67ea48(0x4f0),_0x67ea48(0x5c0),_0x67ea48(0x542),_0x67ea48(0x2d4),_0x67ea48(0x2f4),_0x67ea48(0x43a),_0x67ea48(0x22e),_0x67ea48(0x37a),_0x67ea48(0x26d)],_0x1f8d7f=_0x367980['filter'](_0xe905e7=>battleState[_0x67ea48(0x3d8)][_0xe905e7]),_0x487afd=this[_0x67ea48(0x290)][_0x67ea48(0x52e)][_0x67ea48(0x2f9)](_0x2e34aa=>_0x367980[_0x67ea48(0x3d1)](_0x2e34aa)),_0x21be7d=_0x1f8d7f['filter'](_0x1d9b0d=>_0x487afd[_0x67ea48(0x3d1)](_0x1d9b0d));if(_0x21be7d[_0x67ea48(0x490)]>0x0){const _0x3cf760=_0x21be7d[Math[_0x67ea48(0x5c6)](Math[_0x67ea48(0x435)]()*_0x21be7d[_0x67ea48(0x490)])];battleState[_0x67ea48(0x3d8)][_0x3cf760]=![];switch(_0x3cf760){case _0x67ea48(0x28c):break;case _0x67ea48(0x4f0):break;case _0x67ea48(0x2d4):break;case _0x67ea48(0x5c0):battleAttributes[_0x67ea48(0x424)]=battleState[_0x67ea48(0x3d8)][_0x67ea48(0x424)],battleAttributes[_0x67ea48(0x40f)]=battleState[_0x67ea48(0x3d8)][_0x67ea48(0x40f)],updateUI(),updatePlayerStatusDisplay();break;case _0x67ea48(0x2f4):clearInterval(battleState['player'][_0x67ea48(0x501)]),effectCooldowns[_0x67ea48(0x2f4)]=![];break;case _0x67ea48(0x43a):cleanSuppressed();break;case'taunt':clearTaunt();break;case _0x67ea48(0x26d):cleanSlaughter();break;case'blindFold':break;case _0x67ea48(0x37a):ascensionSkill[_0x67ea48(0x3eb)]=battleState['player'][_0x67ea48(0x58b)],secondAscensionSkill[_0x67ea48(0x3eb)]=battleState[_0x67ea48(0x3d8)][_0x67ea48(0x463)],updateAscensionDisplay(),updateSecondAscensionDisplay(),effectCooldowns[_0x67ea48(0x37a)]=![],updateUI();break;}logBattleEvent('定空的灵石解除了你的'+this['getEffectChineseName'](_0x3cf760)+'状态。',_0x67ea48(0x4fb)),showBattleOverlay(_0x67ea48(0x59c),0x3e8,0x1,0x3e8),updatePlayerStatusDisplay(),updateUI();}}}function cleanSlaughter(){const _0x2226e6=_0x5bf82f;battleState['player']['slaughter']=![],effectCooldowns[_0x2226e6(0x26d)]=![],enemyPhysicalAttackCount=0x0,updatePlayerStatusDisplay(),console[_0x2226e6(0x528)](_0x2226e6(0x3f3));}function cleanSuppressed(){const _0x27fadf=_0x5bf82f;if(battleState[_0x27fadf(0x3d8)][_0x27fadf(0x43a)]){clearTimeout(suppressionState['timeoutId']);const _0x5af9d9=performPhysicalAttack,_0x3c9a38=performMagicalAttack,_0x312d29=performHeal,_0x45552a=performPoison,_0x499053=performDefense;battleState[_0x27fadf(0x3d8)]['suppressed']=![],effectCooldowns[_0x27fadf(0x43a)]=![],(!suppressionState['actionPerformed']||battleState[_0x27fadf(0x3d8)][_0x27fadf(0x43a)])&&(battleAttributes['health']=0x1,battleAttributes[_0x27fadf(0x299)]=0x1,battleAttributes[_0x27fadf(0x424)]=0x1,battleAttributes[_0x27fadf(0x40f)]=0x1,logBattleEvent(_0x27fadf(0x4fc),_0x27fadf(0x4dc)),showBattleOverlay(_0x27fadf(0x4b9),0x5dc,0.8)),performPhysicalAttack=_0x5af9d9,performMagicalAttack=_0x3c9a38,performHeal=_0x312d29,performPoison=_0x45552a,performDefense=_0x499053,updatePlayerStatusDisplay();}updateUI();}function clearTaunt(){const _0x35f394=_0x5bf82f;battleState[_0x35f394(0x3d8)]['taunt']=![],effectCooldowns['taunt']=![],clearTimeout(tauntTimeout),updatePlayerStatusDisplay(),updateUI();}function clearEnemyEffect(){const _0x4cf503=_0x5bf82f,_0x2533a2=[_0x4cf503(0x28c),_0x4cf503(0x4f0),_0x4cf503(0x5c0),_0x4cf503(0x542),_0x4cf503(0x2d4),'torn',_0x4cf503(0x43a),'taunt',_0x4cf503(0x37a),_0x4cf503(0x26d),_0x4cf503(0x4d5),_0x4cf503(0x342)];_0x2533a2[_0x4cf503(0x35e)](_0x503a69=>{const _0x4c162a=_0x4cf503;if(battleState[_0x4c162a(0x3d8)][_0x503a69]){switch(_0x503a69){case _0x4c162a(0x28c):break;case _0x4c162a(0x4f0):break;case _0x4c162a(0x5c0):battleAttributes[_0x4c162a(0x424)]=battleState[_0x4c162a(0x3d8)][_0x4c162a(0x424)],battleAttributes[_0x4c162a(0x40f)]=battleState[_0x4c162a(0x3d8)]['magicAttack'],updateUI(),updatePlayerStatusDisplay();break;case _0x4c162a(0x2f4):clearInterval(battleState[_0x4c162a(0x3d8)][_0x4c162a(0x501)]);break;case _0x4c162a(0x43a):cleanSuppressed();break;case'taunt':clearTaunt();break;case _0x4c162a(0x26d):cleanSlaughter();break;case'seal':ascensionSkill['name']=battleState[_0x4c162a(0x3d8)][_0x4c162a(0x58b)],secondAscensionSkill[_0x4c162a(0x3eb)]=battleState[_0x4c162a(0x3d8)][_0x4c162a(0x463)],updateAscensionDisplay(),updateSecondAscensionDisplay(),updateUI();break;case _0x4c162a(0x4d5):break;case _0x4c162a(0x342):handleCleanHeat();break;}battleState['player'][_0x503a69]=![],effectCooldowns[_0x503a69]=![];}}),updatePlayerStatusDisplay();}function clearPlayerEffect(){const _0x5477aa=_0x5bf82f,_0xbc3978=[{'name':_0x5477aa(0x564),'timer':battleState[_0x5477aa(0x404)]['armorBreakTimer']},{'name':_0x5477aa(0x419),'timer':battleState['enemy'][_0x5477aa(0x34b)]},{'name':_0x5477aa(0x5b3),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x3ad)]},{'name':_0x5477aa(0x5b2),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x2b3)]},{'name':_0x5477aa(0x332),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x5ac)]},{'name':_0x5477aa(0x589),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x483)]},{'name':'benumbed','timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x228)]},{'name':_0x5477aa(0x208),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x22c)]},{'name':_0x5477aa(0x3fd),'timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x5c7)]},{'name':'slow','timer':battleState[_0x5477aa(0x404)][_0x5477aa(0x1f1)]},{'name':'terrified','timer':battleState['enemy']['terrifiedTimer']}];_0xbc3978['forEach'](_0x4f3e65=>{const _0x1d7936=_0x5477aa;battleState[_0x1d7936(0x404)][_0x4f3e65['name']]=![],_0x4f3e65['timer']&&(clearTimeout(_0x4f3e65[_0x1d7936(0x382)]),_0x4f3e65[_0x1d7936(0x382)]=null);}),updateEnemyStatusDisplay();}const divineWeaponManager=new DivineWeaponManager();
