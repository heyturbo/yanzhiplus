const _0x48f708=_0x57f3;(function(_0x5f5688,_0x4c449b){const _0x401d8b=_0x57f3,_0x26940a=_0x5f5688();while(!![]){try{const _0x1a066d=parseInt(_0x401d8b(0x1d4))/0x1+-parseInt(_0x401d8b(0x27e))/0x2*(-parseInt(_0x401d8b(0x18e))/0x3)+-parseInt(_0x401d8b(0x43a))/0x4+parseInt(_0x401d8b(0x1b6))/0x5*(parseInt(_0x401d8b(0x2fb))/0x6)+parseInt(_0x401d8b(0x123))/0x7+-parseInt(_0x401d8b(0x2a5))/0x8*(-parseInt(_0x401d8b(0x118))/0x9)+-parseInt(_0x401d8b(0x3a6))/0xa*(parseInt(_0x401d8b(0x1c2))/0xb);if(_0x1a066d===_0x4c449b)break;else _0x26940a['push'](_0x26940a['shift']());}catch(_0x5176f8){_0x26940a['push'](_0x26940a['shift']());}}}(_0xd0fe,0x5e517));let selectedDrug=null,alreadyUseDrug=![],drugInventory={'长生泉':{'quantity':0x2,'url':_0x48f708(0x3f2),'tier':0x0,'description':_0x48f708(0x422)},'忘忧水':{'quantity':0x5,'url':'https://pic.imgdb.cn/item/666c0afbd9c307b7e9beef9c.png','tier':0x3,'description':_0x48f708(0xc4)},'三花丸':{'quantity':0x5,'url':_0x48f708(0x1c7),'tier':0x3,'description':_0x48f708(0x370)},'狂暴之魂':{'quantity':0x0,'url':_0x48f708(0x443),'tier':0x0,'description':_0x48f708(0x446)},'神力仙丹':{'quantity':0x0,'url':_0x48f708(0x441),'tier':0x2,'description':'蓝色品阶，20秒内暴击伤害提高50%'},'慧心糖果':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666c1408d9c307b7e9cea328.png','tier':0x0,'description':_0x48f708(0x11c)},'狂暴印记':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666c1408d9c307b7e9cea34b.png','tier':0x2,'description':_0x48f708(0x3ee)},'武尊秘露':{'quantity':0x1,'url':_0x48f708(0x260),'tier':0x1,'description':_0x48f708(0x1d1)},'延寿露':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666d311dd9c307b7e996b5b7.png','tier':0x3,'description':'绿色品阶，恢复玩家20%的生命值'},'天山雪莲':{'quantity':0x0,'url':_0x48f708(0x226),'tier':0x3,'description':'绿色品阶，恢复玩家20%的法力值'},'化功散':{'quantity':0x0,'url':'https://pic.imgdb.cn/item/666d311dd9c307b7e996b585.png','tier':0x2,'description':_0x48f708(0x33f)},'见手青':{'quantity':0x0,'url':_0x48f708(0x3c9),'tier':0x0,'description':_0x48f708(0x45d)},'沉檀凝香':{'quantity':0x5,'url':_0x48f708(0x407),'tier':0x1,'description':_0x48f708(0x11f)},'焚灵之丸':{'quantity':0x0,'url':_0x48f708(0x254),'tier':0x1,'description':_0x48f708(0x167)},'冰莲絮':{'quantity':0x2,'url':_0x48f708(0x468),'tier':0x2,'description':_0x48f708(0x1b4)},'晗灵果':{'quantity':0x2,'url':_0x48f708(0x343),'tier':0x2,'description':'蓝色品阶，临时增加300点法力值（刷新游戏后失效）'},'魔术棱柱':{'quantity':0x0,'url':_0x48f708(0x27c),'tier':0x1,'description':_0x48f708(0x14a)},'幸运金币':{'quantity':0x0,'url':_0x48f708(0x30d),'tier':0x0,'description':'橙色品阶，使用后将随机触发事件：让怪物血量变为1/获得50000经验/回退10轮'},'双倍经验药':{'quantity':0x1,'url':_0x48f708(0x10b),'tier':0x2,'description':'蓝色品阶，使用后60秒内战斗获胜所得经验增加两倍'},'四倍经验药':{'quantity':0x1,'url':_0x48f708(0x371),'tier':0x1,'description':_0x48f708(0x1a8)},'普通药材':{'quantity':0x0,'url':_0x48f708(0x182),'tier':0x4,'description':'白色品阶，恢复1000点生命值和法力值，收集3个可以合成1个绿色品阶的药品'},'上等药材':{'quantity':0x0,'url':_0x48f708(0x4ae),'tier':0x3,'description':_0x48f708(0x1ac)},'极品药材':{'quantity':0x0,'url':_0x48f708(0x3f5),'tier':0x2,'description':_0x48f708(0x12e)},'珍贵药材':{'quantity':0x0,'url':_0x48f708(0x269),'tier':0x1,'description':_0x48f708(0x205)},'完美药材':{'quantity':0x0,'url':_0x48f708(0x448),'tier':0x0,'description':_0x48f708(0x360)}},collectCost=0x64,activeBuffs={},tempBonus={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},drugBonus0={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},drugBonus={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0},ascensionSkill={'name':_0x48f708(0x3f0),'level':0x1,'effect':_0x48f708(0x413)},secondAscensionSkill={'name':_0x48f708(0x3f0),'level':0x1,'effect':_0x48f708(0x413)},ascensionAttributes={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};const ascensionSkills={'attribute':[{'name':'力劈华山','effect':_0x189f54=>'额外提供'+(0xbb8+_0x189f54*0x15e)+_0x48f708(0x296),'baseValue':0xbb8,'increment':_0x44f199=>_0x44f199*0x15e},{'name':_0x48f708(0x22b),'effect':_0x5872e7=>_0x48f708(0x3e8)+(0x186a0+_0x5872e7*0x1f40)+_0x48f708(0x42a)+(0x186a0+_0x5872e7*0x1f40)+_0x48f708(0x104),'baseValue':0x186a0,'increment':_0x2f0ae1=>0x1f40*_0x2f0ae1},{'name':_0x48f708(0x2ff),'effect':_0x25c593=>_0x48f708(0x3e8)+(0xbb8+0x12c*_0x25c593)+_0x48f708(0x261)+(0xbb8+0x12c*_0x25c593)+_0x48f708(0x17a),'baseValue':0xbb8,'increment':_0x2b131c=>0x12c*_0x2b131c},{'name':_0x48f708(0x26e),'effect':_0x78db65=>_0x48f708(0x3e8)+(0x186a0+0x1388*_0x78db65)+_0x48f708(0x2dd)+(0x186a0+0x1388*_0x78db65)+_0x48f708(0x218),'baseValue':0x186a0,'increment':_0x304dd6=>0x1388*_0x304dd6},{'name':_0x48f708(0x3f0),'effect':_0x3702e1=>'未开启飞升技能','baseValue':0x0,'increment':_0x28394f=>_0x28394f*0x0},{'name':'被封印的技能','effect':_0x282ebe=>_0x48f708(0x413),'baseValue':0x0,'increment':_0x39b74d=>_0x39b74d*0x0}],'combat':[{'name':_0x48f708(0x25e),'effect':_0x535cb2=>_0x48f708(0xf6)+(0xa+0x1*_0x535cb2)+'%的生命值','baseValue':0xa,'increment':_0x43d8ee=>0x1*_0x43d8ee},{'name':_0x48f708(0x30e),'effect':_0x6a8ac4=>'当妖怪生命值在'+(0x57-0x3*(_0x6a8ac4-0x1))+'%以上时，对妖怪的物理攻击伤害增加40%','baseValue':0x5a,'increment':_0x5714aa=>0x5a-0x3*(_0x5714aa-0x1)},{'name':_0x48f708(0x3ec),'effect':_0x541207=>_0x48f708(0x3ba)+(0xa+1.5*_0x541207)+_0x48f708(0x2c7),'baseValue':0xa,'increment':_0x2990f3=>0xa+1.5*_0x2990f3},{'name':'吸血魔刃','effect':_0x216c25=>_0x48f708(0x2c5)+(0xb+0x1*(_0x216c25-0x1))+_0x48f708(0x2ce),'baseValue':0xb,'increment':_0xdea809=>0xb+0x1*(_0xdea809-0x1)},{'name':_0x48f708(0x109),'effect':_0x25c09f=>_0x48f708(0x22c)+(0x15+0x1*(_0x25c09f-0x1))+_0x48f708(0x47e),'baseValue':0x14,'increment':_0x32e805=>0x14+0x1*(_0x32e805-0x1)},{'name':'向死而生','effect':_0x32475a=>_0x48f708(0xd3)+(0x64-0x1*_0x32475a)+_0x48f708(0x1f5),'baseValue':0x64,'increment':_0x2b9e59=>-0x2*_0x2b9e59},{'name':_0x48f708(0xc8),'effect':_0x1254e3=>_0x48f708(0x268)+(0x2d+0x2*_0x1254e3)+'%~'+(0x3c+0x2*_0x1254e3)+'%','baseValue':0x2d,'increment':_0x11261e=>0x2*_0x11261e},{'name':_0x48f708(0x2f0),'effect':_0x4900b6=>_0x48f708(0x203)+(0x14+1.5*_0x4900b6)+'%','baseValue':0x14,'increment':_0x587914=>1.5*_0x587914},{'name':_0x48f708(0x13d),'effect':_0x2d963f=>_0x48f708(0x14e)+(0x1e+0x2*_0x2d963f)+_0x48f708(0x363),'baseValue':0x1e,'increment':_0x4417c2=>0x2*_0x4417c2},{'name':_0x48f708(0x47b),'effect':_0xb09f48=>_0x48f708(0xe0)+(0x6+0.1*_0xb09f48)+'秒','baseValue':0x6,'increment':_0x144c0f=>0.1*_0x144c0f}],'settlement':[{'name':'财源滚滚','effect':_0x2364b6=>_0x48f708(0x192)+convertPrice(0x2710+0x9c4*_0x2364b6)+'文','baseValue':0x2710,'increment':_0x5011a3=>0x9c4*_0x5011a3},{'name':_0x48f708(0x4b4),'effect':_0x44ff3f=>_0x48f708(0x40f)+(0x3+0x1*_0x44ff3f)+_0x48f708(0x25c),'baseValue':0x3,'increment':_0x41dc49=>0x1*_0x41dc49},{'name':_0x48f708(0x4ad),'effect':_0xdfd1ae=>_0x48f708(0x42c)+(0x12c+0x32*_0xdfd1ae)+'%','baseValue':0x12c,'increment':_0x59c032=>0x32*_0x59c032},{'name':_0x48f708(0x2f6),'effect':_0x232530=>'战斗失败时不扣除金子，并获得'+convertPrice(0x1f4+0x1f4*_0x232530)+_0x48f708(0x285),'baseValue':0x1f4,'increment':_0x1bfe5c=>0x1f4*_0x1bfe5c}]};let reenableAscension=![],ascensionEnabled=![],spiritLevel=0x1,spiritMultiplier=0x1;const maxSpiritLevel=0x78,minSpiritMultiplier=0.01,maxSpiritMultiplier=4.15;let playerTurn=![];const obj={get 'enemyTurn'(){return!playerTurn;}};let spiritPowerActive=![],attributesFetched=![],battleState,battleInterval,battleAttributes,maxHealth,maxMana,battleRounds=0x1,currentExp=0x0,maxExp=0xd0,enemyHealCount=0x0,enemyPetCultivation,playerCultivation,additionalPlayerCultivation=0x0,enemyPet={'health':0x12,'mana':0xd,'physicalAttack':0x2,'physicalDefense':0x1,'magicAttack':0x2,'magicDefense':0x3,'speed':0x6,'cultivation':0x0},enemyMaxHealth=enemyPet[_0x48f708(0x2bc)],enemyMaxMana=enemyPet['mana'],enemyInitialState=null,originalPerformAttack=performAttack,originalPerformPhysicalAttack=performPhysicalAttack,originalPerformMagicalAttack=performMagicalAttack,originalPerformHeal=performHeal,originalPerformPoison=performPoison,originalPerformDefense=performDefense,autoBattleInterval=null,playerCritRate=0.1,playerCritDamage=1.5,enemyCritRate=0.6,enemyCritDamage=1.8,pierceDamageContainer={'totalPierceDamage':0x0},poisonSkillActivated=![],enemyPhysicalAttackCount=0x0,extraShield=0x0,wiseDefense=0x0,wiseDefenseManaCost,firstStartBattle=![],onBattleState,divinedWeaponStatus=![],waterAmuletTriggered=![];const weaponDescriptions={'lostBook':_0x48f708(0x424),'fragmentedMap':'残页的河图开启后，能够为你的法术技能附加专属效果，同时最多拥有3个效果。可以附加效果如下：\x0a1.迟缓：根据伤害量的比例降低敌人的当前速度\x20\x0a2.沉默：持续时间内禁止怪物施放法术技能及附加减益效果\x20\x0a3.混乱：持续时间内怪物可能会攻击自己\x20\x0a4.灼烧：造成伤害时会给敌人附加额外灼烧伤害，己方速度之于怪物越快，灼烧伤害越猛烈\x20\x0a5.法力燃烧：根据本次法术伤害减少怪物的当前法力值，敌人法力为空时，将转化为生命伤害。\x0a6.法力吸取：吸收敌人的法力为己用，吸收量与所造成法术伤害有关','nirvanaGem':_0x48f708(0x417)},effectCooldowns={'drunken':![],'healingBan':![],'soulCapture':![],'blindfold':![],'spellSlow':![],'torn':![],'suppressed':![],'taunt':![],'seal':![],'slaughter':![]};function startBattle(){const _0x209cee=_0x48f708;if(!attributesFetched){showInfoBox(_0x209cee(0x1e2));return;}onBattleState=!![],!firstStartBattle&&(logBattleEvent(_0x209cee(0x174),_0x209cee(0x3f4),'20px'),firstStartBattle=!![]),battleInterval=setInterval(()=>{const _0x56219c=_0x209cee;if(onBattleState){if(battleAttributes[_0x56219c(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState['enemy'][_0x56219c(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}if(summonEnemy){const _0x4cf392=battleState[_0x56219c(0x3f7)][_0x56219c(0xaf)],_0x58fdf9=specificAttackByEnemy[_0x4cf392];_0x58fdf9&&_0x58fdf9[_0x56219c(0x34a)]===_0x56219c(0x22a)&&_0x58fdf9[_0x56219c(0x259)]();}updateUI(),divineWeaponManager['applyNirvanaGemEffects'](),handleSpiritHeal(),handleSpiritPower(),handleSpiritAttack();}else console[_0x56219c(0x460)]('尚未开始战斗');},0x3e8),playerTurn=battleAttributes['speed']>=battleState[_0x209cee(0x3f7)][_0x209cee(0x16e)],updateUI(),updatePetColor(),updatePetName(),decideEnemyCanPerform(),!playerTurn&&setTimeout(enemyAttack,0x1f4);}function stopBattle(){onBattleState=![],stopEnemyAction(),clearInterval(battleInterval),summonEnemy&&handleBattleWithSummonEnemy(![]),logBattleEvent('战斗停止。');}let defeatedPets=[],usedPets=[];function decreaseElixirVigor(_0x28473e=!![]){const _0x4760b9=_0x48f708,_0x3818cd=elixirStates[_0x4760b9(0x32a)](_0x5506a5=>_0x5506a5[_0x4760b9(0x44d)]&&_0x5506a5[_0x4760b9(0x3e0)]&&_0x5506a5[_0x4760b9(0x40e)]===currentPet['name']&&_0x5506a5[_0x4760b9(0xde)]>0x0);if(_0x3818cd[_0x4760b9(0xd4)]===0x0)return;_0x3818cd[_0x4760b9(0x1ee)](_0x84f2c6=>{const _0x5a591f=_0x4760b9;let _0x17bfd2;_0x28473e?_0x17bfd2=Math[_0x5a591f(0x122)](0x14+Math['random']()*0xb):_0x17bfd2=Math['floor'](0x32+Math[_0x5a591f(0x140)]()*0x1f),_0x84f2c6['vigor']=Math[_0x5a591f(0x309)](0x0,_0x84f2c6[_0x5a591f(0xde)]-_0x17bfd2),_0x84f2c6[_0x5a591f(0xde)]===0x0&&(updateElixirDisplay(),updateQualityDisplayWithBonuses(),updateAttributePanel());});}let elixirExpDoubleState=![];function showNextBattlePrompt(_0x5a3e8e){const _0x22784e=_0x48f708;if(_0x5a3e8e){const _0x533ff1=Math[_0x22784e(0x122)](0x0+Math[_0x22784e(0x140)]()*0x2),_0x2b5798=elixirExpDoubleState?Math[_0x22784e(0x122)](0x508*Math[_0x22784e(0x309)](0x1,Math[_0x22784e(0x140)]()*battleRounds))*0x2:Math[_0x22784e(0x122)](0x508*Math['max'](0x1,Math['random']()*battleRounds));decreaseArmsEndurance(key=null,_0x533ff1),decreaseElixirVigor(!![]),increaseEachElixirExp(_0x2b5798),currentLifeSpan=Math[_0x22784e(0x309)](0x0,currentLifeSpan-_0x533ff1);if(!summonEnemy){handleVictory();return;}else{toggleFightingDrawer(),handleBattleWithSummonEnemy(_0x5a3e8e),summonEnemy=![];return;}}else{const _0x300ede=Math[_0x22784e(0x122)](0x5+Math[_0x22784e(0x140)]()*0x5);decreaseArmsEndurance(key=null,_0x300ede),decreaseElixirVigor(![]),currentLifeSpan=Math[_0x22784e(0x309)](0x0,currentLifeSpan-_0x300ede);if(!summonEnemy){handlePetDefeat();return;}else{toggleFightingDrawer(),handleBattleWithSummonEnemy(![]),summonEnemy=![];return;}}}function checkElixirVigorStatus(){const _0x3b9810=_0x48f708,_0xb72c2e=elixirStates[_0x3b9810(0x32a)](_0x4691c3=>_0x4691c3['applied']&&_0x4691c3[_0x3b9810(0x3e0)]&&_0x4691c3['equippedPet']===currentPet[_0x3b9810(0x2af)]&&_0x4691c3[_0x3b9810(0xde)]===0x0);if(_0xb72c2e[_0x3b9810(0xd4)]>0x0){const _0x324797=_0xb72c2e[_0x3b9810(0xd4)]===0x1?_0x3b9810(0x365):'有'+_0xb72c2e[_0x3b9810(0xd4)]+_0x3b9810(0x127);showInfoBox(_0x324797);}}function handleVictory(){const _0x35914f=_0x48f708,_0x27c7af=0.35,_0x3dae59=1.75,_0x4878d8=Math[_0x35914f(0x140)]()*(_0x3dae59-_0x27c7af)+_0x27c7af;let _0x3cd95b=Math[_0x35914f(0x122)](0x120*battleRounds*_0x4878d8);_0x3cd95b=Math['max'](_0x3cd95b,0x120);(ascensionSkill[_0x35914f(0x2af)]==='财源滚滚'||secondAscensionSkill['name']===_0x35914f(0x121))&&(_0x3cd95b+=calculateExtraReward());if(Math[_0x35914f(0x140)]()<0.5)addItemToJinnang(_0x35914f(0x33e),0x1);goldAmount+=_0x3cd95b,updateGoldDisplay(goldAmount),updateTitle(),showBattleOverlay(_0x35914f(0x45c),0x1f4,0x1,0x3e8),increaseCurrentPetIntimacy(0x1e),increaseCurrentPetAttention(0x1),increaseCurrentPetLearningValue(0xc8),defeatedPets=[],usedPets=[],battleRounds++,updateEnemyAttributes(),gainExp(),resetBattleState(!![]),resetBuffState(!![]),extraShield=0x0,battleAttributes[_0x35914f(0x16e)]>=battleState[_0x35914f(0x3f7)][_0x35914f(0x16e)]?playerTurn=!![]:playerTurn=![];}function handlePetDefeat(){const _0x1b2da0=_0x48f708,_0x5c803d=document[_0x1b2da0(0xd7)](_0x1b2da0(0x246)),_0x111302=_0x5c803d[_0x1b2da0(0x110)],_0x59005f=Object[_0x1b2da0(0x1f8)](pets)[_0x1b2da0(0x125)](_0x84f029=>pets[_0x84f029][_0x1b2da0(0x2af)]===currentPet[_0x1b2da0(0x2af)]);defeatedPets[_0x1b2da0(0x153)]({'key':_0x59005f,'name':currentPet[_0x1b2da0(0x2af)]});if(defeatedPets[_0x1b2da0(0xd4)]===_0x5c803d[_0x1b2da0(0x38e)]['length']){applyDefeatPenalty(),logBattleEvent(_0x1b2da0(0x1fe));return;}_0x5c803d[_0x1b2da0(0x38e)][_0x1b2da0(0xd4)]>0x1?promptPetSwitch(_0x5c803d,_0x111302):(applyDefeatPenalty(),logBattleEvent(_0x1b2da0(0x489)));}let switchPetMood=!![];function promptPetSwitch(_0x131802,_0x43a37a){const _0x24404f=_0x48f708;switchPetMood?showInfoBox(currentPet[_0x24404f(0x2af)]+_0x24404f(0x28b),()=>{const _0x534b2b=_0x24404f;let _0x406442,_0x510061=Array[_0x534b2b(0x28d)](_0x131802[_0x534b2b(0x38e)])['map'](_0x4a23f5=>{const _0xb4386c=_0x534b2b,_0x5b4fbe=Object[_0xb4386c(0x1f8)](pets)[_0xb4386c(0x125)](_0x48f4e6=>pets[_0x48f4e6][_0xb4386c(0x2af)]===_0x4a23f5['value']);return{'key':_0x5b4fbe,'name':_0x4a23f5['value']};})[_0x534b2b(0x32a)](_0xdb4a10=>!usedPets[_0x534b2b(0x26c)](_0x3a14e9=>_0x3a14e9[_0x534b2b(0x3eb)]===_0xdb4a10[_0x534b2b(0x3eb)]));if(_0x510061[_0x534b2b(0xd4)]===0x0){applyDefeatPenalty(),logBattleEvent(_0x534b2b(0xcf));return;}do{const _0x2ac89a=Math[_0x534b2b(0x122)](Math[_0x534b2b(0x140)]()*_0x510061['length']);_0x406442=_0x510061[_0x2ac89a];}while(_0x406442[_0x534b2b(0x3eb)]===_0x43a37a);_0x131802['value']=_0x406442[_0x534b2b(0x2af)],usedPets[_0x534b2b(0x153)](_0x406442),changePet();},()=>{const _0x22570e=_0x24404f;switchPetMood=![],applyDefeatPenalty(),logBattleEvent(_0x22570e(0x376),'red',_0x22570e(0x129));}):(applyDefeatPenalty(),logBattleEvent(_0x24404f(0x376),_0x24404f(0x2a8),_0x24404f(0x129)));}function applyDefeatPenalty(){const _0x293b73=_0x48f708;let _0x367c31=0x184*battleRounds;ascensionSkill[_0x293b73(0x2af)]==='金牌调解'||secondAscensionSkill[_0x293b73(0x2af)]===_0x293b73(0x2f6)?(_0x367c31=0x0,goldAmount+=calculateCompensation()):goldAmount=Math['max'](0x0,goldAmount-_0x367c31),showBattleOverlay(_0x293b73(0x1ea),0x1f4,0x1,0x3e8),increaseCurrentPetIntimacy(-0x5),onBattleState=![],showInfoBox(_0x293b73(0x1fd)+convertPrice(_0x367c31)+_0x293b73(0x335),()=>{startBattle(),updatePetInfo();},()=>{const _0x2fb9aa=_0x293b73;stopBattle();const _0x4b3c51=document[_0x2fb9aa(0xd7)](_0x2fb9aa(0xa3)),_0x270012=_0x4b3c51[_0x2fb9aa(0x21f)]['toggle']('open');_0x4b3c51[_0x2fb9aa(0x338)]['display']='none';}),updateGoldDisplay(goldAmount),clearAutoBattle(),defeatedPets=[],usedPets=[],resetBattleState(![]),resetBuffState(![]),extraShield=0x0;}function calculateExtraReward(){const _0x5ae6aa=_0x48f708;let _0x140856=0x0;return ascensionSkill[_0x5ae6aa(0x2af)]===_0x5ae6aa(0x121)&&(_0x140856+=ascensionSkill[_0x5ae6aa(0x32e)]+ascensionSkill[_0x5ae6aa(0x2de)](ascensionSkill[_0x5ae6aa(0x456)])),secondAscensionSkill[_0x5ae6aa(0x2af)]==='财源滚滚'&&(_0x140856+=secondAscensionSkill[_0x5ae6aa(0x32e)]+secondAscensionSkill[_0x5ae6aa(0x2de)](secondAscensionSkill[_0x5ae6aa(0x456)])),logBattleEvent(_0x5ae6aa(0x3c3)+convertPrice(_0x140856)+_0x5ae6aa(0x349),_0x5ae6aa(0x290)),_0x140856;}function calculateCompensation(){const _0x688f69=_0x48f708;let _0x44b962=0x0;return ascensionSkill[_0x688f69(0x2af)]===_0x688f69(0x2f6)&&(_0x44b962+=ascensionSkill[_0x688f69(0x32e)]+ascensionSkill[_0x688f69(0x2de)](ascensionSkill[_0x688f69(0x456)])),secondAscensionSkill['name']==='金牌调解'&&(_0x44b962+=secondAscensionSkill[_0x688f69(0x32e)]+secondAscensionSkill['increment'](secondAscensionSkill['level'])),logBattleEvent(_0x688f69(0x386)+convertPrice(_0x44b962)+_0x688f69(0x258),_0x688f69(0x290)),_0x44b962;}function resetBuffState(_0x12d4cd){const _0x974235=_0x48f708;battleState[_0x974235(0x1bc)]['usingBuff']&&(battleState['player'][_0x974235(0x184)]=![],logBattleEvent(_0x974235(0x29a),_0x974235(0x19c)),updateUI());if(_0x12d4cd){const _0xf39e77=[],_0x280311=Math[_0x974235(0x140)]();let _0x35f714;if(_0x280311<0.1)_0x35f714=0x0;else{if(_0x280311<0.29)_0x35f714=0x1;else _0x280311<0.6?_0x35f714=0x2:_0x35f714=0x3;}const _0xe255=Object[_0x974235(0x1f8)](drugInventory)[_0x974235(0x32a)](_0x3c1541=>drugInventory[_0x3c1541][_0x974235(0x3c1)]===_0x35f714),_0x1d9948=_0xe255[Math[_0x974235(0x122)](Math['random']()*_0xe255[_0x974235(0xd4)])];drugInventory[_0x1d9948][_0x974235(0x3a4)]+=0x1,_0xf39e77[_0x974235(0x153)](_0x1d9948+_0x974235(0x2a0));if(battleRounds>=0x64)for(let _0x3ba30f=0x0;_0x3ba30f<0x2;_0x3ba30f++){const _0x5f16e4=Math[_0x974235(0x140)]();let _0x1b3b50;if(_0x5f16e4<0.1)_0x1b3b50=0x0;else{if(_0x5f16e4<0.29)_0x1b3b50=0x1;else _0x5f16e4<0.6?_0x1b3b50=0x2:_0x1b3b50=0x3;}const _0x272ec2=Object[_0x974235(0x1f8)](drugInventory)[_0x974235(0x32a)](_0x41c5f3=>drugInventory[_0x41c5f3]['tier']===_0x1b3b50),_0x43df62=_0x272ec2[Math[_0x974235(0x122)](Math[_0x974235(0x140)]()*_0x272ec2[_0x974235(0xd4)])];drugInventory[_0x43df62][_0x974235(0x3a4)]+=0x1,_0xf39e77[_0x974235(0x153)](_0x43df62+_0x974235(0x2a0));}if(spiritLevel>=0x51){let _0x5e561f=(spiritLevel-0x50)*0.05;_0x5e561f>0x1&&(_0x5e561f=0x1);if(Math['random']()<_0x5e561f){const _0x44e76b=Object[_0x974235(0x1f8)](drugInventory),_0x330918=_0x44e76b[Math[_0x974235(0x122)](Math[_0x974235(0x140)]()*_0x44e76b[_0x974235(0xd4)])];drugInventory[_0x330918][_0x974235(0x3a4)]+=0x1,_0xf39e77['push']('🧚🏻战斗精灵的赐福，你还额外获得了\x20'+_0x330918+_0x974235(0x2a0));}}if(_0xf39e77['length']>0x0){const _0xb89fbc=_0xf39e77['join']('，\x20');logBattleEvent(_0x974235(0x433)+_0xb89fbc,_0x974235(0x290));}updateDrugGrid();}}function gainExp(_0x4a09b8=0x0){const _0x3388bf=_0x48f708,_0x3cb9c3=document[_0x3388bf(0xd7)](_0x3388bf(0x40c)),_0x12d6d9=parseInt(_0x3cb9c3[_0x3388bf(0xf8)],0xa);let _0x5afd34=battleState['player'][_0x3388bf(0x463)]||0x1;if(ascensionSkill[_0x3388bf(0x2af)]===_0x3388bf(0x4ad)||secondAscensionSkill[_0x3388bf(0x2af)]===_0x3388bf(0x4ad)){let _0x5656da=0x0;ascensionSkill[_0x3388bf(0x2af)]===_0x3388bf(0x4ad)&&(_0x5656da+=(ascensionSkill[_0x3388bf(0x32e)]+ascensionSkill['increment'](ascensionSkill[_0x3388bf(0x456)]))/0x64),secondAscensionSkill[_0x3388bf(0x2af)]==='举一反三'&&(_0x5656da+=(secondAscensionSkill[_0x3388bf(0x32e)]+secondAscensionSkill[_0x3388bf(0x2de)](secondAscensionSkill[_0x3388bf(0x456)]))/0x64),_0x5afd34+=_0x5656da,logBattleEvent(_0x3388bf(0x2a7)+_0x5656da*0x64+'%。',_0x3388bf(0x290));}const _0x9bd199=_0x4a09b8>0x0?_0x4a09b8:petLevel>=0xb4?Math[_0x3388bf(0x122)](Math[_0x3388bf(0x140)]()*(0x8f0-0x508+0x1)*_0x5afd34)+0x508:Math[_0x3388bf(0x122)](0x64+Math[_0x3388bf(0x29c)](_0x12d6d9,1.1)*0.85*_0x12d6d9*_0x5afd34);let _0x2ac233=currentExp+_0x9bd199;while(_0x2ac233>=maxExp){_0x2ac233-=maxExp;if(petLevel===0xb4){maxExp=0x56bc75e2d63100000,logBattleEvent('宠物已达到最高等级，经验值上限被设为最大值。',_0x3388bf(0x290));break;}let _0x5432ac;if(petLevel<0x64&&_0x12d6d9<0x64)_0x5432ac=Math[_0x3388bf(0x122)](Math['random']()*(0x3e8-0x258+0x1))+0x258;else{if(petLevel>=0x65&&petLevel<=0xb4&&_0x12d6d9>=0x65&&_0x12d6d9<=0x8c)_0x5432ac=Math[_0x3388bf(0x122)](Math[_0x3388bf(0x140)]()*(0x708-0x4b0+0x1))+0x4b0;else petLevel>=0xb5&&petLevel<=0xc8&&_0x12d6d9>=0x8d&&_0x12d6d9<=0x96?_0x5432ac=Math[_0x3388bf(0x122)](Math['random']()*(0xe10-0x7d0+0x1))+0x7d0:_0x5432ac=Math[_0x3388bf(0x122)](Math[_0x3388bf(0x140)]()*(0xe10-0x258+0x1))+0x258;}maxExp+=_0x5432ac,petLevel<0xc8?(logBattleEvent(_0x3388bf(0x4be),'pink'),increasePetLevel(0x1)):(logBattleEvent(_0x3388bf(0x37b),_0x3388bf(0x290)),addItemToJinnang(_0x3388bf(0x3a8)),updateJinnangItems());}currentExp=_0x2ac233,updateExpBar(currentExp,maxExp);}function updateExpBar(_0x2322a0,_0x30e745){const _0x2a6cbb=_0x48f708,_0x41613b=document[_0x2a6cbb(0xd7)](_0x2a6cbb(0x297)),_0x3fa87c=document['getElementById'](_0x2a6cbb(0x414)),_0x9c3585=document[_0x2a6cbb(0xd7)](_0x2a6cbb(0x131)),_0x13c737=document[_0x2a6cbb(0xd7)](_0x2a6cbb(0x39e));if(_0x41613b&&_0x9c3585){const _0x489689=_0x2322a0/_0x30e745*0x64;_0x41613b[_0x2a6cbb(0x338)][_0x2a6cbb(0x34c)]=_0x489689+'%',_0x9c3585['textContent']=_0x2a6cbb(0x41f)+_0x2322a0+_0x2a6cbb(0x3b0)+_0x30e745;}if(_0x3fa87c&&_0x13c737){const _0x2417dc=_0x2322a0/_0x30e745*0x64;_0x3fa87c[_0x2a6cbb(0x338)][_0x2a6cbb(0x34c)]=_0x2417dc+'%',_0x13c737[_0x2a6cbb(0x324)]=_0x2a6cbb(0x41f)+_0x2322a0+_0x2a6cbb(0x3b0)+_0x30e745;}}let OneHundredOne=![],OneHundredFiftyOne=![];function resetBattleState(_0x164fd1){const _0xae6c57=_0x48f708;if(!_0x164fd1){restoreEnemyState();if(ascensionSkill['name']===_0xae6c57(0x4b4)||secondAscensionSkill['name']===_0xae6c57(0x4b4)){battleState['player'][_0xae6c57(0xe5)]=!![];const _0x2ed4ea=(ascensionSkill[_0xae6c57(0x2af)]==='焉知非福'?ascensionSkill[_0xae6c57(0x32e)]+ascensionSkill['increment'](ascensionSkill[_0xae6c57(0x456)]):0x0)+(secondAscensionSkill['name']===_0xae6c57(0x4b4)?secondAscensionSkill[_0xae6c57(0x32e)]+secondAscensionSkill[_0xae6c57(0x2de)](secondAscensionSkill[_0xae6c57(0x456)]):0x0);logBattleEvent(_0xae6c57(0x1ed)+_0x2ed4ea+_0xae6c57(0x288),_0xae6c57(0xd8)),setTimeout(()=>{const _0x2076fa=_0xae6c57;battleState[_0x2076fa(0x1bc)][_0x2076fa(0xe5)]=![],logBattleEvent(_0x2076fa(0x3e3),'aqua');},_0x2ed4ea*0x3e8);}}_0x164fd1&&battleRounds===0x65&&!OneHundredOne&&(OneHundredOne=!![],addItemToJinnang(_0xae6c57(0x34d),0x1),showInfoBox(_0xae6c57(0x410))),_0x164fd1&&battleRounds===0x97&&!OneHundredFiftyOne&&(OneHundredFiftyOne=!![],changeEnemyImage(_0xae6c57(0x214)),autoBattleInterval!==null&&clearAutoBattle,showInfoBox(_0xae6c57(0x40a))),battleState[_0xae6c57(0x3f7)][_0xae6c57(0x243)]&&(enemyMaxHealth=battleState[_0xae6c57(0x3f7)][_0xae6c57(0x373)]||enemyMaxHealth,battleState[_0xae6c57(0x3f7)]['benumbed']=![],battleState[_0xae6c57(0x3f7)]['benumbStack']=0x0,battleState[_0xae6c57(0x3f7)][_0xae6c57(0x373)]=undefined),updateUI(),storeEnemyInitialState(),clearEnemyEffect(),clearPlayerEffect(),enemyHealCount=0x0,updatePetInfo(),resetResurrectionState();}function setBackgroundImage(_0x7f4e3f){const _0x3dffe1=_0x48f708,_0x710350=document[_0x3dffe1(0x3ef)](_0x3dffe1(0x23e));_0x710350&&(_0x710350['style'][_0x3dffe1(0x350)]='url(\x27'+_0x7f4e3f+'\x27)');}function logBattleEvent(_0x172048,_0x2f92d5=_0x48f708(0x16f),_0x1c9e62=_0x48f708(0x3cf)){const _0x30e713=_0x48f708,_0x21e317=document['getElementById']('log');if(_0x21e317){const _0x2d5692=document[_0x30e713(0x476)]('p');_0x2d5692[_0x30e713(0xf8)]=_0x172048,_0x2d5692['style'][_0x30e713(0x447)]=_0x2f92d5,_0x2d5692['style']['fontSize']=_0x1c9e62,_0x21e317[_0x30e713(0x431)](_0x2d5692);const _0x56c189=_0x21e317[_0x30e713(0xa8)]('p');while(_0x56c189[_0x30e713(0xd4)]>0x64){_0x21e317[_0x30e713(0x3b9)](_0x56c189[0x0]);}_0x21e317[_0x30e713(0x481)]=_0x21e317[_0x30e713(0x25d)];}else console['error']('logDiv\x20not\x20found');}function clearBattleLog(){const _0x11b12e=_0x48f708,_0x304d3f=document[_0x11b12e(0xd7)](_0x11b12e(0x460));_0x304d3f?_0x304d3f['innerHTML']='':console[_0x11b12e(0x2b0)](_0x11b12e(0x211));}document[_0x48f708(0xd7)](_0x48f708(0x1b5))[_0x48f708(0x479)]('click',()=>clearBattleLog());function toggleFightingDrawer(){const _0x5d82c6=_0x48f708;if(!attributesFetched){showInfoBox(_0x5d82c6(0x1e2));return;}const _0x1b916e=jinnangItems[_0x5d82c6(0x125)](_0x5079a9=>_0x5079a9[_0x5d82c6(0x2af)]==='jinghuashuiyue'&&_0x5079a9[_0x5d82c6(0x3a4)]>0x0);if(currentPet[_0x5d82c6(0x2af)]===_0x5d82c6(0x2a3)&&_0x1b916e){toggleGuolinPanel();return;}if(battleState[_0x5d82c6(0x1bc)][_0x5d82c6(0x2f8)]&&!summonEnemy){performAttack(_0x5d82c6(0x406));return;}const _0x40a5ef=document[_0x5d82c6(0xd7)](_0x5d82c6(0xa3)),_0x121a7f=_0x40a5ef[_0x5d82c6(0x21f)][_0x5d82c6(0x28f)](_0x5d82c6(0x22d));_0x40a5ef[_0x5d82c6(0x21f)][_0x5d82c6(0x25a)]('show');if(_0x121a7f){_0x40a5ef[_0x5d82c6(0x338)]['display']=_0x5d82c6(0x283),startBattle();if(!summonEnemy){}else updatePetInfo();}else _0x40a5ef[_0x5d82c6(0x338)][_0x5d82c6(0x44e)]='none',stopBattle();document['getElementById'](_0x5d82c6(0x492))['innerText']=battleRounds,syncBattlePetSelect();}function calculateSkillAttributes(){const _0x28e0c4=_0x48f708,_0x158199=document['getElementById']('skills-area');let _0x3c29c0={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};maxLifeSpan=0x1388;if(_0x158199&&currentPet[_0x28e0c4(0x23d)]){const _0x2ec762=Array['from'](_0x158199[_0x28e0c4(0x34b)]);_0x2ec762[_0x28e0c4(0x1ee)](_0xa83647=>{const _0x419a21=_0x28e0c4,_0x20fbb2=_0xa83647[_0x419a21(0xf8)][_0x419a21(0x19e)]('\x20')[0x0],_0x3e619d=currentPet[_0x419a21(0x23d)][_0x419a21(0x125)](_0x5672bc=>_0x5672bc[_0x419a21(0x2af)]===_0x20fbb2&&(_0x5672bc[_0x419a21(0x34a)]==='N'||_0x5672bc[_0x419a21(0x34a)]==='NE'));if(_0x3e619d){const _0x47ec42=_0x3e619d[_0x419a21(0x456)]||0x1,_0x381149=Math[_0x419a21(0x309)](0x1,_0x3e619d[_0x419a21(0x14f)]),_0x2d499f=0.1*_0x47ec42*_0x381149;if(_0x3e619d[_0x419a21(0x34a)]==='N'&&_0x3e619d['name']==='长寿'){const _0x3e0ab6=Math[_0x419a21(0xe6)](0xa8*_0x2d499f*_0x47ec42);maxLifeSpan+=_0x3e0ab6;}const _0x5a6e84={'天神祝福':{'health':0x7d0,'speed':0xc8,'maxLevel':0x6},'天王护卫':{'physicalDefense':0x1f4,'magicDefense':0x1f4,'maxLevel':0x6},'姐就是女王':{'health':0x2710,'maxLevel':0x6},'生生不息':{'lifeSpanBonus':0x2710,'maxLevel':0x6}};if(_0x3e619d['type']==='N')_0x3c29c0[_0x419a21(0x2bc)]+=Math[_0x419a21(0xe6)](0xa8*_0x2d499f),_0x3c29c0[_0x419a21(0x15c)]+=Math[_0x419a21(0xe6)](0x62*_0x2d499f),_0x3c29c0[_0x419a21(0x18c)]+=Math[_0x419a21(0xe6)](0x40*_0x2d499f),_0x3c29c0[_0x419a21(0x2bb)]+=Math[_0x419a21(0xe6)](0x20*_0x2d499f),_0x3c29c0[_0x419a21(0x381)]+=Math[_0x419a21(0xe6)](0x3f*_0x2d499f),_0x3c29c0['magicDefense']+=Math[_0x419a21(0xe6)](0x1f*_0x2d499f),_0x3c29c0['speed']+=Math['round'](0x9*_0x2d499f);else{if(_0x3e619d[_0x419a21(0x34a)]==='NE'){const _0x12f7d5=_0x5a6e84[_0x20fbb2];if(_0x12f7d5){const _0x148cc3=_0x12f7d5[_0x419a21(0x2e4)]||_0x47ec42,_0x1a9827=Math[_0x419a21(0x2da)](_0x148cc3,_0x47ec42);_0x20fbb2===_0x419a21(0x1cc)?maxLifeSpan+=_0x12f7d5['lifeSpanBonus']*_0x1a9827:Object[_0x419a21(0xfd)](_0x12f7d5)['forEach'](([_0x4e5058,_0x313645])=>{const _0x48d67a=_0x419a21;_0x4e5058!==_0x48d67a(0x2e4)&&_0x4e5058!==_0x48d67a(0x4aa)&&_0x3c29c0[_0x48d67a(0x474)](_0x4e5058)&&(_0x3c29c0[_0x4e5058]+=_0x313645*_0x1a9827);});}}}}});}return _0x3c29c0;}function updatePetInfo(){const _0x1d6e4e=_0x48f708;if(!currentPet){console[_0x1d6e4e(0x2b0)](_0x1d6e4e(0x43c));return;}const _0x343652=calculateCurrentAttributes(),_0x456580={'endurance':_0x343652[_0x1d6e4e(0x229)],'intelligence':_0x343652[_0x1d6e4e(0x33d)],'strength':_0x343652[_0x1d6e4e(0x408)],'agility':_0x343652['agility'],'faith':_0x343652[_0x1d6e4e(0x3dc)]},_0x1e1440=calculateSecondaryAttributes(_0x456580,currentWisdom),_0x127303=getCurrentSpiritAttributes(),_0x3f4902=playerCritRate,_0x3e7be1=playerCritDamage;!battleState?(battleState={'player':{'health':_0x1e1440[_0x1d6e4e(0x2bc)]+_0x127303[_0x1d6e4e(0x2bc)]+ascensionAttributes[_0x1d6e4e(0x2bc)],'mana':_0x1e1440[_0x1d6e4e(0x15c)]+_0x127303[_0x1d6e4e(0x15c)]+ascensionAttributes[_0x1d6e4e(0x15c)],'physicalAttack':_0x1e1440[_0x1d6e4e(0x18c)]+_0x127303['physicalAttack']+ascensionAttributes['physicalAttack'],'physicalDefense':_0x1e1440[_0x1d6e4e(0x2bb)]+_0x127303['physicalDefense']+ascensionAttributes[_0x1d6e4e(0x2bb)],'magicAttack':_0x1e1440[_0x1d6e4e(0x381)]+_0x127303['magicAttack']+ascensionAttributes['magicAttack'],'magicDefense':_0x1e1440[_0x1d6e4e(0x33b)]+_0x127303[_0x1d6e4e(0x33b)]+ascensionAttributes[_0x1d6e4e(0x33b)],'speed':_0x1e1440[_0x1d6e4e(0x16e)]+_0x127303[_0x1d6e4e(0x16e)]+ascensionAttributes[_0x1d6e4e(0x16e)],'critRate':playerCritRate,'critDamage':playerCritDamage},'enemy':{...enemyPet}},ascensionSkill[_0x1d6e4e(0x2af)]&&ascensionEnabled&&ascensionSkill[_0x1d6e4e(0x2af)]!==_0x1d6e4e(0x48b)&&(battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x3ce)]=ascensionSkill[_0x1d6e4e(0x2af)]),secondAscensionSkill[_0x1d6e4e(0x2af)]&&reenableAscension&&secondAscensionSkill[_0x1d6e4e(0x2af)]!==_0x1d6e4e(0x48b)&&(battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x383)]=secondAscensionSkill[_0x1d6e4e(0x2af)])):(battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x2bc)]=_0x1e1440['health']+_0x127303['health']+ascensionAttributes[_0x1d6e4e(0x2bc)],battleState[_0x1d6e4e(0x1bc)]['mana']=_0x1e1440[_0x1d6e4e(0x15c)]+_0x127303[_0x1d6e4e(0x15c)]+ascensionAttributes[_0x1d6e4e(0x15c)],battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x18c)]=_0x1e1440[_0x1d6e4e(0x18c)]+_0x127303[_0x1d6e4e(0x18c)]+ascensionAttributes['physicalAttack'],battleState['player']['physicalDefense']=_0x1e1440[_0x1d6e4e(0x2bb)]+_0x127303[_0x1d6e4e(0x2bb)]+ascensionAttributes[_0x1d6e4e(0x2bb)],battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x381)]=_0x1e1440[_0x1d6e4e(0x381)]+_0x127303[_0x1d6e4e(0x381)]+ascensionAttributes[_0x1d6e4e(0x381)],battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x33b)]=_0x1e1440[_0x1d6e4e(0x33b)]+_0x127303['magicDefense']+ascensionAttributes[_0x1d6e4e(0x33b)],battleState[_0x1d6e4e(0x1bc)]['speed']=_0x1e1440[_0x1d6e4e(0x16e)]+_0x127303[_0x1d6e4e(0x16e)]+ascensionAttributes[_0x1d6e4e(0x16e)],battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x333)]=playerCritRate,battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x3ae)]=playerCritDamage,ascensionSkill[_0x1d6e4e(0x2af)]&&ascensionEnabled&&ascensionSkill[_0x1d6e4e(0x2af)]!==_0x1d6e4e(0x48b)&&(battleState['player'][_0x1d6e4e(0x3ce)]=ascensionSkill[_0x1d6e4e(0x2af)]),secondAscensionSkill[_0x1d6e4e(0x2af)]&&reenableAscension&&ascensionSkill[_0x1d6e4e(0x2af)]!==_0x1d6e4e(0x48b)&&(battleState[_0x1d6e4e(0x1bc)][_0x1d6e4e(0x383)]=secondAscensionSkill[_0x1d6e4e(0x2af)])),battleAttributes={...battleState[_0x1d6e4e(0x1bc)]},maxHealth=battleAttributes['health'],maxMana=battleAttributes[_0x1d6e4e(0x15c)],updateUI(),attributesFetched=!![];}let summonEnemy=![];const enemyImages=[{'status':_0x48f708(0x450),'name':'妖怪','url':'https://pic.imgdb.cn/item/6678135ed9c307b7e9060dd6.gif'},{'status':_0x48f708(0x3e5),'name':_0x48f708(0xe1),'url':_0x48f708(0x4c1)},{'status':_0x48f708(0x1d2),'name':_0x48f708(0x247),'url':_0x48f708(0x49f)},{'status':_0x48f708(0x214),'name':_0x48f708(0x33a),'url':_0x48f708(0x19b)},{'status':_0x48f708(0x265),'name':'暗黑大渊神','url':'https://pic.imgdb.cn/item/66a61b8cd9c307b7e9b71e30.gif'},{'status':_0x48f708(0x28a),'name':_0x48f708(0x1a1),'url':_0x48f708(0x2e8)},{'status':'practiceEnemyPlus','name':'高级树桩','url':'https://pic.imgdb.cn/item/665433e8d9c307b7e93ac758.gif'},{'status':'ancientEvil','name':_0x48f708(0x4bb),'url':_0x48f708(0x3e6)},{'status':_0x48f708(0x3f8),'name':_0x48f708(0xef),'url':'https://pic.imgdb.cn/item/66cd62b1d9c307b7e9afcf5b.gif'},{'status':_0x48f708(0x1d9),'name':_0x48f708(0x362),'url':_0x48f708(0x1aa)},{'status':_0x48f708(0x361),'name':'穷奇','url':_0x48f708(0x48d)},{'status':'baiYin','name':_0x48f708(0x41b),'url':_0x48f708(0x321)},{'status':_0x48f708(0x2c9),'name':'岩龙','url':'https://pic.imgdb.cn/item/66e6d18fd9c307b7e9c12e52.gif'},{'status':'fireGiant','name':_0x48f708(0x179),'url':_0x48f708(0x48f)}];function changeEnemyImage(_0x3d7bc5){const _0x2d9dc8=_0x48f708,_0x1a9e06=enemyImages[_0x2d9dc8(0x125)](_0x32f880=>_0x32f880[_0x2d9dc8(0x1c9)]===_0x3d7bc5);_0x1a9e06?(document['getElementById'](_0x2d9dc8(0x3df))[_0x2d9dc8(0x223)]=_0x1a9e06[_0x2d9dc8(0x1b1)],document['getElementById'](_0x2d9dc8(0x12d))['innerText']=_0x1a9e06['name']):console[_0x2d9dc8(0x2b0)]('Status\x20\x27'+_0x3d7bc5+'\x27\x20not\x20found\x20in\x20enemyImages.');}const enemies={'practiceEnemy':{'name':_0x48f708(0x1a1),'level':0x64,'health':0x12a05f200,'mana':0x12a05f200,'physicalAttack':0x64,'physicalDefense':0x0,'magicAttack':0x64,'magicDefense':0x0,'speed':0x64,'cultivation':0x400,'enemyCritRate':0.8,'enemyCritDamage':2.5,'backgroundImage':_0x48f708(0x3ca),'reward':()=>gainExp(0xbb8),'rewardMessage':_0x48f708(0x427),'specialty':_0x48f708(0x28a)},'practiceEnemyPlus':{'name':_0x48f708(0xe7),'level':0xc8,'health':0x12a05f200,'mana':0x12a05f200,'physicalAttack':0x3e8,'physicalDefense':0x186a0,'magicAttack':0x3e8,'magicDefense':0x186a0,'speed':0xea60,'cultivation':0x7ef40,'enemyCritRate':0.8,'enemyCritDamage':2.5,'backgroundImage':'https://pic.imgdb.cn/item/66cc8f01d9c307b7e9c6d2e8.png','reward':()=>gainExp(0x2710),'rewardMessage':_0x48f708(0x18d),'specialty':_0x48f708(0x3b1)},'ancientEvil':{'name':_0x48f708(0x3c7),'level':0x64,'health':0x400c7c0,'mana':0x249f00,'physicalAttack':0x29040,'physicalDefense':0xf423f,'magicAttack':0x13ec,'magicDefense':0xf423f,'speed':0xbb8,'cultivation':0x250f8,'enemyCritRate':0.01,'enemyCritDamage':0x3e8,'backgroundImage':_0x48f708(0x3ca),'reward':()=>{const _0x105de9=_0x48f708,_0x116d22=['cultivationPill500',_0x105de9(0x423),_0x105de9(0x22f)],_0x30f658=_0x116d22[Math[_0x105de9(0x122)](Math['random']()*_0x116d22[_0x105de9(0xd4)])],_0x642bb7=Math[_0x105de9(0x122)](Math[_0x105de9(0x140)]()*0x4)+0x2,_0x265319={'cultivationPill500':_0x105de9(0x347),'universalCrystal':_0x105de9(0x317),'universalKernel':_0x105de9(0x2d7)};addItemToJinnang(_0x30f658,_0x642bb7),showInfoBox('你获得了'+_0x642bb7+'个'+_0x265319[_0x30f658]+_0x105de9(0x434));},'rewardMessage':'无','specialty':_0x48f708(0x436)},'expEnemy':{'name':'永夜大帝','level':0xc8,'health':0x7944ec0,'mana':0x249f00,'physicalAttack':0x445c0,'physicalDefense':0x3a980,'magicAttack':0x4da30,'magicDefense':0x21408,'speed':0x46118,'cultivation':0x49ae8,'enemyCritRate':0.15,'enemyCritDamage':1.8,'backgroundImage':_0x48f708(0x128),'reward':()=>gainExp(0x186a00),'rewardMessage':'额外经验1600000点','specialty':_0x48f708(0x3f8)},'noWorkBoss':{'name':_0x48f708(0x362),'level':0xc8,'health':0x258,'mana':0x2ab980,'physicalAttack':0x992,'physicalDefense':0x4b0,'magicAttack':0x992,'magicDefense':0x4b0,'speed':0xf423f,'cultivation':0x98967f,'enemyCritRate':0x1,'enemyCritDamage':2.5,'backgroundImage':_0x48f708(0x128),'reward':()=>addItemToJinnang(_0x48f708(0x100),0x1),'rewardMessage':_0x48f708(0x409),'specialty':_0x48f708(0x1d9)},'qiongQi':{'name':'穷奇','level':0xa0,'health':0x9470,'mana':0x2ee0,'physicalAttack':0xd7a,'physicalDefense':0xf870,'magicAttack':0x468,'magicDefense':0x7a12,'speed':0x4e200,'cultivation':0x249f0,'enemyCritRate':0x0,'enemyCritDamage':0x0,'backgroundImage':_0x48f708(0x498),'reward':()=>addItemToJinnang('wealthyGemBag',0x1),'rewardMessage':'一个富贵宝石袋','specialty':_0x48f708(0x361)},'baiYin':{'name':_0x48f708(0x47d),'level':0xb4,'health':0x186a0,'mana':0x4e20,'physicalAttack':0x5dc,'physicalDefense':0x12c,'magicAttack':0x514,'magicDefense':0x118,'speed':0x7e8,'cultivation':0x400,'enemyCritRate':0.5,'enemyCritDamage':1.5,'backgroundImage':_0x48f708(0x2ca),'reward':()=>{const _0x4f7a73=_0x48f708,_0x6346c0=Math['round'](petLevel*(0x5+Math[_0x4f7a73(0x140)]()*0x5));petLevel<=0xb4&&gainExp(_0x6346c0),handleBaiYinReward();},'rewardMessage':'无','specialty':_0x48f708(0x346)},'stoneDragon':{'name':'岩龙','level':0xb4,'health':0xe27f6600,'mana':0x1e848,'physicalAttack':0xd7a,'physicalDefense':0xea60,'magicAttack':0x468,'magicDefense':0xea60,'speed':0x960,'cultivation':0x730a0,'enemyCritRate':0.65,'enemyCritDamage':3.8,'backgroundImage':_0x48f708(0x207),'reward':()=>{const _0x2b8f4c=_0x48f708;generateItemToJinnang(_0x2b8f4c(0x256),_0x2b8f4c(0x249),_0x2b8f4c(0xa9),price=0x1f40,quantity=0x1,description=_0x2b8f4c(0x367)),increaseCurrentPetIntimacy(0x258);},'rewardMessage':_0x48f708(0x45b),'specialty':'stoneDragon'},'fireGiant':{'name':_0x48f708(0x179),'level':0xb4,'health':0x3b9aca00,'mana':0x2faf080,'physicalAttack':0xa5a,'physicalDefense':0xbb8,'magicAttack':0x1978,'magicDefense':0xa8c,'speed':0xea60,'cultivation':0x1f40,'enemyCritRate':0.35,'enemyCritDamage':2.15,'backgroundImage':_0x48f708(0x207),'reward':()=>{increaseCurrentPetLearningValue(0x3e8),increaseCurrentPetIntimacy(0x258);},'rewardMessage':_0x48f708(0x372),'specialty':_0x48f708(0x472)}},specificAttackByEnemy={'expEnemy':{'type':_0x48f708(0x22a),'action':()=>handleExpEnemySkill()},'noWorkBoss':{'type':_0x48f708(0x22a),'action':()=>{const _0x29bf2a=_0x48f708,_0x451324=Math['round'](battleAttributes[_0x29bf2a(0x15c)]*0.15);battleAttributes[_0x29bf2a(0x15c)]-=_0x451324,battleState['enemy'][_0x29bf2a(0x33b)]=Math[_0x29bf2a(0xe6)](battleAttributes['magicAttack']*battleState[_0x29bf2a(0x1bc)][_0x29bf2a(0x3ae)]),battleState[_0x29bf2a(0x3f7)][_0x29bf2a(0x2bb)]=Math['round'](battleAttributes[_0x29bf2a(0x2bb)]*battleState[_0x29bf2a(0x1bc)][_0x29bf2a(0x3ae)]),logBattleEvent('無班之魂の法术穿透，损失'+_0x451324+_0x29bf2a(0x2cc),'lightblue'),handleNoWorkBossSkill();}},'ancientEvil':{'type':_0x48f708(0x22a),'action':()=>handleAncientEvilSkill()},'qiongQi':{'type':_0x48f708(0x25f),'action':()=>{handleQiongQiSkill(),handleTaunt();}},'practiceEnemy':{'type':_0x48f708(0x25f),'action':()=>{let _0x2414e1;_0x2414e1=setTimeout(()=>{const _0xda5dad=_0x57f3;summonEnemy&&battleState[_0xda5dad(0x3f7)]['specialty']===_0xda5dad(0x28a)&&onBattleState?(battleState[_0xda5dad(0x3f7)][_0xda5dad(0x18c)]+=0x2dc6c0,battleState[_0xda5dad(0x3f7)]['magicAttack']+=0x2dc6c0,updateUI(),showInfoBox(_0xda5dad(0x233))):clearTimeout(_0x2414e1);},0x927c0);}},'practiceEnemyPlus':{'type':_0x48f708(0x25f),'action':()=>{let _0x3d033e;_0x3d033e=setTimeout(()=>{const _0x5f34e4=_0x57f3;summonEnemy&&battleState['enemy'][_0x5f34e4(0xaf)]==='practiceEnemyPlus'&&onBattleState?(battleState[_0x5f34e4(0x3f7)][_0x5f34e4(0x2bc)]=enemyMaxHealth,updateUI(),logBattleEvent(_0x5f34e4(0x24a))):clearTimeout(_0x3d033e);},0x7530);}},'baiYin':{'type':_0x48f708(0x25f),'action':()=>{const _0xd2b5f4=_0x48f708;logBattleEvent(_0xd2b5f4(0x43f),'gold');}},'stoneDragon':{'type':_0x48f708(0x22a),'action':()=>{const _0x4ce9e8=_0x48f708;if(summonEnemy&&battleState[_0x4ce9e8(0x3f7)]['name']==='岩龙'&&onBattleState){if(battleState[_0x4ce9e8(0x3f7)]['health']>=enemyMaxHealth*0.2)battleState[_0x4ce9e8(0x3f7)][_0x4ce9e8(0x2bb)]+=0xea60,battleState[_0x4ce9e8(0x3f7)][_0x4ce9e8(0x33b)]+=0xea60,updateUI();else{battleState[_0x4ce9e8(0x3f7)]['physicalAttack']+=Math[_0x4ce9e8(0x122)](Math[_0x4ce9e8(0x140)]()*0x5dc+0x5dc);if(battleState[_0x4ce9e8(0x1bc)][_0x4ce9e8(0xa2)])return;else battleState[_0x4ce9e8(0x1bc)][_0x4ce9e8(0xa2)]=!![],logBattleEvent(_0x4ce9e8(0x4a9),_0x4ce9e8(0x2b1));}}}},'fireGiant':{'type':_0x48f708(0x25f),'action':()=>{const _0x5b183c=_0x48f708;typeof battleState[_0x5b183c(0x1bc)][_0x5b183c(0x235)]===_0x5b183c(0x1ae)&&(battleState[_0x5b183c(0x1bc)][_0x5b183c(0x235)]=![]);if(battleState[_0x5b183c(0x1bc)]['heat'])return;const _0x4bbc9a=playerCritDamage,_0xb7db0c=playerCritRate;battleState[_0x5b183c(0x1bc)][_0x5b183c(0x3ae)]=Math[_0x5b183c(0x309)](1.5,_0x4bbc9a*0x2),battleState['player'][_0x5b183c(0x333)]=Math[_0x5b183c(0x309)](0.1,Math[_0x5b183c(0x2da)](0.5,Math[_0x5b183c(0x122)](_0xb7db0c*0x32)*0.01)),battleState[_0x5b183c(0x1bc)][_0x5b183c(0x235)]=!![],showEffect(_0x5b183c(0x221),'https://pic1.imgdb.cn/item/6791d32dd0e0a243d4f708f4.gif'),updateUI();}}};function handleCleanHeat(){const _0x31d2ec=_0x48f708;battleState[_0x31d2ec(0x1bc)][_0x31d2ec(0x235)]=![],battleState[_0x31d2ec(0x1bc)][_0x31d2ec(0x3ae)]=Math['max'](1.5,playerCritDamage*0.5),battleState['player'][_0x31d2ec(0x333)]=Math[_0x31d2ec(0x309)](0.1,playerCritRate*0x2),updateUI();}function applySpecificAttackByEnemy(_0x5ce015){const _0x2ab691=_0x48f708,_0x2b90f6=specificAttackByEnemy[_0x5ce015];if(_0x2b90f6){if(_0x2b90f6[_0x2ab691(0x34a)]==='interval')_0x2b90f6['action']();else _0x2b90f6[_0x2ab691(0x34a)]===_0x2ab691(0x25f)&&_0x2b90f6['action']();}else console['log'](_0x2ab691(0x1df)+_0x5ce015+'\x20没有特殊攻击能力');}function handleBattleWithSummonEnemy(_0x2ac386){const _0x6a2e1e=_0x48f708;if(!battleState[_0x6a2e1e(0x3a3)]||!enemies[battleState['enemyKey']])return;const _0x336244=enemies[battleState[_0x6a2e1e(0x3a3)]];_0x2ac386?_0x336244['reward']?(_0x336244[_0x6a2e1e(0x44b)](),_0x336244[_0x6a2e1e(0x209)]!=='无'&&showInfoBox(_0x6a2e1e(0x385)+_0x336244[_0x6a2e1e(0x2af)]+'，获得了'+_0x336244[_0x6a2e1e(0x209)]+'！',null,null,'green')):showInfoBox(_0x6a2e1e(0x385)+_0x336244[_0x6a2e1e(0x2af)]+_0x6a2e1e(0x267),null,null,_0x6a2e1e(0x143)):showInfoBox(_0x6a2e1e(0x35e)+_0x336244[_0x6a2e1e(0x2af)]+_0x6a2e1e(0x4b1),null,null,_0x6a2e1e(0x19c)),resetBattleState(!![]),resetBuffState(![]),clearEnemyEffect(),clearPlayerEffect(),clearAutoBattle(),restoreEnemyState(),summonEnemy=![],updateUI();}function summonEnemyByType(_0x34b76f,_0x3800be=!![]){const _0x1e0cd5=_0x48f708;if(!summonEnemy&&attributesFetched){const _0x10c40e=enemies[_0x34b76f];if(_0x10c40e){const _0x52b50d=()=>{const _0x219dfa=_0x57f3;summonEnemy=!![],toggleFightingDrawer(),battleState[_0x219dfa(0x3f7)]={..._0x10c40e},battleState[_0x219dfa(0x3a3)]=_0x34b76f,enemyMaxHealth=_0x10c40e[_0x219dfa(0x2bc)],enemyMaxMana=_0x10c40e[_0x219dfa(0x15c)],enemyPetCultivation=_0x10c40e[_0x219dfa(0x111)],enemyCritRate=_0x10c40e[_0x219dfa(0x275)],enemyCritDamage=_0x10c40e[_0x219dfa(0x26d)],changeEnemyImage(_0x34b76f),setBackgroundImage(_0x10c40e[_0x219dfa(0x350)]),document['getElementById'](_0x219dfa(0x40c))[_0x219dfa(0xf8)]=_0x10c40e[_0x219dfa(0x456)],updateUI(),storeSummonEnemyInitialState();const _0x6a4f45=specificAttackByEnemy[_0x10c40e['specialty']];_0x6a4f45&&_0x6a4f45[_0x219dfa(0x34a)]===_0x219dfa(0x25f)&&_0x6a4f45['action']();};_0x3800be?showInfoBox('你将会召唤'+_0x10c40e[_0x1e0cd5(0x2af)]+'，战胜后你会获得奖励',_0x52b50d,()=>{const _0x5587e4=_0x1e0cd5;summonEnemy=![],goldAmount-=0x4e20,updateGoldDisplay(goldAmount),showInfoBox(_0x5587e4(0x466),null,null,_0x5587e4(0x19c));return;}):_0x52b50d();}else showInfoBox('未知的敌人类型',null,null,_0x1e0cd5(0x19c));}else showInfoBox(_0x1e0cd5(0x1a3),null,null,'red');}function handleBaiYinReward(){const _0x5631d3=_0x48f708,_0x1fbbde=getRandomInt(0x1,0x64);if(_0x1fbbde<=0x32)generateItemToJinnang(_0x5631d3(0x3b3),'宇宙之尘','https://pic.imgdb.cn/item/66d5dd07d9c307b7e953e4e1.png',price=0xa,quantity=0x1,description=_0x5631d3(0x3d7)),showInfoBox(_0x5631d3(0xee),null,null,null,_0x5631d3(0x430));else _0x1fbbde<=0x5a?(addItemToJinnang('gemLuckyBag',0x1),showInfoBox(_0x5631d3(0x4bd),null,null,null,'https://pic.imgdb.cn/item/66db2daed9c307b7e9c7508a.png')):(addItemToJinnang(_0x5631d3(0x423),0x1),showInfoBox('你获得一个宇宙之晶',null,null,null,_0x5631d3(0x16a)));}let baiYinInterval=null;function handleBattleWithBaiYin(){const _0x4bad4f=_0x48f708;if(baiYinInterval!==null){showInfoBox(_0x4bad4f(0x1b7),null,null,_0x4bad4f(0x19c));return;}showInfoBox(_0x4bad4f(0x27b),null,null,_0x4bad4f(0x19c)),!onBattleState&&!summonEnemy?baiYinInterval=setInterval(()=>{const _0x1134b6=_0x4bad4f;useItem(_0x1134b6(0x9a),0x1)?(summonEnemyByType(_0x1134b6(0x346),![]),addItemToJinnang(_0x1134b6(0xe3),0x1),autoBattle()):(clearInterval(baiYinInterval),baiYinInterval=null,showInfoBox('试炼之地召唤卡数量不足，自动战斗已停止！'),document[_0x1134b6(0xd7)]('baiyinOverlay')[_0x1134b6(0x338)][_0x1134b6(0x44e)]=_0x1134b6(0x46e));},0x3e8):(clearInterval(baiYinInterval),baiYinInterval=null);}function handleExpEnemySkill(){const _0x1a9ebe=_0x48f708,_0x27a66d=Math['round'](battleAttributes[_0x1a9ebe(0x2bc)]*0.1);battleAttributes[_0x1a9ebe(0x2bc)]-=_0x27a66d,battleState[_0x1a9ebe(0x3f7)][_0x1a9ebe(0x2bc)]+=_0x27a66d*0xa,battleAttributes[_0x1a9ebe(0x2bb)]=0x1,battleAttributes['magicDefense']=0x1,logBattleEvent('永夜大帝の吸血魔刃，破坏了你的护甲且吸取了你'+_0x27a66d+'生命值','red'),updateUI();}let qiongQi=null;function handleQiongQiSkill(){const _0x2286ee=_0x48f708,_0x57c6e3=battleState[_0x2286ee(0x3f7)][_0x2286ee(0xaf)]===_0x2286ee(0x361),_0x310ef0=Math[_0x2286ee(0xe6)](battleAttributes[_0x2286ee(0x2bc)]*(0.01+Math[_0x2286ee(0x140)]()*0.02));let _0x21563a=Math[_0x2286ee(0xe6)](_0x310ef0*playerCritDamage);battleAttributes[_0x2286ee(0x18c)]*=0.01,battleAttributes[_0x2286ee(0x381)]*=0.01,qiongQi!==null&&(clearInterval(qiongQi),qiongQi=null),summonEnemy&&_0x57c6e3?(battleState['enemy']['physicalDefense']=0xe8d4a50fff,battleState[_0x2286ee(0x3f7)][_0x2286ee(0x33b)]=0xe8d4a50fff,setTimeout(()=>{const _0x3d84c8=_0x2286ee;battleState[_0x3d84c8(0x3f7)]['physicalDefense']=battleAttributes['physicalAttack']*0x64,battleState[_0x3d84c8(0x3f7)][_0x3d84c8(0x33b)]=battleAttributes[_0x3d84c8(0x381)]*0x64,qiongQi=setInterval(()=>{const _0x571698=_0x3d84c8;battleAttributes[_0x571698(0x2bc)]-=_0x310ef0,enemyMaxHealth+=_0x310ef0,battleState['enemy'][_0x571698(0x2bc)]+=_0x310ef0,battleState['enemy'][_0x571698(0x2bb)]+=_0x21563a,battleState[_0x571698(0x3f7)][_0x571698(0x33b)]+=_0x21563a,enemyPetCultivation=playerCultivation+0x5dc0,battleState[_0x571698(0x3f7)][_0x571698(0x16e)]=battleAttributes['speed']+0x960,updateUI(),(battleAttributes[_0x571698(0x2bc)]<=0x0||battleState[_0x571698(0x3f7)][_0x571698(0x2bc)]<=0x0||!summonEnemy)&&(clearInterval(qiongQi),qiongQi=null);},0x3e8);},0xbb8),logBattleEvent(_0x2286ee(0x1a6),'gold')):qiongQi!==null&&(clearInterval(qiongQi),qiongQi=null);}function handleNoWorkBossSkill(){const _0x172676=_0x48f708;if(Math['random']()<0.8)return;const _0xfff651=document[_0x172676(0xd7)]('enemy-level'),_0x361dbb=parseInt(_0xfff651[_0x172676(0xf8)],0xa),_0xd55e8f=_0x361dbb+0xc8;_0xfff651[_0x172676(0xf8)]=_0xd55e8f,logBattleEvent(_0x172676(0x2bd),'red');}function handleAncientEvilSkill(){const _0x3f175e=_0x48f708;typeof battleState[_0x3f175e(0x1bc)][_0x3f175e(0x4a1)]===_0x3f175e(0x1ae)&&(battleState[_0x3f175e(0x1bc)][_0x3f175e(0x4a1)]=![]);if(battleState[_0x3f175e(0x1bc)][_0x3f175e(0x4a1)])return;const _0x41a518=playerCritDamage,_0x3e2dac=enemyCritDamage;battleState[_0x3f175e(0x1bc)][_0x3f175e(0x3ae)]=_0x41a518*0.5,enemyCritDamage+=_0x41a518*0.5,battleState[_0x3f175e(0x1bc)]['damageLost']=!![],setTimeout(()=>{const _0x471dc8=_0x3f175e;battleState[_0x471dc8(0x1bc)][_0x471dc8(0x4a1)]=![],battleState[_0x471dc8(0x1bc)][_0x471dc8(0x3ae)]=_0x41a518,enemyCritDamage=_0x3e2dac,updateUI();},0x2710),logBattleEvent(_0x3f175e(0xdd),_0x3f175e(0x3dd));}function initializeEnemyPet(){const _0x4d3b38=_0x48f708;enemyPet={'health':0xd,'mana':0x7,'physicalAttack':0x9,'physicalDefense':0x3,'magicAttack':0x5,'magicDefense':0x1,'speed':0x7,'cultivation':0xc},enemyMaxHealth=enemyPet[_0x4d3b38(0x2bc)],enemyMaxMana=enemyPet['mana'],enemyPetCultivation=enemyPet[_0x4d3b38(0x111)],battleState&&(battleState['enemy']={...enemyPet}),storeEnemyInitialState();}function updateEnemyAttributes(){const _0x10cb8b=_0x48f708,_0x3ec91f={'health':0x11e1a300,'mana':0x8f0d180,'physicalAttack':0x53020,'physicalDefense':0x38270,'magicAttack':0x41eb0,'magicDefense':0x38270,'speed':0xfa00,'cultivation':0x7ef40},_0x57c802={'health':0xc350,'mana':0x7d00,'physicalAttack':0x1e,'physicalDefense':0x96,'magicAttack':0x19,'magicDefense':0x78,'speed':0x14,'cultivation':0x23};function _0x2ba0de(_0xea5461,_0xc633b7){const _0x1ecc6a=_0x57f3;let _0x4771c5=0x0;if(battleRounds<=0x2d){const _0x41536c=Math['floor'](Math[_0x1ecc6a(0x140)]()*0x32)+0x1+battleRounds;_0x4771c5=_0xc633b7+0x7*_0x41536c;}else{if(battleRounds<=0x46){const _0x4f8d6a=Math[_0x1ecc6a(0x122)](Math[_0x1ecc6a(0x140)]()*0x3c)+0x1+battleRounds;_0x4771c5=_0xc633b7+0x8*_0x4f8d6a;}else{if(battleRounds<=0x50){const _0xd800d=Math['floor'](Math[_0x1ecc6a(0x140)]()*0x64)+0x1+battleRounds;_0x4771c5=_0xc633b7+0x10*_0xd800d;}else{if(battleRounds<=0x5a){const _0xd24df5=0.0003+Math[_0x1ecc6a(0x140)]()*0.0006;_0x4771c5=_0xc633b7+_0x3ec91f[_0xea5461]*_0xd24df5;}else{if(battleRounds<=0x63){const _0x3551fc=0.0006+Math[_0x1ecc6a(0x140)]()*0.0012;_0x4771c5=_0xc633b7+_0x3ec91f[_0xea5461]*_0x3551fc;}else{if(battleRounds===0x64)_0x4771c5=_0x3ec91f[_0xea5461]*0.1;else{if(battleRounds<=0x95){const _0x133c88=_0x3ec91f[_0xea5461]*0.1,_0x5ed729=(_0x3ec91f[_0xea5461]-_0x133c88)/0x96;_0x4771c5=_0x5ed729*battleRounds;}else{if(battleRounds===0x96)_0x4771c5=_0x3ec91f[_0xea5461];else{const _0x1c9787=_0x3ec91f[_0xea5461],_0x4566c6=battleRounds-0x96,_0xa0cb80=Math['floor'](Math[_0x1ecc6a(0x140)]()*(0x96-0x2+0x1))+0x2,_0x54d54c=_0x4566c6*(_0x57c802[_0xea5461]*_0xa0cb80);_0x4771c5=_0x1c9787+_0x54d54c;}}}}}}}}return battleRounds<=0x96&&(_0x4771c5=Math[_0x1ecc6a(0x2da)](_0x4771c5,_0x3ec91f[_0xea5461])),_0x4771c5;}!battleState[_0x10cb8b(0x3f7)][_0x10cb8b(0x3e5)]&&(enemyCritRate=Math['random']()*0.99+0.01,enemyCritDamage=Math[_0x10cb8b(0x140)]()*1.5+1.5),enemyPet['health']=Math[_0x10cb8b(0xe6)](_0x2ba0de(_0x10cb8b(0x2bc),enemyPet[_0x10cb8b(0x2bc)])),enemyPet['mana']=Math[_0x10cb8b(0xe6)](_0x2ba0de(_0x10cb8b(0x15c),enemyPet[_0x10cb8b(0x15c)])),enemyPet[_0x10cb8b(0x18c)]=Math[_0x10cb8b(0xe6)](_0x2ba0de('physicalAttack',enemyPet[_0x10cb8b(0x18c)])),enemyPet['physicalDefense']=Math[_0x10cb8b(0xe6)](_0x2ba0de('physicalDefense',enemyPet[_0x10cb8b(0x2bb)])),enemyPet[_0x10cb8b(0x381)]=Math[_0x10cb8b(0xe6)](_0x2ba0de('magicAttack',enemyPet['magicAttack'])),enemyPet[_0x10cb8b(0x33b)]=Math['round'](_0x2ba0de(_0x10cb8b(0x33b),enemyPet['magicDefense'])),enemyPet[_0x10cb8b(0x16e)]=Math[_0x10cb8b(0xe6)](_0x2ba0de(_0x10cb8b(0x16e),enemyPet['speed'])),enemyPet[_0x10cb8b(0x111)]=Math[_0x10cb8b(0xe6)](_0x2ba0de(_0x10cb8b(0x111),enemyPet[_0x10cb8b(0x111)])),enemyMaxHealth=enemyPet[_0x10cb8b(0x2bc)],enemyMaxMana=enemyPet[_0x10cb8b(0x15c)],enemyPetCultivation=enemyPet[_0x10cb8b(0x111)],battleState[_0x10cb8b(0x3f7)]={...enemyPet},storeEnemyInitialState(),enemyLevel=battleRounds,document[_0x10cb8b(0xd7)](_0x10cb8b(0x40c))[_0x10cb8b(0xf8)]=enemyLevel,handleRampaged();}function storeEnemyInitialState(){const _0x4505eb=_0x48f708;enemyInitialState=JSON[_0x4505eb(0x32d)](JSON[_0x4505eb(0x187)](enemyPet));}function restoreEnemyState(){const _0x54d38f=_0x48f708;enemyInitialState&&(enemyPet=JSON[_0x54d38f(0x32d)](JSON[_0x54d38f(0x187)](enemyInitialState)),enemyMaxHealth=enemyPet['health'],enemyMaxMana=enemyPet['mana'],enemyPetCultivation=enemyPet[_0x54d38f(0x111)],battleState[_0x54d38f(0x3f7)]={...enemyPet},clearPlayerEffect(),enemyLevel=battleRounds,document['getElementById']('enemy-level')[_0x54d38f(0xf8)]=enemyLevel);}function storeSummonEnemyInitialState(){const _0x3919d7=_0x48f708;if(summonEnemy)summonEnemyInitialState=JSON['parse'](JSON[_0x3919d7(0x187)](battleState[_0x3919d7(0x3f7)]));}function restoreSummonEnemyState(){const _0x837205=_0x48f708;summonEnemyInitialState&&(enemyPet=JSON['parse'](JSON[_0x837205(0x187)](enemyInitialState)),enemyMaxHealth=enemyPet[_0x837205(0x2bc)],enemyMaxMana=enemyPet[_0x837205(0x15c)],enemyPetCultivation=enemyPet[_0x837205(0x111)],battleState[_0x837205(0x3f7)]={...enemyPet},clearPlayerEffect(),enemyLevel=battleRounds,document[_0x837205(0xd7)](_0x837205(0x40c))[_0x837205(0xf8)]=enemyLevel);}function getEnemyStatus(){const _0x3ab2e0=_0x48f708;let _0x104432=[];if(!playerTurn)_0x104432[_0x3ab2e0(0x153)]('⚔️');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x3e5)])_0x104432[_0x3ab2e0(0x153)]('狂暴');if(enemyRivival)_0x104432[_0x3ab2e0(0x153)](_0x3ab2e0(0x30b));if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x231)])_0x104432[_0x3ab2e0(0x153)]('破甲');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x1f4)])_0x104432[_0x3ab2e0(0x153)]('虚弱');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0xe8)])_0x104432[_0x3ab2e0(0x153)]('重伤');if(battleState[_0x3ab2e0(0x3f7)]['bleeding'])_0x104432[_0x3ab2e0(0x153)]('流血');if(battleState['enemy']['corrode'])_0x104432[_0x3ab2e0(0x153)]('腐蚀');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x454)])_0x104432[_0x3ab2e0(0x153)]('沉睡');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x3c5)])_0x104432['push']('穿透');if(battleState['enemy'][_0x3ab2e0(0x348)])_0x104432[_0x3ab2e0(0x153)]('沉默');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x3c2)])_0x104432['push']('中毒');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x168)])_0x104432[_0x3ab2e0(0x153)]('眩晕');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x4a0)])_0x104432[_0x3ab2e0(0x153)]('恐吓');if(battleState[_0x3ab2e0(0x3f7)]['terrified'])_0x104432[_0x3ab2e0(0x153)]('惶恐');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x243)])_0x104432['push']('麻痹');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x298)])_0x104432[_0x3ab2e0(0x153)]('混乱');if(battleState[_0x3ab2e0(0x3f7)]['burnt'])_0x104432[_0x3ab2e0(0x153)]('灼烧');if(battleState[_0x3ab2e0(0x3f7)][_0x3ab2e0(0x37c)])_0x104432[_0x3ab2e0(0x153)]('迟缓');return _0x104432[_0x3ab2e0(0x2fa)](',\x20');}function updateEnemyStatusDisplay(){const _0x63a36e=document['getElementById']('enemy-status');_0x63a36e&&(_0x63a36e['innerText']=getEnemyStatus());}function getPlayerStatus(){const _0x3ade79=_0x48f708;let _0x5e33cc=[];if(playerTurn)_0x5e33cc[_0x3ade79(0x153)]('⚔️');if(lifeBoxMode)_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x195));if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x126)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0xc0));if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0xa2)])_0x5e33cc['push']('触电');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x235)])_0x5e33cc[_0x3ade79(0x153)]('高温');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x471)])_0x5e33cc[_0x3ade79(0x153)]('护盾');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x135)])_0x5e33cc[_0x3ade79(0x153)]('隐身');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x3a9)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x10f));if(battleState['player'][_0x3ade79(0x232)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x24b));if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x112)])_0x5e33cc[_0x3ade79(0x153)]('北冥');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x451)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x4b2));if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0xe5)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x99));if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x20d)])_0x5e33cc[_0x3ade79(0x153)]('醉酒');if(battleState['player'][_0x3ade79(0x15f)])_0x5e33cc[_0x3ade79(0x153)]('撕裂');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x326)])_0x5e33cc[_0x3ade79(0x153)]('压制');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x2f8)])_0x5e33cc[_0x3ade79(0x153)]('嘲讽');if(battleState['player']['seal'])_0x5e33cc[_0x3ade79(0x153)]('封印');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x278)])_0x5e33cc[_0x3ade79(0x153)]('杀戮');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x369)])_0x5e33cc[_0x3ade79(0x153)]('禁疗');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x482)])_0x5e33cc[_0x3ade79(0x153)]('摄魂');if(battleState[_0x3ade79(0x1bc)]['blindfold'])_0x5e33cc[_0x3ade79(0x153)]('失明');if(battleState[_0x3ade79(0x1bc)][_0x3ade79(0x2dc)])_0x5e33cc[_0x3ade79(0x153)](_0x3ade79(0x142));return _0x5e33cc[_0x3ade79(0x2fa)](',\x20');}function updatePlayerStatusDisplay(){const _0x52dde9=_0x48f708,_0x9f9339=document[_0x52dde9(0xd7)](_0x52dde9(0x1b9));_0x9f9339&&(_0x9f9339[_0x52dde9(0xf8)]=getPlayerStatus());}function showEffect(_0x4bc7c9,_0x234825){const _0x31b1c3=_0x48f708,_0x3accc6=document['getElementById'](_0x4bc7c9);_0x3accc6[_0x31b1c3(0x338)][_0x31b1c3(0x350)]=_0x31b1c3(0x352)+_0x234825+')',_0x3accc6[_0x31b1c3(0x21f)][_0x31b1c3(0x25a)](_0x31b1c3(0x22e)),setTimeout(()=>{const _0x652922=_0x31b1c3;_0x3accc6['classList'][_0x652922(0x130)](_0x652922(0x22e)),_0x3accc6[_0x652922(0x338)][_0x652922(0x350)]='';},0x15e);}function updateUI(){const _0x5b8706=_0x48f708,_0x257008=document[_0x5b8706(0xd7)](_0x5b8706(0x494)),_0x3756aa=document['getElementById'](_0x5b8706(0x3a1)),_0x2d1e6c=document[_0x5b8706(0xd7)](_0x5b8706(0x357)),_0x43072f=document['getElementById'](_0x5b8706(0x200));_0x257008['innerText']=battleAttributes['health'],_0x3756aa[_0x5b8706(0xf8)]=maxHealth,_0x2d1e6c[_0x5b8706(0xf8)]=battleAttributes[_0x5b8706(0x15c)],_0x43072f[_0x5b8706(0xf8)]=maxMana,_0x257008[_0x5b8706(0x21f)][_0x5b8706(0x25a)](_0x5b8706(0x13b)),_0x3756aa[_0x5b8706(0x21f)][_0x5b8706(0x25a)](_0x5b8706(0x13b)),_0x2d1e6c['classList'][_0x5b8706(0x25a)](_0x5b8706(0x37a)),_0x43072f[_0x5b8706(0x21f)]['add'](_0x5b8706(0x37a));const _0x175f3b=document[_0x5b8706(0xd7)](_0x5b8706(0x3b2)),_0x58b73b=document[_0x5b8706(0xd7)](_0x5b8706(0x2ec)),_0x221395=document[_0x5b8706(0xd7)]('enemy-pet-mana'),_0x5c2f0a=document[_0x5b8706(0xd7)](_0x5b8706(0x19a));_0x175f3b[_0x5b8706(0xf8)]=battleState[_0x5b8706(0x3f7)][_0x5b8706(0x2bc)],_0x58b73b[_0x5b8706(0xf8)]=enemyMaxHealth,_0x221395[_0x5b8706(0xf8)]=battleState[_0x5b8706(0x3f7)]['mana'],_0x5c2f0a[_0x5b8706(0xf8)]=enemyMaxMana,_0x175f3b[_0x5b8706(0x21f)][_0x5b8706(0x25a)](_0x5b8706(0x13b)),_0x58b73b[_0x5b8706(0x21f)][_0x5b8706(0x25a)](_0x5b8706(0x13b)),_0x221395['classList'][_0x5b8706(0x25a)](_0x5b8706(0x37a)),_0x5c2f0a[_0x5b8706(0x21f)]['add'](_0x5b8706(0x37a)),document[_0x5b8706(0xd7)](_0x5b8706(0x240))[_0x5b8706(0xf8)]=battleAttributes[_0x5b8706(0x18c)],document[_0x5b8706(0xd7)]('your-pet-physical-defense')[_0x5b8706(0xf8)]=battleAttributes[_0x5b8706(0x2bb)],document[_0x5b8706(0xd7)](_0x5b8706(0x4ab))[_0x5b8706(0xf8)]=battleAttributes['magicAttack'],document[_0x5b8706(0xd7)](_0x5b8706(0xa4))[_0x5b8706(0xf8)]=battleAttributes[_0x5b8706(0x33b)],document['getElementById'](_0x5b8706(0x1c6))[_0x5b8706(0xf8)]=battleAttributes[_0x5b8706(0x16e)],document[_0x5b8706(0xd7)](_0x5b8706(0x248))[_0x5b8706(0xf8)]=playerCultivation,document['getElementById'](_0x5b8706(0x1ef))['innerText']=playerCultivation,document[_0x5b8706(0xd7)](_0x5b8706(0x4a7))['innerText']=battleState[_0x5b8706(0x3f7)][_0x5b8706(0x18c)],document[_0x5b8706(0xd7)](_0x5b8706(0x46d))['innerText']=battleState[_0x5b8706(0x3f7)][_0x5b8706(0x2bb)],document[_0x5b8706(0xd7)](_0x5b8706(0x19f))[_0x5b8706(0xf8)]=battleState['enemy']['magicAttack'],document[_0x5b8706(0xd7)](_0x5b8706(0xfe))[_0x5b8706(0xf8)]=battleState[_0x5b8706(0x3f7)][_0x5b8706(0x33b)],document[_0x5b8706(0xd7)](_0x5b8706(0x464))['innerText']=battleState[_0x5b8706(0x3f7)][_0x5b8706(0x16e)];const _0x2e810c=document['getElementById'](_0x5b8706(0x3d6));_0x2e810c[_0x5b8706(0xf8)]=battleState['enemy']['cultivation'],document[_0x5b8706(0xd7)]('player-crit-rate')[_0x5b8706(0xf8)]=Math['round'](battleAttributes[_0x5b8706(0x333)]*0x64)+'%',document[_0x5b8706(0xd7)](_0x5b8706(0xf3))[_0x5b8706(0xf8)]=Math[_0x5b8706(0xe6)](battleAttributes[_0x5b8706(0x3ae)]*0x64)+'%',document[_0x5b8706(0xd7)](_0x5b8706(0x279))[_0x5b8706(0xf8)]=Math['round'](enemyCritRate*0x64)+'%',document[_0x5b8706(0xd7)](_0x5b8706(0x164))[_0x5b8706(0xf8)]=Math[_0x5b8706(0xe6)](enemyCritDamage*0x64)+'%',updatePlayerStatusDisplay(),updateEnemyStatusDisplay(),updatePetLevel(),getShieldStatus(),updateHealthAndManaDisplay(),calculateAndDisplayDodgeRate(),document['getElementById']('battleRounds')[_0x5b8706(0xf8)]=battleRounds;}document[_0x48f708(0xd7)](_0x48f708(0x1e6))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x5da5be=_0x48f708;if(!attributesFetched){showInfoBox(_0x5da5be(0x1e2));return;}const _0x28dd1c=calculateSkillAttributes(),_0x5d4f72=new Map([[_0x5da5be(0x2bc),_0x5da5be(0x31c)],['magicAttack',_0x5da5be(0x3a2)],['magicDefense','法术防御'],[_0x5da5be(0x15c),_0x5da5be(0x2cc)],[_0x5da5be(0x18c),_0x5da5be(0x322)],['physicalDefense',_0x5da5be(0x3b6)],[_0x5da5be(0x16e),'速度']]);let _0x173337='';for(const [_0x1a46f0,_0x25ad38]of Object[_0x5da5be(0xfd)](_0x28dd1c)){const _0x35fc50=_0x5d4f72[_0x5da5be(0x40b)](_0x1a46f0)||_0x1a46f0;_0x173337+=_0x35fc50+':\x20'+_0x25ad38+'\x0a';}showInfoBox(_0x5da5be(0x295)+_0x173337+_0x5da5be(0x44f));});function updateHealthAndManaDisplay(){const _0x564960=_0x48f708;updateDisplay('your-pet-health',_0x564960(0x3a1),'health',0x14,_0x564960(0x4c4)),updateDisplay('your-pet-mana',_0x564960(0x200),_0x564960(0x15c),0xa,_0x564960(0x39c)),updateDisplay(_0x564960(0x3b2),_0x564960(0x2ec),_0x564960(0x2bc),0x14,_0x564960(0x4c4)),updateDisplay(_0x564960(0x2c3),_0x564960(0x19a),_0x564960(0x15c),0xa,_0x564960(0x39c));}function updateDisplay(_0xa58699,_0x3a61b8,_0x59ec83,_0x4d869a,_0x1a59a3){const _0xa2440a=_0x48f708,_0x5abbef=document[_0xa2440a(0xd7)](_0xa58699),_0x1f35bd=document[_0xa2440a(0xd7)](_0x3a61b8),_0x541d5f=parseInt(_0x5abbef[_0xa2440a(0xf8)]),_0x3bb312=parseInt(_0x1f35bd['innerText']),_0x4c161d=_0x541d5f/_0x3bb312*0x64;let _0x49edee;if(_0x59ec83===_0xa2440a(0x2bc))_0xa58699==='your-pet-health'&&extraShield!==0x0?_0x49edee=_0xa2440a(0xc5):_0x49edee='linear-gradient(to\x20bottom,\x20#7E2723,\x20#9F322C,\x20#CB5D5A,\x20#CB5D5A,\x20#9F322C,\x20#7E2723)';else _0x59ec83===_0xa2440a(0x15c)&&(_0x49edee=_0xa2440a(0xf0));_0x5abbef[_0xa2440a(0x41c)]='\x0a\x20\x20\x20\x20<div\x20style=\x22z-index:1000;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%;\x20background-color:\x20#35472C;\x20overflow:\x20hidden;\x20position:\x20relative;\x20border:\x201px\x20solid\x20black;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22'+_0xa58699+_0xa2440a(0x11e)+_0x4c161d+'%;\x20height:\x20100%;\x20background:\x20'+_0x49edee+_0xa2440a(0xc3)+_0x541d5f+'/'+_0x3bb312+_0xa2440a(0xc6)+(_0x4c161d<_0x4d869a?_0xa2440a(0xba)+_0xa58699+_0xa2440a(0x16b)+_0x1a59a3+';\x20animation:\x20warning-blink\x201s\x20infinite;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0xa2440a(0x328),_0x1f35bd[_0xa2440a(0x338)]['display']='none';}let damageRatio=0x1;function calculateDamage(_0x5646e0,_0x52ef25,_0x12fec4,_0x2b2603=![]){const _0x4ca011=_0x48f708;_0x52ef25&&(_0x5646e0=Math[_0x4ca011(0x122)](_0x5646e0*_0x12fec4));_0x2b2603&&(_0x5646e0*=Math[_0x4ca011(0x122)](Math['max'](0x0,damageRatio)));try{const _0xc7b71b=getCurrentJingmaiState();if(_0xc7b71b&&_0xc7b71b[_0x4ca011(0x1d7)]){const _0x3db150=_0xc7b71b[_0x4ca011(0x1d7)][_0x4ca011(0x18a)]||0x0,_0x2367fb=getStageNumber(_0x3db150);if(_0x2367fb>0x1){const _0x16e243=0x1+_0x2367fb*0.02;_0x5646e0=Math[_0x4ca011(0x122)](_0x5646e0*_0x16e243);const _0x5a9f78=Math[_0x4ca011(0x140)]();let _0x1f7647=0x1;if(_0x2367fb>=0x2&&_0x2367fb<=0xa)_0x5a9f78<0.1&&(_0x1f7647=1.2);else{if(_0x2367fb>=0xb&&_0x2367fb<=0x14)_0x5a9f78<0.2&&(_0x1f7647=1.4);else{if(_0x2367fb>=0x15&&_0x2367fb<=0x1e)_0x5a9f78<0.3&&(_0x1f7647=1.6);else{if(_0x2367fb>=0x1f&&_0x2367fb<=0x28)_0x5a9f78<0.4&&(_0x1f7647=1.8);else _0x2367fb>=0x29&&(_0x5a9f78<0.5&&(_0x1f7647=0x2));}}}_0x1f7647>0x1&&(_0x5646e0=Math['floor'](_0x5646e0*_0x1f7647));}}}catch(_0x169f4a){console[_0x4ca011(0x14d)](_0x4ca011(0xf7),_0x169f4a);}return _0x5646e0;}function checkCriticalHit(_0x456cab){const _0x3e3d88=_0x48f708;return Math[_0x3e3d88(0x140)]()<_0x456cab;}function calculateAndDisplayDodgeRate(){const _0x3bfd8a=_0x48f708;let _0x1cc538,_0x305748,_0x253eb8=document[_0x3bfd8a(0xd7)](_0x3bfd8a(0x2d4)),_0x51f9e0=document['getElementById']('player-magic-dodge-rate'),_0x10fe9b=document[_0x3bfd8a(0xd7)](_0x3bfd8a(0x36e)),_0x4d9c40=document['getElementById']('enemy-magic-dodge-rate'),_0x2242b0=0x0;if(battleState[_0x3bfd8a(0x1bc)][_0x3bfd8a(0x135)])_0x2242b0=0.2;_0x1cc538=battleAttributes[_0x3bfd8a(0x16e)]-battleState[_0x3bfd8a(0x3f7)][_0x3bfd8a(0x16e)],_0x1cc538>0x0?(_0x253eb8[_0x3bfd8a(0xf8)]=(Math[_0x3bfd8a(0x2da)](Math[_0x3bfd8a(0xf1)](_0x1cc538)/0x9c4*0.01+_0x2242b0,0.8)*0x64)[_0x3bfd8a(0x42f)](0x2)+'%',_0x10fe9b[_0x3bfd8a(0xf8)]='0%'):(_0x10fe9b[_0x3bfd8a(0xf8)]=(Math[_0x3bfd8a(0x2da)](Math[_0x3bfd8a(0xf1)](_0x1cc538)/0x9c4*0.01,0.8)*0x64)[_0x3bfd8a(0x42f)](0x2)+'%',_0x253eb8[_0x3bfd8a(0xf8)]='0%'),_0x305748=playerCultivation-enemyPetCultivation,_0x305748>0x0?(_0x51f9e0['innerText']=(Math['min'](Math[_0x3bfd8a(0xf1)](_0x305748)/0x88b8*0.01+_0x2242b0,0.8)*0x64)[_0x3bfd8a(0x42f)](0x2)+'%',_0x4d9c40[_0x3bfd8a(0xf8)]='0%'):(_0x4d9c40[_0x3bfd8a(0xf8)]=(Math[_0x3bfd8a(0x2da)](Math[_0x3bfd8a(0xf1)](_0x305748)/0x88b8*0.01,0.8)*0x64)[_0x3bfd8a(0x42f)](0x2)+'%',_0x51f9e0[_0x3bfd8a(0xf8)]='0%');}function handleDodge(_0x2f6d26){const _0x54f139=_0x48f708;let _0x4e0135,_0x1cefa4=0x0,_0x21f99e,_0x42a0b8=0x0;if(battleState['player'][_0x54f139(0x135)])_0x42a0b8=0.2;if(_0x2f6d26===_0x54f139(0x1bc))_0x4e0135=battleAttributes[_0x54f139(0x16e)]-battleState[_0x54f139(0x3f7)][_0x54f139(0x16e)],_0x4e0135>0x0&&(_0x1cefa4=Math[_0x54f139(0x2da)](Math[_0x54f139(0xf1)](_0x4e0135)/0x9c4*0.01+_0x42a0b8,0.8)),_0x21f99e=document[_0x54f139(0xd7)](_0x54f139(0xcc)),console[_0x54f139(0x460)](_0x54f139(0x353)+_0x1cefa4);else{if(_0x2f6d26===_0x54f139(0x3f7))_0x4e0135=battleState['enemy']['speed']-battleAttributes[_0x54f139(0x16e)],_0x4e0135>0x0&&(_0x1cefa4=Math[_0x54f139(0x2da)](Math[_0x54f139(0xf1)](_0x4e0135)/0x9c4*0.01,0.8)),_0x21f99e=document[_0x54f139(0xd7)](_0x54f139(0x3df)),console[_0x54f139(0x460)]('敌人闪避概率为：'+_0x1cefa4);else return console['error'](_0x54f139(0xa7)),![];}const _0x3e31b2=Math['random'](),_0x3a969e=_0x3e31b2<_0x1cefa4;console[_0x54f139(0x460)]('闪避随机数为：'+_0x3e31b2);if(_0x3a969e)return _0x2f6d26===_0x54f139(0x1bc)?(_0x21f99e['style'][_0x54f139(0x1a5)]=_0x54f139(0x2d3),showEffect(_0x54f139(0x221),'https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png')):(_0x21f99e[_0x54f139(0x338)][_0x54f139(0x1a5)]=_0x54f139(0x2d3),showEffect(_0x54f139(0x475),'https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png')),setTimeout(()=>{const _0x317a4a=_0x54f139;_0x21f99e[_0x317a4a(0x338)][_0x317a4a(0x1a5)]='';},0x64),!![];return![];}function handleMagicDodge(_0x26e40a){const _0x8fe08c=_0x48f708;let _0x29d9d5,_0x3e1593=0x0,_0x21d921,_0x5481f3=0x0;if(battleState['player']['hidden'])_0x5481f3=0.2;if(_0x26e40a==='player')_0x29d9d5=playerCultivation-enemyPetCultivation,_0x29d9d5>0x0&&(_0x3e1593=Math[_0x8fe08c(0x2da)](Math['abs'](_0x29d9d5)/0x88b8*0.01+_0x5481f3,0.8)),battleState[_0x8fe08c(0x1bc)][_0x8fe08c(0x135)]&&(_0x3e1593=Math[_0x8fe08c(0x2da)](0.8,_0x3e1593+0.2)),_0x21d921=document['getElementById']('your-pet-image'),console[_0x8fe08c(0x460)](_0x8fe08c(0x198)+_0x3e1593);else{if(_0x26e40a===_0x8fe08c(0x3f7))_0x29d9d5=enemyPetCultivation-playerCultivation,_0x29d9d5>0x0&&(_0x3e1593=Math[_0x8fe08c(0x2da)](Math[_0x8fe08c(0xf1)](_0x29d9d5)/0x88b8*0.01,0.8)),_0x21d921=document[_0x8fe08c(0xd7)]('enemy-image'),console[_0x8fe08c(0x460)](_0x8fe08c(0x300)+_0x3e1593);else return console[_0x8fe08c(0x2b0)](_0x8fe08c(0x485)),![];}const _0x1f53a6=Math[_0x8fe08c(0x140)](),_0x5b5523=_0x1f53a6<_0x3e1593;console[_0x8fe08c(0x460)](_0x8fe08c(0x428)+_0x1f53a6);if(_0x5b5523)return _0x26e40a===_0x8fe08c(0x1bc)?(_0x21d921[_0x8fe08c(0x338)][_0x8fe08c(0x1a5)]=_0x8fe08c(0x2d3),showEffect(_0x8fe08c(0x221),_0x8fe08c(0x133))):(_0x21d921[_0x8fe08c(0x338)][_0x8fe08c(0x1a5)]='0.5',showEffect(_0x8fe08c(0x475),_0x8fe08c(0x133))),setTimeout(()=>{const _0x1d9b5e=_0x8fe08c;_0x21d921['style'][_0x1d9b5e(0x1a5)]='';},0x64),!![];return![];}function levelUpSkill(){const _0x58ef52=_0x48f708;if(battleState[_0x58ef52(0x1bc)][_0x58ef52(0x2f8)]){performAttack(_0x58ef52(0x406));return;}const _0x225f2b=document['createElement']('div');_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x3e4)]=_0x58ef52(0x35d),_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x4ba)]='0',_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x171)]='0',_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x34c)]='100%',_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x3ed)]=_0x58ef52(0x3f1),_0x225f2b['style']['backgroundColor']=_0x58ef52(0x3e7),_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x44e)]=_0x58ef52(0x283),_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x40d)]=_0x58ef52(0x3d1),_0x225f2b[_0x58ef52(0x338)]['alignItems']=_0x58ef52(0x3d1),_0x225f2b[_0x58ef52(0x338)][_0x58ef52(0x390)]=_0x58ef52(0xb5);const _0x2f9f5f=document[_0x58ef52(0x476)](_0x58ef52(0x1a4));_0x2f9f5f[_0x58ef52(0x338)]=_0x58ef52(0x411);const _0x523c22=document['createElement']('h2');_0x523c22[_0x58ef52(0xf8)]=_0x58ef52(0x16d),_0x523c22[_0x58ef52(0x338)][_0x58ef52(0x20b)]=_0x58ef52(0x3d1),_0x2f9f5f[_0x58ef52(0x431)](_0x523c22);const _0x1955b0=document[_0x58ef52(0x476)](_0x58ef52(0x47f));_0x1955b0[_0x58ef52(0xf8)]='X',_0x1955b0[_0x58ef52(0x338)][_0x58ef52(0x3e4)]=_0x58ef52(0x94),_0x1955b0[_0x58ef52(0x338)][_0x58ef52(0x4ba)]='10px',_0x1955b0['style'][_0x58ef52(0x284)]=_0x58ef52(0x358),_0x1955b0['style'][_0x58ef52(0x366)]='pointer',_0x1955b0[_0x58ef52(0x338)][_0x58ef52(0x36d)]='24px',_0x1955b0[_0x58ef52(0x338)][_0x58ef52(0x447)]=_0x58ef52(0x16f),_0x1955b0['onclick']=()=>document[_0x58ef52(0x1ba)][_0x58ef52(0x3b9)](_0x225f2b),_0x2f9f5f[_0x58ef52(0x431)](_0x1955b0);const _0x58168d=document['createElement']('div');_0x58168d[_0x58ef52(0x338)]['display']=_0x58ef52(0x331),_0x58168d[_0x58ef52(0x338)][_0x58ef52(0x447)]=_0x58ef52(0xe2),_0x58168d[_0x58ef52(0x338)][_0x58ef52(0x36d)]=_0x58ef52(0x3cf),_0x58168d[_0x58ef52(0x338)][_0x58ef52(0x421)]='repeat(4,\x201fr)',_0x58168d[_0x58ef52(0x338)][_0x58ef52(0x3c8)]=_0x58ef52(0x358),_0x2f9f5f[_0x58ef52(0x431)](_0x58168d);const _0x4ab0b6=document[_0x58ef52(0x476)](_0x58ef52(0x1a4));_0x4ab0b6[_0x58ef52(0xf8)]=_0x58ef52(0x137),_0x4ab0b6[_0x58ef52(0x338)]=_0x58ef52(0x415),_0x2f9f5f[_0x58ef52(0x431)](_0x4ab0b6);function _0x59f35e(){const _0x298282=_0x58ef52;_0x58168d[_0x298282(0x41c)]='';const _0x1854e0=document[_0x298282(0xd7)](_0x298282(0x420)),_0x5a445e=Array[_0x298282(0x28d)](_0x1854e0['children']),_0x1894f4=['PA','PAE','MA',_0x298282(0x3d4),'PP',_0x298282(0x4c3),'PH',_0x298282(0x176),'TC'];_0x5a445e[_0x298282(0x1ee)](_0x3aebeb=>{const _0x4ffc73=_0x298282,_0x21e923=_0x3aebeb['innerText'][_0x4ffc73(0x19e)]('\x20')[0x0],_0x221b18=currentPet[_0x4ffc73(0x23d)]['find'](_0x341e7a=>_0x341e7a[_0x4ffc73(0x2af)]===_0x21e923);if(_0x221b18){const _0x43ab70=calculateSkillLevelAndMultiplier(_0x221b18);_0x221b18[_0x4ffc73(0x456)]=_0x43ab70[_0x4ffc73(0x2ab)];const _0x1055e9=document[_0x4ffc73(0x476)]('div');_0x1055e9[_0x4ffc73(0xf8)]=_0x221b18[_0x4ffc73(0x2af)]+'\x20Lv'+_0x221b18[_0x4ffc73(0x456)],_0x1055e9[_0x4ffc73(0x338)][_0x4ffc73(0x2d8)]='10px',_0x1055e9[_0x4ffc73(0x338)][_0x4ffc73(0x242)]=_0x4ffc73(0x15d),_0x1055e9[_0x4ffc73(0x338)][_0x4ffc73(0x484)]='1px\x20solid\x20#000',_0x1055e9['style'][_0x4ffc73(0x2e5)]=_0x4ffc73(0x3b4),_0x1055e9[_0x4ffc73(0x338)]['cursor']=_0x4ffc73(0x3c0),_0x1055e9[_0x4ffc73(0x338)][_0x4ffc73(0x20b)]=_0x4ffc73(0x3d1),_0x1055e9[_0x4ffc73(0x338)][_0x4ffc73(0x175)]=_0x4ffc73(0x319),_0x1055e9[_0x4ffc73(0x2a4)]=()=>{const _0x5057f4=_0x4ffc73;document[_0x5057f4(0x208)]('.selected-skill')[_0x5057f4(0x1ee)](_0x13a1b0=>{const _0x341cb9=_0x5057f4;_0x13a1b0[_0x341cb9(0x21f)][_0x341cb9(0x130)](_0x341cb9(0x3fe)),_0x13a1b0[_0x341cb9(0x338)]['backgroundColor']=_0x341cb9(0x15d),_0x13a1b0[_0x341cb9(0x338)][_0x341cb9(0xe4)]=_0x341cb9(0x2d0);}),_0x1055e9['classList']['add'](_0x5057f4(0x3fe)),_0x1055e9[_0x5057f4(0x338)][_0x5057f4(0x242)]=_0x5057f4(0x237),_0x1055e9[_0x5057f4(0x338)][_0x5057f4(0xe4)]=_0x5057f4(0x29d);const _0x3fd8d9=calculateSkillLevelAndMultiplier(_0x221b18)['skillMultiplier'],_0x5502e8=_0x1894f4[_0x5057f4(0x255)](_0x221b18[_0x5057f4(0x34a)])?_0x5057f4(0xac)+Math['floor'](_0x3fd8d9*0x64)+'%':'';_0x4ab0b6[_0x5057f4(0xf8)]=_0x221b18['rarity']+'技能'+_0x5502e8+'，说明：'+_0x221b18['description'];},_0x58168d[_0x4ffc73(0x431)](_0x1055e9);}});}_0x59f35e();const _0x3ef57e=document['createElement'](_0x58ef52(0x1a4));_0x3ef57e[_0x58ef52(0x338)]['marginTop']=_0x58ef52(0x129),_0x3ef57e[_0x58ef52(0x338)][_0x58ef52(0x44e)]=_0x58ef52(0x283),_0x3ef57e[_0x58ef52(0x338)][_0x58ef52(0x488)]='row',_0x3ef57e[_0x58ef52(0x338)]['justifyContent']=_0x58ef52(0x497),_0x3ef57e[_0x58ef52(0x338)][_0x58ef52(0x20b)]=_0x58ef52(0x3d1),_0x2f9f5f[_0x58ef52(0x431)](_0x3ef57e);const _0x3a6ec4=document[_0x58ef52(0x476)]('button');_0x3a6ec4['innerText']=_0x58ef52(0x16d),_0x3a6ec4['style'][_0x58ef52(0x2d8)]=_0x58ef52(0x39a),_0x3a6ec4[_0x58ef52(0x338)][_0x58ef52(0x4a2)]=_0x58ef52(0xf5),_0x3a6ec4[_0x58ef52(0x338)][_0x58ef52(0x2e5)]=_0x58ef52(0x3b4),_0x3a6ec4['style'][_0x58ef52(0x484)]=_0x58ef52(0x46e),_0x3a6ec4[_0x58ef52(0x338)][_0x58ef52(0x242)]=_0x58ef52(0x384),_0x3a6ec4[_0x58ef52(0x338)]['color']='white',_0x3a6ec4[_0x58ef52(0x338)][_0x58ef52(0x366)]=_0x58ef52(0x3c0),_0x3a6ec4[_0x58ef52(0x338)]['fontSize']='12px',_0x3a6ec4['style'][_0x58ef52(0x175)]='background-color\x200.3s',_0x3a6ec4[_0x58ef52(0x17b)]=()=>_0x3a6ec4['style'][_0x58ef52(0x242)]=_0x58ef52(0x1f6),_0x3a6ec4[_0x58ef52(0x147)]=()=>_0x3a6ec4[_0x58ef52(0x338)]['backgroundColor']=_0x58ef52(0x384),_0x3a6ec4[_0x58ef52(0x2a4)]=()=>{handleLevelUp(),_0x59f35e();},_0x3ef57e[_0x58ef52(0x431)](_0x3a6ec4);const _0x268a90=document['createElement']('button');_0x268a90[_0x58ef52(0xf8)]=_0x58ef52(0x439),_0x268a90['style'][_0x58ef52(0x2d8)]='10px\x2020px',_0x268a90[_0x58ef52(0x338)][_0x58ef52(0x4a2)]=_0x58ef52(0xf5),_0x268a90['style']['borderRadius']=_0x58ef52(0x3b4),_0x268a90[_0x58ef52(0x338)]['border']='none',_0x268a90[_0x58ef52(0x338)][_0x58ef52(0x242)]='#ffc107',_0x268a90['style']['color']=_0x58ef52(0x16f),_0x268a90[_0x58ef52(0x338)]['cursor']=_0x58ef52(0x3c0),_0x268a90['style']['fontSize']=_0x58ef52(0x3cf),_0x268a90[_0x58ef52(0x338)][_0x58ef52(0x175)]=_0x58ef52(0x43d),_0x268a90['onmouseover']=()=>_0x268a90[_0x58ef52(0x338)][_0x58ef52(0x242)]=_0x58ef52(0x311),_0x268a90['onmouseout']=()=>_0x268a90[_0x58ef52(0x338)][_0x58ef52(0x242)]=_0x58ef52(0x9c),_0x268a90['onclick']=()=>{handleBulkLevelUp(),_0x59f35e();},_0x3ef57e['appendChild'](_0x268a90);const _0x511e95=document[_0x58ef52(0x476)](_0x58ef52(0x19d));_0x511e95[_0x58ef52(0xf8)]=_0x58ef52(0x461),_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x2d8)]=_0x58ef52(0x39a),_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x4a2)]=_0x58ef52(0xf5),_0x511e95['style'][_0x58ef52(0x2e5)]=_0x58ef52(0x3b4),_0x511e95['style'][_0x58ef52(0x484)]=_0x58ef52(0x46e),_0x511e95['style'][_0x58ef52(0x242)]=_0x58ef52(0x48e),_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x447)]=_0x58ef52(0x16f),_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x366)]=_0x58ef52(0x3c0),_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x36d)]=_0x58ef52(0x3cf),_0x511e95['style'][_0x58ef52(0x175)]=_0x58ef52(0x43d),_0x511e95[_0x58ef52(0x17b)]=()=>_0x511e95['style']['backgroundColor']=_0x58ef52(0x3e2),_0x511e95[_0x58ef52(0x147)]=()=>_0x511e95[_0x58ef52(0x338)][_0x58ef52(0x242)]='#17a2b8',_0x511e95['onclick']=()=>showInfoBox(_0x58ef52(0x2fd)),_0x3ef57e[_0x58ef52(0x431)](_0x511e95),_0x225f2b[_0x58ef52(0x431)](_0x2f9f5f),document[_0x58ef52(0x1ba)]['appendChild'](_0x225f2b);}function handleLevelUp(){const _0x42b832=_0x48f708,_0x3c95ff=document[_0x42b832(0x3ef)](_0x42b832(0x4a5));if(!_0x3c95ff){showInfoBox('请选择一个技能！');return;}const _0x54b9ce=_0x3c95ff[_0x42b832(0xf8)][_0x42b832(0x19e)]('\x20')[0x0],_0x104841=currentPet[_0x42b832(0x23d)][_0x42b832(0x125)](_0x27f6bb=>_0x27f6bb[_0x42b832(0x2af)]===_0x54b9ce);if(!_0x104841){showInfoBox(_0x42b832(0x222));return;}if(_0x104841[_0x42b832(0x456)]>=0x1e&&!_0x104841[_0x42b832(0x2f9)]){showInfoBox(_0x42b832(0x98),_0x42b832(0x19c));return;}if(_0x104841[_0x42b832(0x456)]>=0x6&&_0x104841[_0x42b832(0x34a)]==='NE'&&_0x104841[_0x42b832(0x2f9)]){_0x104841['level']=0x6;return;}if(_0x104841[_0x42b832(0x2f9)]){const _0x11147d=jinnangItems[_0x42b832(0x125)](_0x552065=>_0x552065[_0x42b832(0x2b5)]===_0x104841[_0x42b832(0x2af)]+'天赋书'&&_0x552065[_0x42b832(0x3a4)]>0x0);if(_0x11147d){return showCustomOptionsBox(_0x42b832(0x351)+_0x11147d[_0x42b832(0x2b5)]+_0x42b832(0x37e),[{'text':_0x42b832(0x31e),'onClick':function(){const _0x333619=_0x42b832;if(_0x104841['level']>0x63){showInfoBox(_0x333619(0x314),null,null,'red');return;}const _0x3e89de=jinnangItems[_0x333619(0x125)](_0x5ddb2a=>_0x5ddb2a[_0x333619(0x2af)]==='universalHeart'&&_0x5ddb2a[_0x333619(0x3a4)]>=0x5);_0x3e89de?(useItem(_0x333619(0x3db),0x5),_0x104841[_0x333619(0x456)]+=0x1,showInfoBox(_0x104841[_0x333619(0x2af)]+_0x333619(0x293)+_0x104841[_0x333619(0x456)]+'\x20级')):showInfoBox(_0x333619(0x180),null,null,_0x333619(0x19c));}},{'text':''+_0x11147d[_0x42b832(0x2b5)],'onClick':function(){const _0x55b293=_0x42b832;if(_0x104841['level']>0x63){showInfoBox('该技能已达到最大等级！',null,null,_0x55b293(0x19c));return;}Math['random']()<0.2?(useItem(_0x11147d[_0x55b293(0x2af)],0x1),_0x104841[_0x55b293(0x456)]+=0x1,showInfoBox(_0x55b293(0x36b)+_0x11147d[_0x55b293(0x2b5)]+'，'+_0x104841[_0x55b293(0x2af)]+'\x20成功升级至\x20'+_0x104841['level']+_0x55b293(0xc2))):(useItem(_0x11147d[_0x55b293(0x2af)],0x1),showInfoBox(_0x55b293(0x36b)+_0x11147d[_0x55b293(0x2b5)]+_0x55b293(0x49e)+_0x104841[_0x55b293(0x2af)]+_0x55b293(0x305),null,null,'red'));}}],'#92341C');return;}const _0x3c1b66=jinnangItems[_0x42b832(0x125)](_0x1fcb48=>_0x1fcb48['name']===_0x42b832(0x3db)&&_0x1fcb48[_0x42b832(0x3a4)]>=0x5);if(_0x3c1b66){if(_0x104841['level']>0x63){showInfoBox(_0x42b832(0x314),null,null,'red');return;}useItem(_0x42b832(0x3db),0x5),_0x104841[_0x42b832(0x456)]+=0x1,showInfoBox(_0x104841[_0x42b832(0x2af)]+_0x42b832(0x293)+_0x104841[_0x42b832(0x456)]+'\x20级');return;}else{showInfoBox('天赋高级技能需要使用特殊道具\x22宇宙之心\x22才能升级，请尝试获取后再操作',null,null,_0x42b832(0x19c));return;}}const _0x48f453=_0x44caf1=>Math[_0x42b832(0x140)]()<_0x44caf1;if(_0x104841[_0x42b832(0x456)]>=0x1c&&_0x104841['level']<=0x1d){if(useItem(_0x42b832(0x22f),0x5)){_0x48f453(0.4)?(_0x104841[_0x42b832(0x456)]+=0x1,showInfoBox(_0x104841['name']+_0x42b832(0x293)+_0x104841[_0x42b832(0x456)]+'\x20级')):showInfoBox(_0x104841[_0x42b832(0x2af)]+_0x42b832(0x24e),null,null,_0x42b832(0x19c));return;}else{showInfoBox(_0x42b832(0x2ea),null,null,_0x42b832(0x19c));return;}}if(_0x104841[_0x42b832(0x456)]>=0x18&&_0x104841[_0x42b832(0x456)]<=0x1b){if(useItem(_0x42b832(0x423),0x5)){_0x48f453(0.4)?(_0x104841[_0x42b832(0x456)]+=0x1,showInfoBox(_0x104841['name']+_0x42b832(0x293)+_0x104841[_0x42b832(0x456)]+'\x20级')):showInfoBox(_0x104841[_0x42b832(0x2af)]+'\x20升级失败！',null,null,_0x42b832(0x19c));return;}else{showInfoBox(_0x42b832(0x46b),null,null,'red');return;}}if(_0x104841[_0x42b832(0x456)]<0xa){showInfoBox(_0x42b832(0xd1));return;}if(_0x104841[_0x42b832(0x456)]>=0x14){showInfoBox(_0x42b832(0x150));return;}const _0x5b0419=_0x104841[_0x42b832(0x456)]+0x1,_0x2ad913=0x3e8+0xc8*(_0x5b0419-0xb);if(currentExp<_0x2ad913){showInfoBox('此次升级需要\x20'+_0x2ad913+_0x42b832(0x378));return;}currentExp-=_0x2ad913,_0x104841[_0x42b832(0x456)]=_0x5b0419,showInfoBox(_0x42b832(0x330)+_0x2ad913+_0x42b832(0x49a)+_0x104841[_0x42b832(0x2af)]+_0x42b832(0xa0)+_0x5b0419+_0x42b832(0x12b)),updateExpBar(currentExp,maxExp),updateUI();}function handleBulkLevelUp(){const _0x4f7d92=_0x48f708,_0x22d9d6=[];currentPet['skills'][_0x4f7d92(0x1ee)](_0xac7c57=>{const _0x1d0940=_0x4f7d92;while(!_0xac7c57['byLearned']&&_0xac7c57[_0x1d0940(0x456)]>=0xa&&_0xac7c57[_0x1d0940(0x456)]<0x14&&currentExp>=0x4b0+0xc8*(_0xac7c57['level']-0xa)){const _0x55bfe7=0x4b0+0xc8*(_0xac7c57[_0x1d0940(0x456)]-0xa);currentExp-=_0x55bfe7,_0xac7c57[_0x1d0940(0x456)]+=0x1,_0x22d9d6[_0x1d0940(0x153)]('你消耗了'+_0x55bfe7+_0x1d0940(0x4b8)+_0xac7c57['name']+_0x1d0940(0xa0)+_0xac7c57[_0x1d0940(0x456)]+_0x1d0940(0x12b));}}),_0x22d9d6[_0x4f7d92(0xd4)]===0x0?showInfoBox(_0x4f7d92(0x340)):showInfoBox(_0x22d9d6['join']('\x0a')),updateExpBar(currentExp,maxExp),updateUI();}function getSkillByType(_0x4aeddc){const _0x526169=_0x48f708,_0x35b4f7=document[_0x526169(0xd7)](_0x526169(0x420));if(!_0x35b4f7)return console['error'](_0x526169(0xce)),null;const _0x2654e1=Array[_0x526169(0x28d)](_0x35b4f7['children'])[_0x526169(0x355)](_0x5e6495=>{const _0x43b249=_0x526169,_0x1b128f=_0x5e6495[_0x43b249(0xf8)]['split']('\x20')[0x0],_0x20379f=currentPet[_0x43b249(0x23d)][_0x43b249(0x125)](_0x243f59=>_0x243f59[_0x43b249(0x2af)]===_0x1b128f&&_0x243f59[_0x43b249(0x34a)]===_0x4aeddc);return _0x20379f;})[_0x526169(0x32a)](_0xbecf44=>_0xbecf44!==null);return _0x2654e1[_0x526169(0xd4)]>0x0?_0x2654e1[Math[_0x526169(0x122)](Math[_0x526169(0x140)]()*_0x2654e1[_0x526169(0xd4)])]:null;}function calculateSkillLevelAndMultiplier(_0x1d6e93){const _0x5e88e5=_0x48f708;let _0x1b22ee=_0x1d6e93[_0x5e88e5(0x456)]||0x1;if(_0x1d6e93[_0x5e88e5(0x34a)]==='NE'&&_0x1d6e93['byLearned'])_0x1b22ee=Math['min'](0x6,Math[_0x5e88e5(0x122)](petLevel/0xa)+0x1);else _0x1b22ee<0xa&&(_0x1b22ee=Math[_0x5e88e5(0x2da)](0xa,Math[_0x5e88e5(0x122)](petLevel/0xa)+0x1));const _0x4eb88c=_0x1d6e93[_0x5e88e5(0x14f)]*(0x1+0.1*(_0x1b22ee-0x1));return{'skillLevel':_0x1b22ee,'skillMultiplier':_0x4eb88c};}function selectSkillAndCalculateMultiplier(_0x49cab9){const _0x4b1ee9=_0x48f708;let _0xd561cd=[],_0x7bf2d7=0x1,_0x2ac6e0=0x1,_0x3da685=![];const _0x5b1ffa=document['getElementById'](_0x4b1ee9(0x420)),_0x3c2d02=Array[_0x4b1ee9(0x28d)](_0x5b1ffa['children']);_0x3c2d02[_0x4b1ee9(0x1ee)](_0x2067c0=>{const _0x2c1241=_0x4b1ee9,_0xda680=_0x2067c0[_0x2c1241(0xf8)][_0x2c1241(0x19e)]('\x20')[0x0],_0x233e6f=currentPet[_0x2c1241(0x23d)][_0x2c1241(0x125)](_0x377d7a=>_0x377d7a[_0x2c1241(0x2af)]===_0xda680);if(_0x233e6f){if(_0x49cab9===_0x2c1241(0x406)&&(_0x233e6f[_0x2c1241(0x34a)]==='PA'||_0x233e6f['type']===_0x2c1241(0x12a)))_0xd561cd[_0x2c1241(0x153)](_0x233e6f);else _0x49cab9===_0x2c1241(0x186)&&(_0x233e6f['type']==='MA'||_0x233e6f['type']===_0x2c1241(0x3d4))&&_0xd561cd['push'](_0x233e6f);}});const _0x59c219=Math[_0x4b1ee9(0x122)](Math['random']()*_0xd561cd['length']),_0x255392=_0xd561cd[_0x59c219];if(_0xd561cd[_0x4b1ee9(0xd4)]>0x0){const _0x3c210e=calculateSkillLevelAndMultiplier(_0x255392);_0x2ac6e0=_0x3c210e[_0x4b1ee9(0x2ab)],_0x7bf2d7=_0x3c210e['skillMultiplier'],_0x3da685=!![],logBattleEvent(_0x4b1ee9(0x114)+_0x255392[_0x4b1ee9(0x2af)]+'\x20'+_0x2ac6e0+'级。',_0x4b1ee9(0x3f4),_0x4b1ee9(0x129));if(_0x49cab9===_0x4b1ee9(0x406)){const _0x39052d=Math['floor'](Math[_0x4b1ee9(0x140)]()*(0xc8-0x32+0x1)*_0x2ac6e0);battleAttributes[_0x4b1ee9(0x15c)]=Math['max'](0x0,battleAttributes['mana']-_0x39052d),showEffect(_0x4b1ee9(0x475),_0x4b1ee9(0x213));}else _0x49cab9===_0x4b1ee9(0x186)&&showEffect('playerEffect',_0x4b1ee9(0x202));}else{if(_0x49cab9==='physical')logBattleEvent(_0x4b1ee9(0x166),null,_0x4b1ee9(0x129)),showEffect(_0x4b1ee9(0x475),_0x4b1ee9(0x1e3));else _0x49cab9===_0x4b1ee9(0x186)&&(logBattleEvent('⚔️【玩家攻击】你操控小树枝击向了对方。',null,_0x4b1ee9(0x129)),showEffect(_0x4b1ee9(0x475),_0x4b1ee9(0x3a7)));}return{'skillMultiplier':_0x7bf2d7,'isSkillUsed':_0x3da685,'selectedSkill':_0x255392};}function performAttack(_0x349f6d){const _0x62cc46=_0x48f708;if(!attributesFetched||!battleState||!battleState[_0x62cc46(0x3f7)]||!playerTurn)return;let _0x2c57f7=battleState[_0x62cc46(0x1bc)][_0x62cc46(0x2f8)]?_0x62cc46(0x406):_0x349f6d;const {skillMultiplier:_0x4d6d4e,isSkillUsed:_0x4c6c96,selectedSkill:_0x580abf}=selectSkillAndCalculateMultiplier(_0x2c57f7);let _0x374059=0x0,_0x3af149=![];if(_0x580abf&&(_0x580abf[_0x62cc46(0x34a)]===_0x62cc46(0x12a)||_0x580abf[_0x62cc46(0x34a)]===_0x62cc46(0x3d4)))applySpecialSkillEffects(_0x580abf);else{if(_0x2c57f7===_0x62cc46(0x406))_0x374059=performPhysicalAttack(_0x4d6d4e,_0x4c6c96,_0x580abf),handlePostAttackEffects(_0x2c57f7,_0x374059,{'selectedSkill':_0x580abf,'isCritical':checkCriticalHit(battleState[_0x62cc46(0x1bc)]['critRate']),'skillMultiplier':_0x4d6d4e});else{const _0x30317b=performMagicalAttack(_0x4d6d4e,_0x4c6c96,_0x580abf);if(_0x30317b[_0x62cc46(0x457)]){performAttack(_0x62cc46(0x406));return;}_0x374059=_0x30317b[_0x62cc46(0x276)],handlePostAttackEffects(_0x2c57f7,_0x374059,{'selectedSkill':_0x580abf,'isCritical':checkCriticalHit(battleState[_0x62cc46(0x1bc)][_0x62cc46(0x333)]),'skillMultiplier':_0x4d6d4e});}}if(battleState[_0x62cc46(0x3f7)][_0x62cc46(0x2bc)]<=0x0){updateEnemyAttributes(),showNextBattlePrompt(!![]);return;}else{if(battleAttributes[_0x62cc46(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}}playerTurn=![],updateUI();};function performPhysicalAttack(_0x380de7,_0x41a0b9,_0x3c3c47){const _0x472a03=_0x48f708,_0x16a852=Math[_0x472a03(0x140)]()*(1.2-0.8)+0.8,_0x24d3f9=battleState[_0x472a03(0x3f7)][_0x472a03(0x2bb)]*_0x16a852,_0x58caa9=f(_0x24d3f9),_0x43d451=Math[_0x472a03(0xe6)](battleState[_0x472a03(0x3f7)][_0x472a03(0x2bb)]*0.1);let _0x5cec09;_0x58caa9!==0x0?_0x5cec09=Math[_0x472a03(0x309)](0x1,Math[_0x472a03(0x122)](battleAttributes[_0x472a03(0x18c)]*_0x380de7*(0x1-_0x58caa9))):_0x5cec09=Math[_0x472a03(0x309)](0x1,Math[_0x472a03(0x122)](battleAttributes[_0x472a03(0x18c)]*_0x380de7));if(battleState['player'][_0x472a03(0x2f2)])return logBattleEvent(_0x472a03(0x395),'yellow'),playerTurn=![],0x0;if(handleDodge('enemy'))return playerTurn=![],0x0;(ascensionSkill[_0x472a03(0x2af)]===_0x472a03(0x30e)||secondAscensionSkill[_0x472a03(0x2af)]===_0x472a03(0x30e))&&battleState[_0x472a03(0x3f7)][_0x472a03(0x2bc)]/enemyMaxHealth>battleState[_0x472a03(0x1bc)][_0x472a03(0x2b6)]&&(_0x5cec09=Math[_0x472a03(0x122)](_0x5cec09*1.4));battleState[_0x472a03(0x1bc)][_0x472a03(0x2f8)]&&(_0x5cec09=Math[_0x472a03(0x122)](_0x5cec09*1.2),logBattleEvent(_0x472a03(0x3be),_0x472a03(0x19c)));let _0x19d5d6=checkCriticalHit(battleState[_0x472a03(0x1bc)][_0x472a03(0x333)]),_0x2a5c85=calculateDamage(_0x5cec09,_0x19d5d6,battleState['player']['critDamage'],!![]);const _0x59c5ea=applyWuxingEffects();let _0x1d19f9=0x0;if(_0x59c5ea['fireAmulet']&&_0x59c5ea[_0x472a03(0x14b)]>0x0){const _0x235275=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x59c5ea['fireAmulet']];_0x1d19f9=Math['floor'](_0x2a5c85*_0x235275),_0x2a5c85=Math['floor'](_0x2a5c85*(0x1+_0x235275)),!isNaN(_0x1d19f9)&&_0x1d19f9>0x0&&logBattleEvent(_0x472a03(0x467)+_0x1d19f9+'\x20点。',_0x472a03(0x290));}_0x2a5c85=Math[_0x472a03(0x309)](0x1,_0x2a5c85-_0x43d451);enemyRivival&&(_0x2a5c85=Math[_0x472a03(0x122)](0.1*_0x2a5c85));battleState['enemy'][_0x472a03(0x2bc)]=Math[_0x472a03(0x309)](0x0,battleState['enemy'][_0x472a03(0x2bc)]-_0x2a5c85);_0x19d5d6?(logBattleEvent(_0x472a03(0x215)+_0x2a5c85+_0x472a03(0x2e2),'red'),updateDamageValue(_0x2a5c85,![],'damage',!![]),showEffect(_0x472a03(0x475),_0x472a03(0x399))):(updateDamageValue(_0x2a5c85,![],'damage'),logBattleEvent(_0x472a03(0x17d)+_0x2a5c85+_0x472a03(0x483),_0x472a03(0x16f)));waterAmuletTriggered&&updateDamageValue(_0x2a5c85,![],_0x472a03(0x1c4));const _0x59bc69=applySuitEffects?applySuitEffects():0x0;if(_0x59bc69>=0x8&&_0x2a5c85>0x0){if(Math[_0x472a03(0x140)]()<0.2){const _0x25b673=Math[_0x472a03(0x2da)](0x7a120,Math[_0x472a03(0x122)](_0x2a5c85*0.005));battleAttributes['health']=Math[_0x472a03(0x2da)](maxHealth,battleAttributes[_0x472a03(0x2bc)]+_0x25b673),updateDamageValue(-_0x25b673,!![],'extra-damage'),logBattleEvent('✨【套装效果】觉醒套装之力吸取了\x20'+_0x25b673+_0x472a03(0x400),_0x472a03(0x2a8),_0x472a03(0x42b)),updateUI();}}if(ascensionSkill[_0x472a03(0x2af)]===_0x472a03(0x158)||secondAscensionSkill['name']==='吸血魔刃'){const _0x4935d8=(ascensionSkill['name']===_0x472a03(0x158)?ascensionSkill:secondAscensionSkill)[_0x472a03(0x2de)]((ascensionSkill[_0x472a03(0x2af)]===_0x472a03(0x158)?ascensionSkill:secondAscensionSkill)[_0x472a03(0x456)])/0x64,_0x16e63d=Math[_0x472a03(0x122)](_0x2a5c85*_0x4935d8);battleAttributes['health']=Math['min'](maxHealth,battleAttributes['health']+_0x16e63d),logBattleEvent(_0x472a03(0x26b)+_0x16e63d+'\x20点生命值。',_0x472a03(0x19c)),updateUI();}return battleState[_0x472a03(0x3f7)]['pierced']&&handlePierced(),applyPhysicalAttackEffects(_0x41a0b9?_0x380de7:0x1),_0x3c3c47&&_0x3c3c47['type']===_0x472a03(0x12a)&&applySpecialSkillEffects(_0x3c3c47),console['log'](_0x3c3c47),_0x2a5c85;}function performMagicalAttack(_0x189edd,_0x5ea658,_0x3942d5){const _0xfa978e=_0x48f708;let _0x2abe30=0x1;battleState['player'][_0xfa978e(0x2dc)]&&(_0x2abe30=0x1f4);if(battleAttributes[_0xfa978e(0x15c)]<0x32*_0x2abe30)return logBattleEvent(_0xfa978e(0x38a)),{'damage':0x0,'retryPhysical':!![]};const _0x4b5336=Math[_0xfa978e(0x140)]()*(1.2-0.8)+0.8,_0x2c8aeb=battleState[_0xfa978e(0x3f7)][_0xfa978e(0x33b)]*_0x4b5336,_0x5b7c7e=f(_0x2c8aeb),_0x3360e1=Math[_0xfa978e(0xe6)](battleState[_0xfa978e(0x3f7)][_0xfa978e(0x33b)]*0.1);let _0x3373be;_0x5b7c7e!==0x0?_0x3373be=Math[_0xfa978e(0x309)](0x1,Math[_0xfa978e(0x122)](battleAttributes[_0xfa978e(0x381)]*0.8*_0x189edd*(0x1-_0x5b7c7e))):_0x3373be=Math[_0xfa978e(0x309)](0x1,Math[_0xfa978e(0x122)](battleAttributes[_0xfa978e(0x381)]*0.8*_0x189edd));const _0x3ee626=Math[_0xfa978e(0x122)](Math[_0xfa978e(0x140)]()*(0xc8-0x32+0x1)+0x32+battleRounds*0x14*_0x189edd)*_0x2abe30;battleAttributes[_0xfa978e(0x15c)]=Math['max'](0x0,battleAttributes[_0xfa978e(0x15c)]-_0x3ee626);if(handleMagicDodge(_0xfa978e(0x3f7)))return playerTurn=![],0x0;let _0x196396=checkCriticalHit(battleState[_0xfa978e(0x1bc)][_0xfa978e(0x333)]),_0x3a2f9e=calculateDamage(_0x3373be,_0x196396,battleState[_0xfa978e(0x1bc)][_0xfa978e(0x3ae)],!![]);const _0x241740=applyWuxingEffects();let _0x443fb7=0x0;if(_0x241740[_0xfa978e(0x14b)]&&_0x241740['fireAmulet']>0x0){const _0x4046ac=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x241740['fireAmulet']];_0x443fb7=Math[_0xfa978e(0x122)](_0x3a2f9e*_0x4046ac),_0x3a2f9e=Math['floor'](_0x3a2f9e*(0x1+_0x4046ac)),!isNaN(_0x443fb7)&&_0x443fb7>0x0&&logBattleEvent(_0xfa978e(0x467)+_0x443fb7+_0xfa978e(0x1a9),_0xfa978e(0x290));}_0x3a2f9e=Math[_0xfa978e(0x309)](0x1,_0x3a2f9e-_0x3360e1);enemyRivival&&(_0x3a2f9e=Math['floor'](0.1*_0x3a2f9e));battleState[_0xfa978e(0x3f7)][_0xfa978e(0x2bc)]=Math[_0xfa978e(0x309)](0x0,battleState[_0xfa978e(0x3f7)][_0xfa978e(0x2bc)]-_0x3a2f9e);_0x196396?(logBattleEvent(_0xfa978e(0x215)+_0x3a2f9e+_0xfa978e(0x1dd)+_0x3ee626+'\x20点法力值！',_0xfa978e(0x19c)),updateDamageValue(_0x3a2f9e,![],_0xfa978e(0x276),!![]),showEffect(_0xfa978e(0x475),'https://pic.imgdb.cn/item/668a30dbd9c307b7e9c54fff.gif')):(logBattleEvent(_0xfa978e(0x169)+_0x3a2f9e+_0xfa978e(0x1dd)+_0x3ee626+_0xfa978e(0x30f),_0xfa978e(0x252)),updateDamageValue(_0x3a2f9e,![],_0xfa978e(0x276)),showEffect(_0xfa978e(0x475),_0xfa978e(0x344)));waterAmuletTriggered&&updateDamageValue(_0x3a2f9e,![],_0xfa978e(0x1c4));const _0x7f8b3d=applySuitEffects?applySuitEffects():0x0;if(_0x7f8b3d>=0x8&&_0x3a2f9e>0x0){if(Math[_0xfa978e(0x140)]()<0.2){const _0x10085e=Math[_0xfa978e(0x2da)](0x7a120,Math[_0xfa978e(0x122)](_0x3a2f9e*0.005));battleAttributes['health']=Math[_0xfa978e(0x2da)](maxHealth,battleAttributes[_0xfa978e(0x2bc)]+_0x10085e),updateDamageValue(-_0x10085e,!![],_0xfa978e(0x1c4)),logBattleEvent(_0xfa978e(0x244)+_0x10085e+'\x20点生命值。',_0xfa978e(0x3f4)),updateUI();}}return battleState[_0xfa978e(0x3f7)]['pierced']&&handlePierced(),(ascensionSkill[_0xfa978e(0x2af)]===_0xfa978e(0x13d)||secondAscensionSkill[_0xfa978e(0x2af)]===_0xfa978e(0x13d))&&Math['random']()*0x64<battleState[_0xfa978e(0x1bc)]['spellMasteryChance']&&performIndependentMagicAttack(),applyMagicAttackEffects(_0x3a2f9e,_0x5ea658?_0x189edd:0x1),_0x3942d5&&_0x3942d5[_0xfa978e(0x34a)]===_0xfa978e(0x3d4)&&applySpecialSkillEffects(_0x3942d5),{'damage':_0x3a2f9e,'retryPhysical':![]};}function handlePostAttackEffects(_0x2f3ce6,_0x59ae6d,_0x2d60df){const _0x326b72=_0x48f708,{selectedSkill:_0x561237,isCritical:isCritical=![],skillMultiplier:skillMultiplier=0x1}=_0x2d60df||{};waterAmuletTriggered&&(updateDamageValue(_0x59ae6d,![],_0x326b72(0x1c4)),waterAmuletTriggered=![]);battleState[_0x326b72(0x3f7)][_0x326b72(0x3c5)]&&handlePierced();if(_0x2f3ce6===_0x326b72(0x406)){if(ascensionSkill['name']==='吸血魔刃'||secondAscensionSkill['name']===_0x326b72(0x158)){const _0xcca8a=(ascensionSkill[_0x326b72(0x2af)]===_0x326b72(0x158)?ascensionSkill:secondAscensionSkill)[_0x326b72(0x2de)]((ascensionSkill[_0x326b72(0x2af)]===_0x326b72(0x158)?ascensionSkill:secondAscensionSkill)['level'])/0x64,_0x588e53=Math['floor'](_0x59ae6d*_0xcca8a);battleAttributes['health']=Math[_0x326b72(0x2da)](maxHealth,battleAttributes[_0x326b72(0x2bc)]+_0x588e53),logBattleEvent(_0x326b72(0x26b)+_0x588e53+'\x20点生命值。',_0x326b72(0x19c));}_0x561237&&applyPhysicalAttackEffects(skillMultiplier);}_0x2f3ce6===_0x326b72(0x186)&&((ascensionSkill[_0x326b72(0x2af)]==='法术精通'||secondAscensionSkill[_0x326b72(0x2af)]===_0x326b72(0x13d))&&Math[_0x326b72(0x140)]()*0x64<battleState[_0x326b72(0x1bc)][_0x326b72(0x3f9)]&&performIndependentMagicAttack(),_0x561237&&applyMagicAttackEffects(_0x59ae6d,skillMultiplier)),handleShocked(),applyDefenseBonusEffect(),handleManaRecover(),applyAscensionEffects(),checkBattleState(_0x59ae6d),updateUI(),updateEnemyStatusDisplay();}function checkBattleState(_0x1360b5){const _0xab0c8a=_0x48f708;if(battleState[_0xab0c8a(0x3f7)][_0xab0c8a(0x2bc)]<=0x0)return updateEnemyAttributes(),showNextBattlePrompt(!![]),!![];if(battleAttributes[_0xab0c8a(0x2bc)]<=0x0)return showNextBattlePrompt(![]),!![];return![];}function f(_0x2a11c4){const _0xcb0b77=_0x48f708,_0x36cf79=_0x2a11c4/(_0x2a11c4+0x493e0)-0.1;return Math[_0xcb0b77(0x309)](_0x36cf79,0x0);}function checkWaterAmuletChance(){const _0x5bbbd6=_0x48f708,_0x2a01ca=applyWuxingEffects();if(_0x2a01ca[_0x5bbbd6(0x3f3)]&&_0x2a01ca['waterAmulet']>0x0){const _0x1b0893=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x2a01ca[_0x5bbbd6(0x3f3)]];if(Math[_0x5bbbd6(0x140)]()<_0x1b0893)return!![];}return![];}function handleWaterAmuletEffect(_0x48bf26,_0x88e895){const _0x12c3da=_0x48f708;logBattleEvent('🔵奥义·水之再动！！',_0x12c3da(0xd8)),performAttack(_0x48bf26);}const DamageDisplayManager={'damageContainers':{'player':null,'enemy':null},'initialize'(){const _0x236c5c=_0x48f708,_0x1bf272=document['createElement']('div');_0x1bf272['id']=_0x236c5c(0x11a),_0x1bf272[_0x236c5c(0x338)][_0x236c5c(0xbf)]=_0x236c5c(0x2c8);const _0x6d788a=document[_0x236c5c(0x476)](_0x236c5c(0x1a4));_0x6d788a['id']='enemy-damage-container',_0x6d788a[_0x236c5c(0x338)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['body'][_0x236c5c(0x431)](_0x1bf272),document[_0x236c5c(0x1ba)][_0x236c5c(0x431)](_0x6d788a),this[_0x236c5c(0x1f7)][_0x236c5c(0x1bc)]=_0x1bf272,this['damageContainers']['enemy']=_0x6d788a;},'createDamageElement'(_0x5868f0,_0x275bb8,_0x4221a4,_0x5bb224){const _0x39ee66=_0x48f708,_0x5b2653=document['createElement']('div');_0x5b2653['style'][_0x39ee66(0x3e4)]=_0x39ee66(0x107);const _0x4412ef=_0x5bb224?_0x39ee66(0x106):'floatUpLeft';_0x5b2653[_0x39ee66(0x338)][_0x39ee66(0x3a5)]=_0x4412ef+'\x200.8s\x20ease-out\x20forwards';if(_0x5868f0>=0x0)_0x5b2653['innerText']='-'+_0x5868f0,_0x4221a4?_0x5b2653[_0x39ee66(0x338)][_0x39ee66(0xbf)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20red;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x20-2px\x20-2px\x200\x20#8a2e27,\x202px\x20-2px\x200\x20#8a2e27,\x20-2px\x202px\x200\x20#8a2e27,\x202px\x202px\x200\x20#8a2e27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bolder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20'+(_0x5bb224?'floatUpRightCritical':_0x39ee66(0x1dc))+_0x39ee66(0x21d):_0x5b2653[_0x39ee66(0x338)]['cssText']+=_0x39ee66(0x294);else{const _0x916860=Math[_0x39ee66(0xf1)](_0x5868f0);_0x5b2653[_0x39ee66(0xf8)]='+'+_0x916860,_0x5b2653[_0x39ee66(0x338)][_0x39ee66(0xbf)]+=_0x39ee66(0x323)+(_0x5bb224?_0x39ee66(0x380):_0x39ee66(0x1dc))+_0x39ee66(0x3bd);}return _0x5b2653;}},style=document[_0x48f708(0x476)](_0x48f708(0x338));style[_0x48f708(0x324)]=_0x48f708(0x43b),document['head']['appendChild'](style);function updateDamageValue(_0x80387e,_0x378d5f=![],_0x58bb9f=_0x48f708(0x276),_0x5d3818=![]){const _0x1ce00a=_0x48f708;!DamageDisplayManager[_0x1ce00a(0x1f7)]['player']&&DamageDisplayManager[_0x1ce00a(0x332)]();if(isNaN(_0x80387e)){console[_0x1ce00a(0x2b0)](_0x1ce00a(0x449));return;}const _0x2119c7=_0x378d5f?DamageDisplayManager[_0x1ce00a(0x1f7)][_0x1ce00a(0x1bc)]:DamageDisplayManager[_0x1ce00a(0x1f7)][_0x1ce00a(0x3f7)],_0x181979=DamageDisplayManager[_0x1ce00a(0x204)](_0x80387e,_0x58bb9f,_0x5d3818,_0x378d5f);_0x2119c7['appendChild'](_0x181979),setTimeout(()=>{const _0x35ecc3=_0x1ce00a;_0x2119c7[_0x35ecc3(0x1d0)](_0x181979)&&_0x2119c7['removeChild'](_0x181979);},0x4b0);}function ensureCompatibility(){const _0x565b15=_0x48f708,_0xff2a77=['player-damage-value',_0x565b15(0x289),_0x565b15(0x3aa),'enemy-extra-damage-value'];_0xff2a77[_0x565b15(0x1ee)](_0x2047b9=>{const _0x34be8c=_0x565b15;if(!document['getElementById'](_0x2047b9)){const _0x56f5bf=document[_0x34be8c(0x476)](_0x34be8c(0x1a4));_0x56f5bf['id']=_0x2047b9,_0x56f5bf[_0x34be8c(0x338)][_0x34be8c(0x44e)]='none',document['body'][_0x34be8c(0x431)](_0x56f5bf);}});}function checkTrumpCardState(){const _0x284203=_0x48f708,_0x1e7e2f=[],_0x488c99=document[_0x284203(0xd7)](_0x284203(0x420));_0x488c99&&Array['from'](_0x488c99[_0x284203(0x34b)])[_0x284203(0x1ee)](_0x42c38d=>{const _0x57ec5c=_0x284203,_0x5965e9=_0x42c38d[_0x57ec5c(0xf8)][_0x57ec5c(0x19e)]('\x20')[0x0],_0x272513=currentPet['skills'][_0x57ec5c(0x125)](_0x2a50f5=>_0x2a50f5[_0x57ec5c(0x2af)]===_0x5965e9&&_0x2a50f5[_0x57ec5c(0x34a)]==='TC');_0x272513&&_0x1e7e2f[_0x57ec5c(0x153)](_0x272513);});if(_0x1e7e2f[_0x284203(0xd4)]===0x0)return{'exists':![],'skill':null};let _0x1a7e1f=_0x1e7e2f[0x0];if(_0x1e7e2f[_0x284203(0xd4)]>0x1){const _0xc6d635=Math[_0x284203(0x122)](Math[_0x284203(0x140)]()*_0x1e7e2f['length']);_0x1a7e1f=_0x1e7e2f[_0xc6d635];}return{'exists':!![],'skill':_0x1a7e1f};}function checkLifeSpan(_0x389214){const _0x354c9c=_0x48f708,_0x2ced4a=currentLifeSpan-_0x389214;if(_0x2ced4a<0x0)return logBattleEvent(_0x354c9c(0x393),_0x354c9c(0x2b1)),![];return currentLifeSpan-=_0x389214,!![];}function recoverLifeSpan(_0x166af0){const _0x49624f=_0x48f708;currentLifeSpan=Math['floor'](Math[_0x49624f(0x2da)](maxLifeSpan,currentLifeSpan+_0x166af0));}function performTrumpCard(){const _0x5402d8=_0x48f708,_0x553e46=checkTrumpCardState();if(!_0x553e46[_0x5402d8(0xbe)]){logBattleEvent(_0x5402d8(0x3b7),'red');return;}if(!playerTurn)return;const _0x35566f=_0x553e46[_0x5402d8(0x1ad)],_0x3123fb=calculateSkillLevelAndMultiplier(_0x35566f);applySpecialSkillEffects(_0x35566f);if(battleAttributes[_0x5402d8(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x5402d8(0x3f7)]['health']<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function performIndependentMagicAttack(){const _0x39abb1=_0x48f708,_0x5659c9=document['getElementById']('skills-area'),_0xd52e9d=Array[_0x39abb1(0x28d)](_0x5659c9[_0x39abb1(0x34b)]),_0x221c9f=_0xd52e9d['map'](_0x334077=>_0x334077[_0x39abb1(0xf8)][_0x39abb1(0x19e)]('\x20')[0x0])[_0x39abb1(0x355)](_0x4b0b6e=>currentPet[_0x39abb1(0x23d)]['find'](_0x2cccf3=>_0x2cccf3[_0x39abb1(0x2af)]===_0x4b0b6e&&_0x2cccf3['type']==='MA'||_0x4b0b6e&&_0x2cccf3['type']===_0x39abb1(0x3d4)))['filter'](_0x35fda9=>_0x35fda9);let _0x4ce354=0x1,_0x331a57=0x1;if(_0x221c9f[_0x39abb1(0xd4)]>0x0){const _0x53d8cc=Math['floor'](Math['random']()*_0x221c9f[_0x39abb1(0xd4)]),_0x34da83=_0x221c9f[_0x53d8cc],_0x48dccf=calculateSkillLevelAndMultiplier(_0x34da83);_0x331a57=_0x48dccf['skillLevel'],_0x4ce354=_0x48dccf[_0x39abb1(0x1fb)],logBattleEvent(_0x39abb1(0x339)+_0x34da83[_0x39abb1(0x2af)]+'\x20'+_0x331a57+'级。',_0x39abb1(0x252));}else logBattleEvent(_0x39abb1(0x382),_0x39abb1(0x252));let _0x19b2e7=0x1;battleState['player']['spellSlow']&&(_0x19b2e7=0x1f4,logBattleEvent(_0x39abb1(0x217),'grey'));const _0x41b997=Math['random']()*(1.2-0.8)+0.8,_0x18529e=battleState['enemy'][_0x39abb1(0x33b)]*_0x41b997,_0x3419f9=f(_0x18529e),_0x5ef65c=Math[_0x39abb1(0xe6)](battleState[_0x39abb1(0x3f7)][_0x39abb1(0x33b)]*0.1);let _0x44ce52;_0x3419f9!==0x0?_0x44ce52=Math[_0x39abb1(0x309)](0x1,Math['floor'](battleAttributes[_0x39abb1(0x381)]*0.8*_0x4ce354*(0x1-_0x3419f9))):_0x44ce52=Math[_0x39abb1(0x309)](0x1,Math[_0x39abb1(0x122)](battleAttributes[_0x39abb1(0x381)]*0.8*_0x4ce354));let _0x116ec4=checkCriticalHit(battleState[_0x39abb1(0x1bc)][_0x39abb1(0x333)]);if(handleMagicDodge(_0x39abb1(0x3f7)))return playerTurn=![],0x0;let _0xeee730=calculateDamage(_0x44ce52,_0x116ec4,battleState[_0x39abb1(0x1bc)]['critDamage'],!![]);const _0x3951b6=applyWuxingEffects();let _0x5cc7b9=0x0;if(_0x3951b6[_0x39abb1(0x14b)]&&_0x3951b6['fireAmulet']>0x0){const _0x233e6d=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x3951b6[_0x39abb1(0x14b)]];_0x5cc7b9=Math['floor'](_0xeee730*_0x233e6d),_0xeee730=Math[_0x39abb1(0x122)](_0xeee730*(0x1+_0x233e6d)),!isNaN(_0x5cc7b9)&&_0x5cc7b9>0x0&&logBattleEvent(_0x39abb1(0x467)+_0x5cc7b9+'\x20点。',_0x39abb1(0x290));}_0xeee730=Math[_0x39abb1(0x309)](0x1,_0xeee730-_0x5ef65c);enemyRivival&&(_0xeee730=Math['floor'](0.1*_0xeee730));battleState['enemy'][_0x39abb1(0x2bc)]=Math[_0x39abb1(0x309)](0x0,battleState[_0x39abb1(0x3f7)][_0x39abb1(0x2bc)]-_0xeee730);_0x116ec4?(logBattleEvent(_0x39abb1(0x215)+_0xeee730+_0x39abb1(0x172),_0x39abb1(0x19c)),showEffect('playerEffect',_0x39abb1(0x399))):logBattleEvent(_0x39abb1(0x17d)+_0xeee730+_0x39abb1(0x172),_0x39abb1(0x252));updateDamageValue(_0xeee730,![],_0x39abb1(0x1c4)),showEffect(_0x39abb1(0x475),'https://pic.imgdb.cn/item/66712ba3d9c307b7e9f2ab59.gif'),applyMagicAttackEffects(_0xeee730,_0x4ce354);battleState[_0x39abb1(0x3f7)][_0x39abb1(0x3c5)]&&handlePierced();if(battleState[_0x39abb1(0x1bc)]['drunken']&&_0xeee730>0x0){const _0x175d7c=Math[_0x39abb1(0x122)](_0xeee730*0.1);battleAttributes['health']=Math[_0x39abb1(0x309)](0x0,battleAttributes['health']-_0x175d7c),logBattleEvent(_0x39abb1(0x1f3)+_0x175d7c+_0x39abb1(0x1c0),_0x39abb1(0x277));}}function performPoison(){const _0x5176a1=_0x48f708;if(!attributesFetched){showInfoBox(_0x5176a1(0x1e2));return;}if(!battleState||!battleState[_0x5176a1(0x3f7)]){console[_0x5176a1(0x2b0)](_0x5176a1(0x3de));return;}if(!playerTurn)return;if(battleState[_0x5176a1(0x1bc)][_0x5176a1(0x2f8)]){performAttack(_0x5176a1(0x406));return;}if(!poisonSkillActivated){if(useItem('poisonSkillBook'))poisonSkillActivated=!![],logBattleEvent(_0x5176a1(0x20a),_0x5176a1(0x403));else{logBattleEvent(_0x5176a1(0x9e),_0x5176a1(0x19c));return;}}const _0x492747=document[_0x5176a1(0xd7)](_0x5176a1(0x420)),_0x2f5420=Array['from'](_0x492747[_0x5176a1(0x34b)]),_0x239267=_0x2f5420[_0x5176a1(0x355)](_0xe57cd4=>_0xe57cd4[_0x5176a1(0xf8)][_0x5176a1(0x19e)]('\x20')[0x0])['map'](_0x4d1ab1=>currentPet[_0x5176a1(0x23d)][_0x5176a1(0x125)](_0x444b69=>_0x444b69[_0x5176a1(0x2af)]===_0x4d1ab1&&(_0x444b69['type']==='PP'||_0x444b69[_0x5176a1(0x34a)]==='PPE')))[_0x5176a1(0x32a)](_0x1083c9=>_0x1083c9);let _0x28dab4=0x1,_0x5d1c31=0x1,_0x1d555d;if(_0x239267[_0x5176a1(0xd4)]>0x0){const _0x322c0e=Math[_0x5176a1(0x122)](Math['random']()*_0x239267[_0x5176a1(0xd4)]);_0x1d555d=_0x239267[_0x322c0e];const _0x69a4a9=calculateSkillLevelAndMultiplier(_0x1d555d);_0x5d1c31=_0x69a4a9[_0x5176a1(0x2ab)],_0x28dab4=_0x69a4a9[_0x5176a1(0x1fb)],logBattleEvent(_0x5176a1(0x114)+_0x1d555d[_0x5176a1(0x2af)]+'\x20'+_0x5d1c31+_0x5176a1(0x3bf),_0x5176a1(0x403));}const _0x4f96dd=Math[_0x5176a1(0x122)](maxMana*0.4);if(battleAttributes[_0x5176a1(0x15c)]<_0x4f96dd){logBattleEvent(_0x5176a1(0x2d5),'red');return;}battleAttributes[_0x5176a1(0x15c)]=Math[_0x5176a1(0x309)](0x0,battleAttributes[_0x5176a1(0x15c)]-_0x4f96dd);if(handleMagicDodge('enemy')){playerTurn=![];return;}let _0x33990c=0.3;useItem(_0x5176a1(0x3e9))&&(_0x33990c=0.7,_0x28dab4+=0x1);const _0x2f9cd0=Math['floor'](battleAttributes[_0x5176a1(0x381)]*0.5*_0x28dab4*(Math[_0x5176a1(0x140)]()*(1.1-0.9)+0.9));battleState[_0x5176a1(0x3f7)][_0x5176a1(0x2bc)]=Math['max'](0x0,battleState['enemy'][_0x5176a1(0x2bc)]-_0x2f9cd0),logBattleEvent('你对妖怪造成了\x20'+_0x2f9cd0+_0x5176a1(0x1e4)+_0x4f96dd+_0x5176a1(0x30f),_0x5176a1(0x403));battleState[_0x5176a1(0x3f7)][_0x5176a1(0x3c5)]&&handlePierced();showEffect(_0x5176a1(0x475),_0x5176a1(0x230)),updateDamageValue(_0x2f9cd0,![],_0x5176a1(0x276));Math['random']()<_0x33990c&&!battleState[_0x5176a1(0x3f7)][_0x5176a1(0x3c2)]&&(battleState[_0x5176a1(0x3f7)]['poisoned']=!![],handlePoison(_0x28dab4,_0x1d555d));handleShocked(),handleManaRecover(),applyAscensionEffects(),updateUI();if(battleAttributes['health']<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x5176a1(0x3f7)][_0x5176a1(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function handlePoison(_0xc1cc3b=0x1,_0x473e76=null){const _0xb3c42b=_0x48f708,_0x2da8bb=0x3e8,_0x3ae8fc=Math['round'](playerCultivation/0x3a980)*0x3e8,_0x45f04f=_0x2da8bb+_0x3ae8fc;let _0x5f4731=_0x45f04f,_0x144fd6=0x0;const _0x1cabf3=setInterval(()=>{const _0x5873bf=_0x57f3;if(!battleState[_0x5873bf(0x3f7)]['poisoned']){clearInterval(_0x1cabf3);return;}const _0x141123=Math[_0x5873bf(0x122)](battleAttributes[_0x5873bf(0x381)]*0.5*_0xc1cc3b*(Math['random']()*(1.1-0.9)+0.9)*(0x1+battleState[_0x5873bf(0x1bc)]['critDamage']*0.1));battleState[_0x5873bf(0x3f7)][_0x5873bf(0x2bc)]=Math[_0x5873bf(0x309)](0x0,battleState['enemy']['health']-_0x141123),_0x473e76&&_0x473e76[_0x5873bf(0x34a)]===_0x5873bf(0x4c3)&&applySpecialSkillEffects(_0x473e76,_0x141123),_0x144fd6+=_0x141123,_0x5f4731-=0x3e8,updateUI(),updateDamageValue(_0x141123,![],'extra-damage'),updateEnemyStatusDisplay();},0xc8);if(battleState[_0xb3c42b(0x3f7)]['health']<=0x0){clearInterval(_0x1cabf3),showNextBattlePrompt(!![]),battleState[_0xb3c42b(0x3f7)][_0xb3c42b(0x3c2)]=![];return;}battleState[_0xb3c42b(0x3f7)]['poisonedTimer']=setTimeout(()=>{const _0x5bc02f=_0xb3c42b;battleState[_0x5bc02f(0x3f7)]['poisoned']=![],clearInterval(_0x1cabf3),updateEnemyStatusDisplay(),logBattleEvent(_0x5bc02f(0x39f)+_0x144fd6+_0x5bc02f(0x134),_0x5bc02f(0x403));},_0x45f04f);}function getCultivationBonusDuration(){const _0x38ac8e=_0x48f708;if(playerCultivation<=0x1d4c0)return 0x0;return Math[_0x38ac8e(0x2da)](0xa,(playerCultivation-0x1d4c0)/0x2710*0.1);}function applyPhysicalAttackEffects(){const _0x334461=_0x48f708;if(!divineWeaponManager['lostBook'][_0x334461(0x31f)])return;const _0x5030b7=divineWeaponManager[_0x334461(0x287)][_0x334461(0x1d5)],_0x47684d=_0x5030b7[Math[_0x334461(0x122)](Math['random']()*_0x5030b7['length'])];let _0x553b37=Math[_0x334461(0x2da)](0x1,0.01+(divineWeaponManager[_0x334461(0x287)]['level']-0x1)*0.006);const _0xbe22ed=playerCultivation-battleState[_0x334461(0x3f7)][_0x334461(0x111)];if(_0xbe22ed<0x0){const _0x25db96=Math[_0x334461(0x122)](-_0xbe22ed/0x2710)*0.01;_0x553b37=Math[_0x334461(0x309)](0.01,_0x553b37-_0x25db96),console[_0x334461(0x460)](_0x334461(0x1e8)+_0x553b37);}if(Math[_0x334461(0x140)]()>_0x553b37)return;const _0x203eae=getCultivationBonusDuration();switch(_0x47684d){case'破甲':const _0x360668=Math[_0x334461(0x122)](battleAttributes[_0x334461(0x18c)]*(Math['random']()*(0.24-0.12)+0.12));battleState['enemy']['physicalDefense']-=_0x360668,battleState[_0x334461(0x3f7)]['armorBreak']=!![],logBattleEvent(_0x334461(0x250)+_0x360668+_0x334461(0x1a9),_0x334461(0x16f)),showEffect('playerEffect','https://pic.imgdb.cn/item/66742a77d9c307b7e92c52b4.gif'),updateEnemyStatusDisplay(),battleState[_0x334461(0x3f7)][_0x334461(0x4b3)]=setTimeout(()=>{const _0x203d65=_0x334461;battleState[_0x203d65(0x3f7)][_0x203d65(0x2bb)]+=_0x360668,battleState[_0x203d65(0x3f7)][_0x203d65(0x231)]=![],updateEnemyStatusDisplay();},0xbb8+_0x203eae*0x3e8);break;case'眩晕':battleState[_0x334461(0x3f7)]['stunned']=!![],logBattleEvent(_0x334461(0x286),_0x334461(0x252)),showEffect('playerEffect',_0x334461(0x117)),updateEnemyStatusDisplay(),battleState['enemy'][_0x334461(0x27d)]=setTimeout(()=>{const _0xdab84b=_0x334461;battleState[_0xdab84b(0x3f7)]['stunned']=![],updateEnemyStatusDisplay();},0x3e8+_0x203eae*0x3e8);break;case'恐吓':battleState[_0x334461(0x3f7)][_0x334461(0x4a0)]=!![],logBattleEvent(_0x334461(0x342),_0x334461(0x16f)),updateEnemyStatusDisplay(),battleState[_0x334461(0x3f7)][_0x334461(0x379)]=setTimeout(()=>{const _0x3c87f0=_0x334461;battleState[_0x3c87f0(0x3f7)][_0x3c87f0(0x4a0)]=![],updateEnemyStatusDisplay();},0x3e8+_0x203eae*0x3e8);break;case'穿透':!battleState['enemy'][_0x334461(0x3c5)]?handlePiercedEffect(_0x203eae):console['log']('穿透效果持续中');break;case'惶恐':!battleState['enemy'][_0x334461(0x36c)]?handleTerrified(_0x203eae):console[_0x334461(0x460)]('惶恐效果持续中');break;case'麻痹':!battleState['enemy'][_0x334461(0x243)]&&(battleState[_0x334461(0x3f7)][_0x334461(0x243)]=!![],battleState[_0x334461(0x3f7)][_0x334461(0x373)]=enemyMaxHealth,battleState[_0x334461(0x3f7)][_0x334461(0x163)]=0x0);const _0x5b1d15=Math[_0x334461(0x122)](battleState[_0x334461(0x3f7)]['originalMaxHealth']*0.03);enemyMaxHealth-=_0x5b1d15,battleState['enemy'][_0x334461(0x163)]+=_0x5b1d15;battleState[_0x334461(0x3f7)][_0x334461(0x2bc)]>enemyMaxHealth&&(battleState[_0x334461(0x3f7)]['health']=enemyMaxHealth);logBattleEvent('妖怪被麻痹，最大生命值减少了\x20'+_0x5b1d15+_0x334461(0x1a9),_0x334461(0x3dd)),showEffect(_0x334461(0x475),_0x334461(0x2eb)),updateEnemyStatusDisplay(),battleState['enemy'][_0x334461(0x38d)]=setTimeout(()=>{const _0x33d840=_0x334461;battleState[_0x33d840(0x3f7)][_0x33d840(0x373)]&&(battleState['enemy'][_0x33d840(0x163)]-=_0x5b1d15,battleState[_0x33d840(0x3f7)][_0x33d840(0x163)]<=0x0?(enemyMaxHealth=battleState['enemy']['originalMaxHealth'],battleState[_0x33d840(0x3f7)]['benumbed']=![]):enemyMaxHealth=battleState[_0x33d840(0x3f7)]['originalMaxHealth']-battleState[_0x33d840(0x3f7)][_0x33d840(0x163)]),updateEnemyStatusDisplay();},0xbb8+_0x203eae*0x3e8);break;}}function applyMagicAttackEffects(_0x263cd9){const _0x4013ca=_0x48f708;if(!divineWeaponManager[_0x4013ca(0xf9)][_0x4013ca(0x31f)])return;const _0x1c655d=divineWeaponManager[_0x4013ca(0xf9)][_0x4013ca(0x1d5)],_0x58eede=_0x1c655d[Math[_0x4013ca(0x122)](Math[_0x4013ca(0x140)]()*_0x1c655d[_0x4013ca(0xd4)])];let _0x37b04f=Math['min'](0x1,0.01+(divineWeaponManager[_0x4013ca(0xf9)][_0x4013ca(0x456)]-0x1)*0.006);const _0x54de29=playerCultivation-battleState[_0x4013ca(0x3f7)][_0x4013ca(0x111)];if(_0x54de29<0x0){const _0x343a01=Math[_0x4013ca(0x122)](-_0x54de29/0x2710)*0.01;_0x37b04f=Math['max'](0.01,_0x37b04f-_0x343a01),console[_0x4013ca(0x460)](_0x4013ca(0x272)+_0x37b04f);}if(Math[_0x4013ca(0x140)]()>_0x37b04f)return;const _0x6364be=getCultivationBonusDuration();switch(_0x58eede){case'沉默':battleState[_0x4013ca(0x3f7)][_0x4013ca(0x348)]=!![],showEffect(_0x4013ca(0x475),_0x4013ca(0x41e)),updateEnemyStatusDisplay(),battleState[_0x4013ca(0x3f7)]['silencedTimer']=setTimeout(()=>{const _0x70e23c=_0x4013ca;battleState[_0x70e23c(0x3f7)][_0x70e23c(0x348)]=![],updateEnemyStatusDisplay();},0xbb8+_0x6364be*0x3e8);break;case'迟缓':handleSlow(_0x6364be);break;case'混乱':battleState[_0x4013ca(0x3f7)][_0x4013ca(0x298)]=!![],showEffect(_0x4013ca(0x475),_0x4013ca(0x4af)),updateEnemyStatusDisplay(),battleState[_0x4013ca(0x3f7)][_0x4013ca(0x3fb)]=setTimeout(()=>{const _0x58efc8=_0x4013ca;battleState[_0x58efc8(0x3f7)][_0x58efc8(0x298)]=![],updateEnemyStatusDisplay();},0xbb8+_0x6364be*0x3e8);break;case _0x4013ca(0x4bf):const _0x2b4436=Math[_0x4013ca(0x122)](_0x263cd9*0.8);let _0x7b9b34=0x0;battleState[_0x4013ca(0x3f7)][_0x4013ca(0x15c)]<_0x2b4436&&(_0x7b9b34=_0x2b4436-battleState[_0x4013ca(0x3f7)][_0x4013ca(0x15c)]);battleState[_0x4013ca(0x3f7)][_0x4013ca(0x15c)]=Math[_0x4013ca(0x309)](0x0,battleState[_0x4013ca(0x3f7)]['mana']-_0x2b4436),battleState['enemy'][_0x4013ca(0x2bc)]=Math[_0x4013ca(0x309)](0x0,battleState[_0x4013ca(0x3f7)][_0x4013ca(0x2bc)]-_0x7b9b34);_0x7b9b34>0x0?logBattleEvent(_0x4013ca(0x3ff)+_0x7b9b34+_0x4013ca(0x400),_0x4013ca(0x291)):logBattleEvent(_0x4013ca(0x29e)+_0x2b4436+_0x4013ca(0x30f),_0x4013ca(0x2a1));showEffect(_0x4013ca(0x475),'https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c68.gif');break;case _0x4013ca(0x2ef):const _0x216140=Math[_0x4013ca(0x122)](_0x263cd9*0.01);let _0x27c66e=Math['min'](_0x216140,battleState[_0x4013ca(0x3f7)]['mana']);battleState[_0x4013ca(0x3f7)][_0x4013ca(0x15c)]=Math[_0x4013ca(0x309)](0x0,battleState[_0x4013ca(0x3f7)][_0x4013ca(0x15c)]-_0x27c66e),battleAttributes['mana']=Math[_0x4013ca(0x2da)](maxMana,battleAttributes[_0x4013ca(0x15c)]+_0x27c66e),logBattleEvent(_0x4013ca(0x196)+_0x27c66e+_0x4013ca(0x30f),'#00BBFF'),showEffect('playerEffect',_0x4013ca(0x154));break;case'灼烧':battleState[_0x4013ca(0x3f7)][_0x4013ca(0x1e9)]=!![],showEffect(_0x4013ca(0x475),_0x4013ca(0xa6)),updateEnemyStatusDisplay(),battleState[_0x4013ca(0x3f7)]['burntTimer']=setTimeout(()=>{battleState['enemy']['burnt']=![],updateEnemyStatusDisplay();},0xbb8+_0x6364be*0x3e8);break;}}function handlePiercedEffect(_0x206281){const _0x51bfc6=_0x48f708;pierceDamageContainer[_0x51bfc6(0xff)]=0x0,battleState[_0x51bfc6(0x3f7)][_0x51bfc6(0x3c5)]=!![],logBattleEvent(_0x51bfc6(0x160),_0x51bfc6(0xb2)),showEffect(_0x51bfc6(0x475),'https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c43c.gif'),updateEnemyStatusDisplay(),battleState['enemy'][_0x51bfc6(0x4b6)]=setTimeout(()=>{const _0x10d698=_0x51bfc6;if(battleState[_0x10d698(0x3f7)]['pierced']){const _0x280b4e=Math[_0x10d698(0x122)](pierceDamageContainer['totalPierceDamage']*(Math[_0x10d698(0x140)]()*(0.84-0.42)+0.24)*(0x1+playerCultivation/0x7a120));battleState[_0x10d698(0x3f7)]['health']=Math[_0x10d698(0x309)](0x0,battleState[_0x10d698(0x3f7)][_0x10d698(0x2bc)]-_0x280b4e),logBattleEvent(_0x10d698(0x149)+_0x280b4e+'\x20点穿透余波伤害。',_0x10d698(0xb2)),updateDamageValue(_0x280b4e,![],_0x10d698(0x1c4)),showBattleOverlay('https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c420.gif',0x5dc,0.8),pierceDamageContainer[_0x10d698(0xff)]=0x0,battleState[_0x10d698(0x3f7)]['pierced']=![];}updateUI(),updateEnemyStatusDisplay();},0xbb8+_0x206281*0x3e8);}function handlePierced(){const _0x2a451b=_0x48f708;if(!battleState[_0x2a451b(0x3f7)][_0x2a451b(0x3c5)])return;const _0x4696dc=Math[_0x2a451b(0x122)](battleAttributes[_0x2a451b(0x18c)]*0x5);battleState[_0x2a451b(0x3f7)][_0x2a451b(0x2bc)]=Math[_0x2a451b(0x309)](0x0,battleState['enemy'][_0x2a451b(0x2bc)]-_0x4696dc),logBattleEvent(_0x2a451b(0x38f)+_0x4696dc+_0x2a451b(0x1c5),_0x2a451b(0xb2)),updateDamageValue(_0x4696dc,![],_0x2a451b(0x1c4)),pierceDamageContainer[_0x2a451b(0xff)]+=_0x4696dc,updateUI();if(battleState[_0x2a451b(0x3f7)][_0x2a451b(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}function handleStunned(){const _0x5f8204=_0x48f708;if(battleState[_0x5f8204(0x3f7)][_0x5f8204(0x168)])return logBattleEvent('妖怪眩晕，无法行动。',_0x5f8204(0x252)),playerTurn=!![],!![];return![];}function handleCriticalAndDrunken(_0x568c3f){const _0x13b8a7=_0x48f708;let _0xe012cc=checkCriticalHit(battleState[_0x13b8a7(0x1bc)]['critRate']);if((ascensionSkill[_0x13b8a7(0x2af)]==='灵魂穿刺'||secondAscensionSkill[_0x13b8a7(0x2af)]===_0x13b8a7(0x3ec))&&_0xe012cc&&Math[_0x13b8a7(0x140)]()<battleState[_0x13b8a7(0x1bc)][_0x13b8a7(0xc7)]){const _0x3094c3=Math[_0x13b8a7(0x122)](battleAttributes[_0x13b8a7(0x18c)]*battleState[_0x13b8a7(0x1bc)][_0x13b8a7(0x152)]);battleState['enemy']['health']=Math[_0x13b8a7(0x309)](0x0,battleState[_0x13b8a7(0x3f7)][_0x13b8a7(0x2bc)]-_0x3094c3),updateDamageValue(_0x3094c3,![],'extra-damage'),logBattleEvent(_0x13b8a7(0x329)+_0x3094c3+_0x13b8a7(0x172),_0x13b8a7(0x19c));}handleDrunken(_0x568c3f);}function handleSlow(_0x128382){const _0x313863=_0x48f708,_0x1bb03a=Math[_0x313863(0x122)](battleState[_0x313863(0x3f7)][_0x313863(0x16e)]*0.25);battleState[_0x313863(0x3f7)][_0x313863(0x16e)]-=_0x1bb03a,battleState['enemy'][_0x313863(0x37c)]=!![],showEffect(_0x313863(0x475),_0x313863(0x101)),updateEnemyStatusDisplay(),battleState['enemy'][_0x313863(0x459)]=setTimeout(()=>{const _0x2b6d97=_0x313863;battleState[_0x2b6d97(0x3f7)][_0x2b6d97(0x16e)]+=_0x1bb03a,battleState[_0x2b6d97(0x3f7)][_0x2b6d97(0x37c)]=![],updateEnemyStatusDisplay();},0xbb8+_0x128382*0x3e8);}function handleTerrified(_0x55b4da){const _0x509e7f=_0x48f708,_0x2cc84b=Math[_0x509e7f(0x122)](battleAttributes[_0x509e7f(0x18c)]*0x1);battleState[_0x509e7f(0x3f7)]['physicalAttack']-_0x2cc84b<0x0&&(_0x2cc84b=battleState[_0x509e7f(0x3f7)][_0x509e7f(0x18c)]),battleState[_0x509e7f(0x3f7)][_0x509e7f(0x18c)]-=_0x2cc84b,battleState['enemy']['terrified']=!![],showEffect(_0x509e7f(0x475),_0x509e7f(0x33c)),updateEnemyStatusDisplay(),updateUI(),battleState[_0x509e7f(0x3f7)][_0x509e7f(0x2b3)]=setTimeout(()=>{const _0x36d221=_0x509e7f;battleState['enemy'][_0x36d221(0x18c)]+=_0x2cc84b,battleState[_0x36d221(0x3f7)]['terrified']=![],updateEnemyStatusDisplay(),updateUI();},0xbb8+_0x55b4da*0x3e8);}function handleBurnt(){const _0x5a0d82=_0x48f708;if(battleState[_0x5a0d82(0x3f7)][_0x5a0d82(0x1e9)]){let _0x40ac05=0x0;const _0x10d386=battleState['player']['speed']-battleState[_0x5a0d82(0x3f7)][_0x5a0d82(0x16e)];_0x10d386>0x0?_0x40ac05=0x7d0+_0x10d386*0x32:_0x40ac05=0x3e8+Math['abs'](_0x10d386)*0x19;battleState[_0x5a0d82(0x3f7)][_0x5a0d82(0x2bc)]=Math[_0x5a0d82(0x309)](0x0,battleState[_0x5a0d82(0x3f7)][_0x5a0d82(0x2bc)]-_0x40ac05),logBattleEvent(_0x5a0d82(0x46c)+_0x40ac05+_0x5a0d82(0xa1),'red'),updateDamageValue(_0x40ac05,![],'extra-damage'),updateUI();if(battleState[_0x5a0d82(0x3f7)][_0x5a0d82(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}}function handleDazed(){const _0x2e79f1=_0x48f708;if(battleState[_0x2e79f1(0x3f7)]['dazed']){if(Math[_0x2e79f1(0x140)]()<0.5){const _0x4a4045=battleState[_0x2e79f1(0x3f7)]['physicalAttack'];return battleState[_0x2e79f1(0x3f7)][_0x2e79f1(0x2bc)]=Math[_0x2e79f1(0x309)](0x0,battleState[_0x2e79f1(0x3f7)][_0x2e79f1(0x2bc)]-_0x4a4045),logBattleEvent('混乱状态下，敌人攻击了自己，造成了\x20'+_0x4a4045+_0x2e79f1(0x172),_0x2e79f1(0x16f)),updateDamageValue(_0x4a4045,![],_0x2e79f1(0x276)),playerTurn=!![],!![];}}return![];}let alreadyUseMushroom=![];function handleMushroom(){const _0x1f0346=_0x48f708;if(alreadyUseMushroom||summonEnemy){showInfoBox(_0x1f0346(0x17f),null,null,_0x1f0346(0x19c));return;}alreadyUseMushroom=!![];const _0x5133ba=JSON[_0x1f0346(0x32d)](JSON['stringify'](enemyPet)),_0x58f864={'health':Math[_0x1f0346(0xe6)](enemyPet[_0x1f0346(0x2bc)]*0.5),'mana':Math[_0x1f0346(0xe6)](enemyPet[_0x1f0346(0x15c)]*0.5),'physicalAttack':Math[_0x1f0346(0xe6)](enemyPet[_0x1f0346(0x18c)]*0.5),'physicalDefense':Math['round'](enemyPet[_0x1f0346(0x2bb)]*0.5),'magicAttack':Math['round'](enemyPet[_0x1f0346(0x381)]*0.5),'magicDefense':Math['round'](enemyPet[_0x1f0346(0x33b)]*0.5),'speed':Math[_0x1f0346(0xe6)](enemyPet[_0x1f0346(0x16e)]*0.5),'cultivation':Math['round'](enemyPet[_0x1f0346(0x111)]*0x1)};enemyPet=_0x58f864,enemyMaxHealth=enemyPet['health'],enemyMaxMana=enemyPet[_0x1f0346(0x15c)],battleState[_0x1f0346(0x3f7)]={...enemyPet},logBattleEvent(_0x1f0346(0x1af),_0x1f0346(0x302));function _0x2568da(){const _0x19c379=_0x1f0346;battleState['playerWon']&&(enemyPet=_0x5133ba,enemyMaxHealth=enemyPet[_0x19c379(0x2bc)],enemyMaxMana=enemyPet[_0x19c379(0x15c)],battleState[_0x19c379(0x3f7)]={...enemyPet},updateEnemyAttributes());}const _0x24b99d=showNextBattlePrompt;showNextBattlePrompt=function(_0x4ea5c6){alreadyUseMushroom=![],_0x2568da(),_0x24b99d(_0x4ea5c6),showNextBattlePrompt=_0x24b99d;};}function handleSleep(){const _0x35fec2=_0x48f708;if(battleState[_0x35fec2(0x3f7)]['sleep'])return;const _0x1de513=battleState[_0x35fec2(0x3f7)][_0x35fec2(0x2bc)];console[_0x35fec2(0x460)](_0x35fec2(0x46a)+_0x1de513),battleState[_0x35fec2(0x3f7)][_0x35fec2(0x454)]=!![],logBattleEvent('🧚🏻对方在精灵的低语里陷入沉睡',_0x35fec2(0x290));const _0x130425=0x2710,_0xcfdc72=0x1f4,_0x51b22f=setInterval(()=>{const _0x3747e4=_0x35fec2;if(!battleState[_0x3747e4(0x3f7)][_0x3747e4(0x454)]){clearInterval(_0x51b22f);return;}battleState['enemy']['health']=Math[_0x3747e4(0x2da)](enemyMaxHealth,battleState[_0x3747e4(0x3f7)][_0x3747e4(0x2bc)]+Math[_0x3747e4(0xe6)](enemyMaxHealth*0.005)),updateUI();},_0xcfdc72),_0x349ff8=setTimeout(()=>{const _0x2e3917=_0x35fec2;clearInterval(_0x51b22f),battleState['enemy']['sleep']=![],logBattleEvent(_0x2e3917(0x2c2),'pink'),updateUI();},_0x130425),_0x2be987=setInterval(()=>{const _0x4b6fcb=_0x35fec2;battleState[_0x4b6fcb(0x3f7)]['health']<_0x1de513&&(clearInterval(_0x51b22f),clearTimeout(_0x349ff8),clearInterval(_0x2be987),battleState['enemy'][_0x4b6fcb(0x454)]=![],logBattleEvent('敌人被攻击惊醒。',_0x4b6fcb(0x290)),updateUI());},0x64);}function getShieldStatus(){const _0x4275c1=_0x48f708;extraShield!==0x0?battleState['player'][_0x4275c1(0x471)]=!![]:battleState[_0x4275c1(0x1bc)][_0x4275c1(0x471)]=![];}function performHeal(){const _0x310728=_0x48f708;if(!attributesFetched){showInfoBox(_0x310728(0x1e2));return;}if(!playerTurn)return;if(battleState[_0x310728(0x1bc)][_0x310728(0x2f8)]){performAttack('physical');return;}let _0xec7e15=0x1;battleState[_0x310728(0x1bc)]['spellSlow']&&(_0xec7e15=0x1f4,logBattleEvent('妖怪令你对法术的操控更迟钝了，你耗费了更多的法力值！',_0x310728(0x2f4)));const _0x39948d=document[_0x310728(0xd7)](_0x310728(0x420)),_0xb3930d=Array[_0x310728(0x28d)](_0x39948d['children']),_0x25e46f=_0xb3930d[_0x310728(0x355)](_0x5f3bbc=>_0x5f3bbc[_0x310728(0xf8)]['split']('\x20')[0x0])[_0x310728(0x355)](_0x1d61b3=>currentPet[_0x310728(0x23d)][_0x310728(0x125)](_0x2f0867=>_0x2f0867['name']===_0x1d61b3&&(_0x2f0867[_0x310728(0x34a)]==='PH'||_0x2f0867['type']===_0x310728(0x176))))[_0x310728(0x32a)](_0x55a512=>{return _0x55a512;});let _0x596ab3=0x1,_0x3eec04=0x1,_0x418337;if(_0x25e46f[_0x310728(0xd4)]>0x0){const _0x6b8304=Math['floor'](Math[_0x310728(0x140)]()*_0x25e46f[_0x310728(0xd4)]);_0x418337=_0x25e46f[_0x6b8304];const _0x53f76d=calculateSkillLevelAndMultiplier(_0x418337);_0x3eec04=_0x53f76d['skillLevel'],_0x596ab3=_0x53f76d[_0x310728(0x1fb)],logBattleEvent(_0x310728(0x2db)+_0x418337['name']+'\x20'+_0x3eec04+'级。',_0x310728(0xd8));}else{logBattleEvent(_0x310728(0x216),'red');return;}const _0x2b6bc4=handleHealingBan(_0x596ab3);if(battleAttributes[_0x310728(0x2bc)]+_0x2b6bc4>maxHealth){const _0x2fa6f3=battleAttributes['health']+_0x2b6bc4-maxHealth,_0x273457=Math[_0x310728(0x122)](_0x2fa6f3*0.01);extraShield+=_0x273457,console[_0x310728(0x460)](_0x310728(0x37f)+extraShield);}const _0xc5d8ed=Math[_0x310728(0xe6)](0x184*battleRounds*_0x3eec04*0.1)*_0xec7e15;if(battleAttributes[_0x310728(0x15c)]<_0xc5d8ed){logBattleEvent('您的法力值不足，无法治疗！',_0x310728(0x19c));return;}battleAttributes[_0x310728(0x2bc)]=Math['min'](maxHealth,battleAttributes[_0x310728(0x2bc)]+_0x2b6bc4),battleAttributes[_0x310728(0x15c)]=Math['max'](0x0,battleAttributes[_0x310728(0x15c)]-_0xc5d8ed),logBattleEvent(_0x310728(0x316)+_0x2b6bc4+'\x20点生命值，消耗了\x20'+_0xc5d8ed+_0x310728(0x30f),_0x310728(0xd8)),showEffect(_0x310728(0x221),_0x310728(0x190)),updateDamageValue(-_0x2b6bc4,!![],_0x310728(0x276)),handleDivineProtection(_0x25e46f,_0x3eec04);_0x418337&&_0x418337[_0x310728(0x34a)]===_0x310728(0x176)&&applySpecialSkillEffects(_0x418337,_0x2b6bc4);handleManaRecover(),applyAscensionEffects(),getShieldStatus(),updateUI();if(battleAttributes[_0x310728(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState['enemy'][_0x310728(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![],setTimeout(()=>enemyAttack(),0x15e);}function handleDivineProtection(_0x1ab6f2,_0x5b56d7){const _0x4c489d=_0x48f708;let _0xb88fe1=0.05,_0x3c556d=0x0,_0x55524a=0x0;_0x1ab6f2[_0x4c489d(0xd4)]>0x0&&(_0xb88fe1+=_0x5b56d7*0.01,_0x3c556d+=_0x5b56d7*0.1);playerCultivation>=0xfa00&&(_0x55524a+=playerCultivation/0x2ee0*0.1);let _0x48291b=0x3+_0x3c556d+_0x55524a;console[_0x4c489d(0x460)](_0x4c489d(0x2b2)+_0x48291b),(ascensionSkill[_0x4c489d(0x2af)]===_0x4c489d(0x47b)||secondAscensionSkill['name']===_0x4c489d(0x47b))&&(_0xb88fe1=battleState['player']['divineProtectionChance']||0.5,_0x48291b=battleState['player']['divineProtectionDuration']||0x5),Math[_0x4c489d(0x140)]()<_0xb88fe1&&(battleState[_0x4c489d(0x1bc)][_0x4c489d(0xe5)]=!![],logBattleEvent(_0x4c489d(0x480),_0x4c489d(0xd8)),updatePlayerStatusDisplay(),setTimeout(()=>{const _0x4bec13=_0x4c489d;battleState[_0x4bec13(0x1bc)]['divineProtection']=![],updatePlayerStatusDisplay();},_0x48291b*0x3e8));}let GQreflectPercentage;function handleReflectAndHeal(_0x1e22bf){const _0x4508ef=_0x48f708;if(isNaN(_0x1e22bf)||_0x1e22bf<=0x0){console[_0x4508ef(0x2b0)](_0x4508ef(0x3af),_0x1e22bf);return;}if(ascensionSkill[_0x4508ef(0x2af)]===_0x4508ef(0xc8)||secondAscensionSkill[_0x4508ef(0x2af)]===_0x4508ef(0xc8)){const _0x59ba43=(0x2d+0x2*ascensionSkill[_0x4508ef(0x456)])/0x64,_0x565475=Math[_0x4508ef(0x140)]()*0xf,_0xd1863e=_0x59ba43+_0x565475/0x64;if(!isNaN(_0xd1863e)&&_0xd1863e>0x0){let _0x56ed3b=Math['floor'](_0x1e22bf*_0xd1863e);isNaN(_0x56ed3b)&&(_0x56ed3b=0x0,console['error'](_0x4508ef(0x391)));const _0x13debf=Math[_0x4508ef(0xe6)]((battleAttributes[_0x4508ef(0x18c)]+battleAttributes[_0x4508ef(0x381)])*0x5);_0x56ed3b>_0x13debf&&(_0x56ed3b=_0x13debf),battleState[_0x4508ef(0x3f7)]['health']=Math[_0x4508ef(0x309)](0x0,battleState['enemy'][_0x4508ef(0x2bc)]-_0x56ed3b),logBattleEvent(_0x4508ef(0x12c)+_0x56ed3b+'\x20点伤害给妖怪。',_0x4508ef(0x19c)),console['log'](_0x4508ef(0x4a3)+_0xd1863e);}else console[_0x4508ef(0x2b0)](_0x4508ef(0x9f),_0xd1863e);}if(battleState['player'][_0x4508ef(0x3a9)]&&GQreflectPercentage!==null){let _0x2b192c=GQreflectPercentage,_0x3b3ec8=Math[_0x4508ef(0x309)](0x3e8,Math[_0x4508ef(0x122)](_0x1e22bf*_0x2b192c));console['log'](_0x4508ef(0x444)+_0x2b192c),isNaN(_0x3b3ec8)&&(_0x3b3ec8=0x0,console['error'](_0x4508ef(0x391))),battleState[_0x4508ef(0x3f7)][_0x4508ef(0x2bc)]=Math['max'](0x0,battleState[_0x4508ef(0x3f7)]['health']-_0x3b3ec8),logBattleEvent(_0x4508ef(0x2ba)+_0x3b3ec8+'\x20点真实伤害给妖怪。');}const _0x46ef1b=applyWuxingEffects();if(_0x46ef1b[_0x4508ef(0x14c)]&&_0x46ef1b['goldAmulet']>0x0){const _0x22c940=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x46ef1b[_0x4508ef(0x14c)]];if(!isNaN(_0x22c940)&&_0x22c940>0x0){let _0x376a1f=Math[_0x4508ef(0x122)](_0x1e22bf*_0x22c940);isNaN(_0x376a1f)&&(_0x376a1f=0x0,console['error'](_0x4508ef(0x391))),battleState[_0x4508ef(0x3f7)][_0x4508ef(0x2bc)]=Math[_0x4508ef(0x309)](0x0,battleState[_0x4508ef(0x3f7)][_0x4508ef(0x2bc)]-_0x376a1f),logBattleEvent(_0x4508ef(0x1a0)+_0x376a1f+'\x20点伤害。',_0x4508ef(0x3f4));}else console['error'](_0x4508ef(0x2df),_0x22c940);}if(battleState[_0x4508ef(0x1bc)]['divineProtection']){let _0x560993=Math[_0x4508ef(0x122)](0x3*battleAttributes[_0x4508ef(0x381)]*(Math[_0x4508ef(0x140)]()*(0.12-0.08)+0.2));isNaN(_0x560993)&&(_0x560993=0x0,console[_0x4508ef(0x2b0)]('Heal\x20amount\x20is\x20NaN,\x20setting\x20to\x200.')),battleAttributes['health']=Math[_0x4508ef(0x2da)](maxHealth,battleAttributes[_0x4508ef(0x2bc)]+_0x560993),updateDamageValue(-_0x560993,!![],_0x4508ef(0x1c4)),logBattleEvent(_0x4508ef(0x416)+_0x560993+_0x4508ef(0x400),_0x4508ef(0xd8)),showEffect('enemyEffect',_0x4508ef(0x3d5));}}let resurrectionState=![],resurrectionTimesMap=new Map();function checkResurrectionState(_0x56e7d9){resurrectionState=_0x56e7d9>0x0;}function resetResurrectionState(){const _0x5139a7=_0x48f708;resurrectionTimesMap[_0x5139a7(0xb7)](),checkResurrectionState(0x0);}function handleResurrection(_0x2cd36b){const _0x52c2f6=_0x48f708;if(battleAttributes[_0x52c2f6(0x2bc)]>_0x2cd36b)return;if(battleAttributes[_0x52c2f6(0x2bc)]<=0x0&&(ascensionSkill[_0x52c2f6(0x2af)]===_0x52c2f6(0x478)||secondAscensionSkill[_0x52c2f6(0x2af)]===_0x52c2f6(0x478))){let _0x54431e=ascensionSkill[_0x52c2f6(0x2af)]===_0x52c2f6(0x478)?ascensionSkill:secondAscensionSkill;const _0xb75202=_0x54431e[_0x52c2f6(0x32e)]+_0x54431e[_0x52c2f6(0x2de)](_0x54431e[_0x52c2f6(0x456)]),_0x3f0b9c=Math[_0x52c2f6(0x122)](maxMana*(_0xb75202/0x64));battleAttributes[_0x52c2f6(0x15c)]>=_0x3f0b9c&&(battleAttributes['health']=0x1,battleAttributes[_0x52c2f6(0x15c)]-=_0x3f0b9c,logBattleEvent(_0x52c2f6(0x48c),_0x52c2f6(0x19c)),updateUI());return;}const _0x53aa95=[],_0x314798=document[_0x52c2f6(0xd7)]('skills-area');_0x314798&&Array['from'](_0x314798[_0x52c2f6(0x34b)])[_0x52c2f6(0x1ee)](_0x398a8e=>{const _0x319c2c=_0x52c2f6,_0x2383a4=_0x398a8e['innerText'][_0x319c2c(0x19e)]('\x20')[0x0],_0x178fed=currentPet[_0x319c2c(0x23d)][_0x319c2c(0x125)](_0x40c51e=>_0x40c51e['name']===_0x2383a4&&_0x40c51e[_0x319c2c(0x34a)]==='FH');_0x178fed&&_0x53aa95[_0x319c2c(0x153)](_0x178fed);});if(_0x53aa95[_0x52c2f6(0xd4)]===0x0)return;for(const _0x22a8e7 of _0x53aa95){const _0x49e1fe=_0x22a8e7[_0x52c2f6(0x456)]||0x1,_0x604082=_0x22a8e7[_0x52c2f6(0x14f)]||0x1,_0x2968e6=Math[_0x52c2f6(0x1b3)](_0x604082+_0x49e1fe*0.01);!resurrectionTimesMap[_0x52c2f6(0x224)](_0x22a8e7[_0x52c2f6(0x2af)])&&resurrectionTimesMap[_0x52c2f6(0xad)](_0x22a8e7[_0x52c2f6(0x2af)],0x0);let _0x2047e8=resurrectionTimesMap[_0x52c2f6(0x40b)](_0x22a8e7['name']),_0x544456=_0x2968e6-_0x2047e8;if(_0x2047e8<_0x2968e6&&battleAttributes[_0x52c2f6(0x2bc)]<=0x0){const _0x2ee120=Math[_0x52c2f6(0xe6)](maxHealth*(0.1*_0x604082));battleAttributes[_0x52c2f6(0x2bc)]+=_0x2ee120,_0x2047e8++,resurrectionTimesMap['set'](_0x22a8e7['name'],_0x2047e8),updateDamageValue(-_0x2ee120,![],_0x52c2f6(0x276)),logBattleEvent(_0x22a8e7[_0x52c2f6(0x2af)]+'\x20'+_0x49e1fe+_0x52c2f6(0x462)+_0x2ee120+_0x52c2f6(0x28c)+_0x544456+'次',_0x52c2f6(0x282)),checkResurrectionState(_0x544456);}else _0x2047e8>=_0x2968e6&&(resurrectionState=![],logBattleEvent(_0x22a8e7[_0x52c2f6(0x2af)]+_0x52c2f6(0x313),_0x52c2f6(0x28e)),showNextBattlePrompt(![]));updateUI();}}function handlePlayerPassiveSkills(_0x592bf0=null){const _0x5a3f57=_0x48f708,_0x323ddb=[_0x5a3f57(0x388)],_0x4200c8=document[_0x5a3f57(0xd7)](_0x5a3f57(0x420));if(!_0x4200c8||!currentPet||!currentPet[_0x5a3f57(0x23d)])return;const _0x5c0ff5=Array['from'](_0x4200c8[_0x5a3f57(0x34b)]);for(const _0x5dbc8c of _0x5c0ff5){if(!_0x5dbc8c||!_0x5dbc8c[_0x5a3f57(0xf8)])continue;const _0x551d31=_0x5dbc8c['innerText'];for(const _0x469ff7 of _0x323ddb){if(_0x551d31[_0x5a3f57(0x255)](_0x469ff7)){const _0x3d56aa=_0x551d31[_0x5a3f57(0x19e)]('\x20')[0x0],_0x29d3a9=currentPet[_0x5a3f57(0x23d)][_0x5a3f57(0x125)](_0x58edbb=>_0x58edbb[_0x5a3f57(0x2af)]===_0x3d56aa);if(!_0x29d3a9)continue;switch(_0x469ff7){case _0x5a3f57(0x388):handleShanShuiSkill(_0x29d3a9,_0x592bf0);break;}break;}}}}function handleShanShuiSkill(_0x1f24c8,_0x49a778){const _0xa9153d=_0x48f708;if(!_0x1f24c8||typeof currentLifeSpan===_0xa9153d(0x1ae)){console[_0xa9153d(0x460)](_0xa9153d(0x157));return;}if(currentLifeSpan<_0x1f24c8[_0xa9153d(0x456)]){console['log'](_0xa9153d(0x458));return;}if(_0x49a778>maxHealth)return;let _0x2469ac=0x0;battleAttributes&&typeof battleAttributes[_0xa9153d(0x381)]!=='undefined'&&(_0x2469ac=Math[_0xa9153d(0x122)](battleAttributes['magicAttack']*(_0x1f24c8[_0xa9153d(0x14f)]||0x0)));if(_0x49a778&&typeof _0x49a778==='number'){const _0xee8b37=Math['floor'](_0x49a778*(_0x1f24c8[_0xa9153d(0x14f)]||0x0));_0x2469ac=Math['max'](_0x2469ac,_0xee8b37);}if(_0x2469ac<=0x0){console[_0xa9153d(0x460)](_0xa9153d(0x2b8));return;}currentLifeSpan-=_0x1f24c8[_0xa9153d(0x456)];if(typeof battleAttributes[_0xa9153d(0x2bc)]!=='undefined'&&typeof maxHealth!==_0xa9153d(0x1ae)){const _0x13ec92=battleAttributes[_0xa9153d(0x2bc)];battleAttributes[_0xa9153d(0x2bc)]=Math[_0xa9153d(0x2da)](battleAttributes[_0xa9153d(0x2bc)]+_0x2469ac,maxHealth),logBattleEvent(_0xa9153d(0x173)+_0x1f24c8[_0xa9153d(0x2af)]+'\x20'+_0x1f24c8[_0xa9153d(0x456)]+'级触发，治疗了'+_0x2469ac+_0xa9153d(0x206)+_0x1f24c8['level']+_0xa9153d(0x15b),_0xa9153d(0x282)),updateDamageValue(-_0x2469ac,!![],'damage'),console[_0xa9153d(0x460)](_0xa9153d(0x389)+_0x13ec92+'\x20->\x20'+battleAttributes[_0xa9153d(0x2bc)]+_0xa9153d(0xb6)+_0x1f24c8[_0xa9153d(0x456)]);}updateUI();}function handleRelieveEffects(){const _0x1c3847=_0x48f708;try{const _0x321e0c=[],_0x28b771=document[_0x1c3847(0xd7)](_0x1c3847(0x420));if(!_0x28b771){console[_0x1c3847(0x14d)]('技能区域不存在');return;}Array[_0x1c3847(0x28d)](_0x28b771['children'])['forEach'](_0x1eac82=>{const _0x4ac09e=_0x1c3847;if(!_0x1eac82||!_0x1eac82[_0x4ac09e(0xf8)])return;const _0x681875=_0x1eac82[_0x4ac09e(0xf8)][_0x4ac09e(0x19e)]('\x20')[0x0];if(!_0x681875)return;const _0x26e505=currentPet?.[_0x4ac09e(0x23d)]?.[_0x4ac09e(0x125)](_0x217d2c=>_0x217d2c[_0x4ac09e(0x2af)]===_0x681875&&(_0x217d2c['type']==='JK'||_0x217d2c['type']===_0x4ac09e(0x201)));_0x26e505&&_0x321e0c[_0x4ac09e(0x153)](_0x26e505);});if(_0x321e0c[_0x1c3847(0xd4)]===0x0)return;for(const _0xf265b1 of _0x321e0c){const _0x3aecef=Number(_0xf265b1['level'])||0x1,_0x438a5a=Number(_0xf265b1[_0x1c3847(0x14f)])||0.01,_0xae4b3b=Math[_0x1c3847(0x2da)](0.1,_0x3aecef*_0x438a5a);if(Math[_0x1c3847(0x140)]()<_0xae4b3b){clearEnemyEffect(),logBattleEvent(_0xf265b1['name']+'\x20'+_0x3aecef+'级触发，成功解除敌人的控制效果！',_0x1c3847(0x282));if(_0xf265b1[_0x1c3847(0x34a)]===_0x1c3847(0x201))try{applySpecialSkillEffects(_0xf265b1,null);}catch(_0x3ffe30){console[_0x1c3847(0x2b0)](_0x1c3847(0x2d1),_0x3ffe30);}}}}catch(_0x4842f1){console[_0x1c3847(0x2b0)](_0x1c3847(0x165),_0x4842f1);}finally{updateUI();}}function performDefense(){const _0x4548e3=_0x48f708;if(!attributesFetched){showInfoBox('请先从属性面板获取属性。');return;}if(!battleState||!battleState[_0x4548e3(0x3f7)]){console[_0x4548e3(0x2b0)](_0x4548e3(0x3de));return;}if(!playerTurn)return;if(battleState[_0x4548e3(0x1bc)][_0x4548e3(0x2f8)]){performAttack(_0x4548e3(0x406));return;}const _0x2550b8=document['getElementById'](_0x4548e3(0x420)),_0xd560d5=Array[_0x4548e3(0x28d)](_0x2550b8[_0x4548e3(0x34b)]),_0x2e169d=_0xd560d5[_0x4548e3(0x355)](_0x15de97=>_0x15de97[_0x4548e3(0xf8)]['split']('\x20')[0x0])[_0x4548e3(0x355)](_0x4d3933=>currentPet[_0x4548e3(0x23d)]['find'](_0x5e50c8=>_0x5e50c8['name']===_0x4d3933&&(_0x5e50c8[_0x4548e3(0x34a)]==='PD'||_0x5e50c8[_0x4548e3(0x34a)]===_0x4548e3(0x18b))))[_0x4548e3(0x32a)](_0x1247d=>_0x1247d);let _0x4a5022=0x1,_0x491b1c=_0x4548e3(0x4c2),_0x445f62;if(_0x2e169d[_0x4548e3(0xd4)]>0x0){const _0x39036b=Math[_0x4548e3(0x122)](Math['random']()*_0x2e169d[_0x4548e3(0xd4)]);_0x445f62=_0x2e169d[_0x39036b],_0x4a5022=_0x445f62['multiplier'],_0x491b1c=_0x445f62['name'];}let _0x5b5071=(Math['random']()*(0.99-0.8)+0.8)*_0x4a5022;battleState[_0x4548e3(0x1bc)][_0x4548e3(0x32b)]=!![],battleState[_0x4548e3(0x1bc)][_0x4548e3(0x327)]=_0x5b5071;_0x5b5071<0x1?logBattleEvent(_0x4548e3(0x3cb)+_0x491b1c+_0x4548e3(0x3d9)+Math[_0x4548e3(0x122)](_0x5b5071*0x64)+_0x4548e3(0x412),'orange'):logBattleEvent(_0x4548e3(0x3cb)+_0x491b1c+'，本回合抵抗了\x20'+Math[_0x4548e3(0x122)](_0x5b5071*0x64)+_0x4548e3(0x2bf),_0x4548e3(0x1fc));showEffect(_0x4548e3(0x221),'https://pic.imgdb.cn/item/66a5d698d9c307b7e9718ca1.gif');_0x445f62&&_0x445f62[_0x4548e3(0x34a)]===_0x4548e3(0x18b)&&applySpecialSkillEffects(_0x445f62,value=null);applyDefenseBonus(_0x491b1c),handleManaRecover(),getShieldStatus(),applyAscensionEffects(),updateUI();if(battleAttributes[_0x4548e3(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x4548e3(0x3f7)][_0x4548e3(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}playerTurn=![];}function handleDamageReduction(_0x51b37a,_0x4642e0=![]){const _0x248779=_0x48f708;let _0x249874=_0x51b37a,_0x3ca284=0x0,_0x4bbb33=0x0,_0x1f14ad=0x0,_0x256c7e=_0x51b37a,_0x51a177=0x0;const _0x2c4460=applyWuxingEffects();_0x256c7e=handleWiseDefense(_0x256c7e);const _0x35cef9=document[_0x248779(0xd7)](_0x248779(0x420));if(_0x35cef9&&currentPet&&currentPet[_0x248779(0x23d)]){const _0x792eab=currentPet[_0x248779(0x23d)][_0x248779(0x125)](_0x2b9a37=>_0x2b9a37[_0x248779(0x2af)]==='元素力量（宽容）');if(_0x792eab){let _0x111410;_0x792eab['level']<=0x14?_0x111410=_0x792eab[_0x248779(0x456)]*0.005:_0x111410=0x14*0.005+(_0x792eab['level']-0x14)*0.01,_0x51a177=Math[_0x248779(0x122)](_0x256c7e*_0x111410),_0x51a177>0x0&&(_0x256c7e-=_0x51a177,_0x3ca284+=_0x51a177,logBattleEvent(_0x248779(0x2f3)+_0x792eab[_0x248779(0x456)]+_0x248779(0x3fa)+_0x51a177+_0x248779(0x238),_0x248779(0x282)));}}const _0x1fedab=currentPet[_0x248779(0x23d)]['find'](_0x1968d5=>_0x1968d5[_0x248779(0x2af)]==='凤佑天下');if(_0x1fedab){let _0x1c9925;if(_0x1fedab['level']<=0x14)_0x1c9925=_0x1fedab[_0x248779(0x456)]*0.04;else _0x1fedab[_0x248779(0x456)]<=0x1e&&(_0x1c9925=0x14*0.04+(_0x1fedab[_0x248779(0x456)]-0x14)*0.01);const _0x4bd995=Math[_0x248779(0x122)](_0x256c7e*_0x1c9925);_0x4bd995>0x0&&(_0x256c7e-=_0x4bd995,_0x3ca284+=_0x4bd995,logBattleEvent('【被动技能】凤佑天下\x20'+_0x1fedab[_0x248779(0x456)]+_0x248779(0x3fa)+_0x4bd995+_0x248779(0x238),_0x248779(0x1fc)));}if((ascensionSkill[_0x248779(0x2af)]===_0x248779(0x109)||secondAscensionSkill[_0x248779(0x2af)]===_0x248779(0x109))&&Math[_0x248779(0x140)]()<battleState['player'][_0x248779(0x113)]){_0x256c7e=0x0,logBattleEvent(_0x248779(0xea),'silver'),showBattleOverlay(_0x248779(0xb9),0xbb8,0.8);return;}isNaN(_0x256c7e)&&(_0x256c7e=0x0,console[_0x248779(0x2b0)](_0x248779(0x15e)));if(extraShield>0x0){const _0x53fd06=extraShield;_0x256c7e-=extraShield,_0x256c7e<0x0?(extraShield=-_0x256c7e,_0x256c7e=0x0):extraShield=0x0,_0x4bbb33=_0x53fd06-extraShield;}const _0x419794=battleState[_0x248779(0x1bc)][_0x248779(0x419)]/0x64;if(_0x419794>0x0){const _0x24a660=Math['floor'](_0x256c7e*_0x419794);_0x256c7e-=_0x24a660,_0x3ca284+=_0x24a660;}if(battleState['player'][_0x248779(0x32b)]){const _0x33dcf5=battleState['player'][_0x248779(0x327)],_0xe8266e=Math[_0x248779(0x122)](_0x256c7e*_0x33dcf5);_0x33dcf5>0x1&&(extraShield+=Math[_0x248779(0x122)](_0x256c7e*(_0x33dcf5-0x1))),_0x256c7e-=_0xe8266e,_0x1f14ad+=_0xe8266e,battleState[_0x248779(0x1bc)][_0x248779(0x32b)]=![];}if(_0x2c4460['earthAmulet']&&_0x2c4460[_0x248779(0x141)]>0x0){const _0x492586=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x2c4460[_0x248779(0x141)]],_0x4a3e5d=Math[_0x248779(0x122)](_0x256c7e*_0x492586);_0x256c7e-=_0x4a3e5d,_0x3ca284+=_0x4a3e5d,logBattleEvent(_0x248779(0x31b)+_0x4a3e5d+_0x248779(0x3a0),_0x248779(0x470));}const _0x2deb72=battleAttributes['health'];battleAttributes[_0x248779(0x2bc)]=Math[_0x248779(0x309)](0x0,battleAttributes[_0x248779(0x2bc)]-_0x256c7e);battleAttributes[_0x248779(0x2bc)]>_0x2deb72&&(battleAttributes['health']=_0x2deb72);const _0x4aedb0=_0x4bbb33+_0x1f14ad+_0x3ca284+(isNaN(wiseDefense)?0x0:wiseDefense),_0x14c14c=isNaN(_0x4aedb0)?0x0:_0x4aedb0,_0x174b86=isNaN(_0x256c7e)?0x0:_0x256c7e,_0x1a79f5=isNaN(extraShield)?0x0:extraShield;wiseDefenseManaCost=0x0,handleReflectAndHeal(_0x174b86),_0x4642e0?updateDamageValue(_0x174b86,!![],_0x248779(0x276),!![]):updateDamageValue(_0x174b86,!![],'damage'),console[_0x248779(0x460)](_0x248779(0x26a)+_0x4bbb33+_0x248779(0x306)+_0x3ca284+_0x248779(0x45f)+_0x1f14ad+_0x248779(0x438)+(isNaN(wiseDefense)?0x0:wiseDefense)+_0x248779(0x491)+_0x51a177+_0x248779(0xbc)+_0x1a79f5+'，你最终受到了\x20'+_0x174b86+_0x248779(0x172)),getShieldStatus();}function handleWiseDefense(_0x5ac80e){const _0x897422=_0x48f708,_0x55c30f=[],_0x384d26=document[_0x897422(0xd7)]('skills-area');_0x384d26&&Array[_0x897422(0x28d)](_0x384d26[_0x897422(0x34b)])['forEach'](_0x5d72ed=>{const _0x1d1ac4=_0x897422,_0x37959b=_0x5d72ed[_0x1d1ac4(0xf8)][_0x1d1ac4(0x19e)]('\x20')[0x0],_0x4946d1=currentPet[_0x1d1ac4(0x23d)][_0x1d1ac4(0x125)](_0x30635=>_0x30635['name']===_0x37959b&&_0x30635[_0x1d1ac4(0x34a)]==='SH');_0x4946d1&&_0x55c30f['push'](_0x4946d1);});if(_0x55c30f[_0x897422(0xd4)]===0x0)return _0x5ac80e;let _0x3a0d66=_0x5ac80e;for(const _0x25738d of _0x55c30f){const {skillLevel:_0xac6f53,skillMultiplier:_0x24c849}=calculateSkillLevelAndMultiplier(_0x25738d),_0x54d980=Math[_0x897422(0x2da)](0.6,0.4+_0xac6f53*0.01),_0x300e01=0x1+0.05*(_0xac6f53-0x1),_0x3796c4=Math['max'](0x0,0.19-0.01*(_0xac6f53-0x1)),_0x1b59ae=Math['floor'](battleAttributes[_0x897422(0x15c)]*(0x1-_0x3796c4)),_0x2df39d=Math[_0x897422(0xe6)](_0x3a0d66*_0x54d980),_0x4cc291=Math[_0x897422(0x2da)](_0x2df39d,_0x1b59ae*_0x300e01),_0x400e22=Math[_0x897422(0x2da)](_0x1b59ae,Math[_0x897422(0x1b3)](_0x4cc291/_0x300e01));battleAttributes[_0x897422(0x15c)]-=_0x400e22,_0x3a0d66-=Math[_0x897422(0xe6)](_0x400e22*_0x300e01),wiseDefense=Math[_0x897422(0xe6)](_0x400e22*_0x300e01),wiseDefenseManaCost=_0x400e22,console[_0x897422(0x460)](_0x25738d[_0x897422(0x2af)]+'\x20'+_0xac6f53+'级消耗\x20'+_0x400e22+_0x897422(0x30f));}return _0x3a0d66;}function applyDefenseBonus(_0x5225c6){const _0x58053d=_0x48f708;!battleState[_0x58053d(0x1bc)][_0x58053d(0x455)]&&(battleState[_0x58053d(0x1bc)]['defenseBonusCount']=0x0);if(battleState[_0x58053d(0x1bc)][_0x58053d(0x455)]<0x5){battleState[_0x58053d(0x1bc)][_0x58053d(0x455)]+=0x1;const _0x1ee1ca=0.06,_0x544558=0.09;battleState[_0x58053d(0x1bc)][_0x58053d(0x333)]+=_0x1ee1ca,battleState[_0x58053d(0x1bc)]['critDamage']+=_0x544558,!battleState[_0x58053d(0x1bc)][_0x58053d(0x496)]&&(battleState[_0x58053d(0x1bc)]['defenseBonus']={'critRate':0x0,'critDamage':0x0}),battleState[_0x58053d(0x1bc)][_0x58053d(0x496)][_0x58053d(0x333)]+=_0x1ee1ca,battleState[_0x58053d(0x1bc)][_0x58053d(0x496)][_0x58053d(0x3ae)]+=_0x544558,battleState['player']['defensing']=!![],updatePlayerStatusDisplay();}else logBattleEvent(_0x58053d(0xc9),_0x58053d(0x143));}function applyDefenseBonusEffect(){const _0x2aeeec=_0x48f708;if(battleState['player']['defenseBonus']){const {critRate:_0x4c1b9d,critDamage:_0x33416b}=battleState[_0x2aeeec(0x1bc)]['defenseBonus'];battleState[_0x2aeeec(0x1bc)][_0x2aeeec(0x333)]-=_0x4c1b9d,battleState['player'][_0x2aeeec(0x3ae)]-=_0x33416b,logBattleEvent(_0x2aeeec(0x1bb)+Math[_0x2aeeec(0xe6)](_0x4c1b9d*0x64)+_0x2aeeec(0x124)+Math[_0x2aeeec(0xe6)](_0x33416b*0x64)+'%\x20暴击伤害。',_0x2aeeec(0x143)),battleState[_0x2aeeec(0x1bc)][_0x2aeeec(0x455)]=0x0,battleState[_0x2aeeec(0x1bc)]['defenseBonus']=null,battleState[_0x2aeeec(0x1bc)]['defensing']=![];}}function handleManaRecover(){const _0x568ea8=_0x48f708,_0x14486c=[],_0x52b401=document[_0x568ea8(0xd7)](_0x568ea8(0x420));_0x52b401&&Array[_0x568ea8(0x28d)](_0x52b401[_0x568ea8(0x34b)])[_0x568ea8(0x1ee)](_0x264629=>{const _0x5e20d9=_0x568ea8,_0x466cd5=_0x264629[_0x5e20d9(0xf8)][_0x5e20d9(0x19e)]('\x20')[0x0],_0x34fccc=currentPet[_0x5e20d9(0x23d)][_0x5e20d9(0x125)](_0x5109e5=>_0x5109e5[_0x5e20d9(0x2af)]===_0x466cd5&&_0x5109e5[_0x5e20d9(0x34a)]==='HL');_0x34fccc&&_0x14486c[_0x5e20d9(0x153)](_0x34fccc);});if(_0x14486c[_0x568ea8(0xd4)]===0x0)return;for(const _0x5414dc of _0x14486c){const _0x1938d8=_0x5414dc[_0x568ea8(0x456)]||0x1,_0x18242b=_0x5414dc['multiplier']||0x1,_0x1f543c=_0x18242b+_0x1938d8*0.01,_0x52be43=Math[_0x568ea8(0xe6)](maxMana*_0x1f543c);battleAttributes[_0x568ea8(0x15c)]=Math[_0x568ea8(0x2da)](maxMana,battleAttributes['mana']+_0x52be43),logBattleEvent(_0x5414dc[_0x568ea8(0x2af)]+'\x20'+_0x1938d8+'级为你恢复了\x20'+_0x52be43+_0x568ea8(0x30f),_0x568ea8(0x3dd));}}let enemyActionInterval;function decideEnemyCanPerform(){const _0x32da0c=_0x48f708;if(!battleState?.['enemy']||!battleAttributes){console[_0x32da0c(0x2b0)](_0x32da0c(0x3de));return;}const _0x504219=document[_0x32da0c(0xd7)](_0x32da0c(0x2e7));if(!_0x504219){console[_0x32da0c(0x2b0)](_0x32da0c(0x499));return;}enemyActionInterval&&(clearInterval(enemyActionInterval),enemyActionInterval=null);_0x504219['style'][_0x32da0c(0x34c)]='0%';let _0x5e9adf=![];enemyActionInterval=setInterval(()=>{const _0x17aa85=_0x32da0c;if(!onBattleState){clearInterval(enemyActionInterval),enemyActionInterval=null;return;}if(playerTurn)try{const _0x54053e=battleState[_0x17aa85(0x3f7)][_0x17aa85(0x16e)]||0x0,_0x1b5f58=Math[_0x17aa85(0x309)](0x0,_0x54053e/(_0x54053e+0x2710)*battleRounds*0.1),_0x332b58=parseFloat(_0x504219[_0x17aa85(0x338)][_0x17aa85(0x34c)])||0x0,_0x30e87a=Math[_0x17aa85(0x2da)](0x64,_0x332b58+_0x1b5f58);_0x504219[_0x17aa85(0x338)][_0x17aa85(0x34c)]=_0x30e87a+'%',_0x30e87a>=0x64&&(_0x504219[_0x17aa85(0x338)][_0x17aa85(0x34c)]='0%',playerTurn=![],enemyAttack()),updateUI();}catch(_0x5add41){console[_0x17aa85(0x2b0)](_0x17aa85(0x39b),_0x5add41);}else!_0x5e9adf&&(_0x5e9adf=!![],setTimeout(()=>{onBattleState&&!playerTurn&&enemyAttack(),_0x5e9adf=![];},0x1f4));},0x15e);}document[_0x48f708(0xd7)](_0x48f708(0x20e))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x353dcd=_0x48f708;showInfoBox(_0x353dcd(0x21a));});function stopEnemyAction(){enemyActionInterval&&(clearInterval(enemyActionInterval),enemyActionInterval=null);}function enemyAttack(){const _0xc2c2=_0x48f708;if(!battleState||!battleAttributes||!battleState[_0xc2c2(0x3f7)]){console[_0xc2c2(0x2b0)](_0xc2c2(0x3de));return;}!summonEnemy&&handleRampaged();if(playerTurn)return;if(handleDazed())return;if(handleStunned())return;if(battleState[_0xc2c2(0x3f7)][_0xc2c2(0x454)]){playerTurn=!![];return;}playerTurn=!![];const _0x2ea5a6=battleState[_0xc2c2(0x3f7)][_0xc2c2(0x2bc)]/enemyMaxHealth,_0x36f0fc=battleState[_0xc2c2(0x3f7)][_0xc2c2(0x15c)]/enemyMaxMana,_0x218636=_0x2ea5a6<0.3?0.7:0.1;if(Math[_0xc2c2(0x140)]()<_0x218636){enemyHeal();return;}const _0x1a23ee=getRandomInt(0x0,0x64),_0x4d359c=enemyMaxHealth*0.5;if(battleState[_0xc2c2(0x3f7)][_0xc2c2(0x2bc)]<=_0x4d359c&&_0x1a23ee<=0x32){enemyDefense();return;}if(handleEnemySteal(_0x2ea5a6,_0x36f0fc)){updateUI();return;}let _0x5ce4a6=0x0,_0x211984=checkCriticalHit(enemyCritRate);battleState[_0xc2c2(0x3f7)]['intimidated']&&(_0x211984=![]);const _0x43ac14=Math[_0xc2c2(0x140)]()<0.5?'physical':'magical';if(_0x43ac14==='physical')_0x5ce4a6=performEnemyPhysicalAttack(_0x211984);else _0x43ac14===_0xc2c2(0x186)&&!battleState['enemy'][_0xc2c2(0x348)]?_0x5ce4a6=performEnemyMagicalAttack(_0x211984):logBattleEvent(_0xc2c2(0x453),'white');handleBurnt();(isNaN(_0x5ce4a6)||_0x5ce4a6<=0x0)&&(console['error']('Invalid\x20damage\x20value\x20before\x20reduction:',_0x5ce4a6),_0x5ce4a6=0x0);_0x5ce4a6=handleDamageReduction(_0x5ce4a6,_0x211984),handleResurrection(_0x5ce4a6),handlePlayerPassiveSkills(_0x5ce4a6),handleRelieveEffects();if(battleAttributes['health']<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0xc2c2(0x3f7)][_0xc2c2(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}else updateUI();}}function performEnemyPhysicalAttack(_0x31fe90){const _0xba15ce=_0x48f708;if(handleDodge(_0xba15ce(0x1bc)))return 0x0;const _0x4ad691=Math[_0xba15ce(0x140)]()*(1.2-0.8)+0.8,_0x37f7dd=parseInt(document[_0xba15ce(0xd7)](_0xba15ce(0x40c))[_0xba15ce(0xf8)],0xa)||0x0,_0x5a5fda=0x1+_0x37f7dd/0x64,_0x529d0d=battleAttributes['physicalDefense']*_0x4ad691,_0x2e404f=f(_0x529d0d),_0x5ae16f=Math[_0xba15ce(0xe6)](battleAttributes[_0xba15ce(0x2bb)]*0.1);let _0x423d91;_0x2e404f!==0x0?_0x423d91=Math[_0xba15ce(0x309)](0x1,Math[_0xba15ce(0x122)](battleState[_0xba15ce(0x3f7)]['physicalAttack']*1.2*_0x5a5fda*(0x1-_0x2e404f))):_0x423d91=Math[_0xba15ce(0x309)](0x1,Math['floor'](battleState[_0xba15ce(0x3f7)]['physicalAttack']*1.2*_0x5a5fda));_0x423d91=calculateDamage(_0x423d91,_0x31fe90,enemyCritDamage),_0x423d91=Math['max'](0x1,_0x423d91-_0x5ae16f);_0x31fe90?logBattleEvent(_0xba15ce(0x4b7)+_0x423d91+_0xba15ce(0x263),_0xba15ce(0x19c)):logBattleEvent(_0xba15ce(0x227)+_0x423d91+_0xba15ce(0x172),_0xba15ce(0x16f));showEffect(_0xba15ce(0x221),'https://pic.imgdb.cn/item/66a0d3e8d9c307b7e93a8108.gif');if(battleState[_0xba15ce(0x1bc)][_0xba15ce(0x278)]){const _0x53ecd0=playerCultivation-enemyPetCultivation;let _0xd24fdc=0x0;if(_0x53ecd0<0x0){const _0x126605=Math[_0xba15ce(0xf1)](_0x53ecd0);enemyPhysicalAttackCount++,_0xd24fdc=_0x126605*enemyPhysicalAttackCount,logBattleEvent(_0xba15ce(0x1a7)+_0xd24fdc+'\x20点伤害！',_0xba15ce(0x2b1)),updateDamageValue(_0xd24fdc,!![],_0xba15ce(0x1c4));}else{if(_0x53ecd0>0x0){const _0xf871cf=_0x53ecd0;battleState[_0xba15ce(0x3f7)]['health']-=_0xf871cf,logBattleEvent('⚔️【敌人攻击】杀戮状态下由于修为差距，敌人在施放物理攻击时自身损失了\x20'+_0xf871cf+'\x20点生命值！',_0xba15ce(0x2b1)),updateDamageValue(_0xd24fdc,![],_0xba15ce(0x1c4));}}_0x423d91+=_0xd24fdc;}return(!battleState[_0xba15ce(0x3f7)]['silenced']||_0x423d91!==0x0)&&applyEnemyPhysicalEffects(_0x423d91),_0x423d91;}function performEnemyMagicalAttack(_0x5e4bb8){const _0x57199c=_0x48f708;if(battleState[_0x57199c(0x3f7)][_0x57199c(0x15c)]<0x32)return enemyAttack(_0x57199c(0x406)),0x0;const _0xa6a501=parseInt(document[_0x57199c(0xd7)]('enemy-level')[_0x57199c(0xf8)],0xa)||0x0,_0x3d339f=0x1+_0xa6a501/0x64,_0x2113b6=Math[_0x57199c(0x140)]()*(1.2-0.8)+0.8,_0x217ee7=battleAttributes[_0x57199c(0x33b)]*_0x2113b6,_0x239c5c=f(_0x217ee7),_0x99813c=Math['round'](battleAttributes['magicDefense']*0.1);let _0x589005;_0x239c5c!==0x0?_0x589005=Math['max'](0x1,Math['floor'](battleState[_0x57199c(0x3f7)]['magicAttack']*_0x3d339f*(0x1-_0x239c5c))-_0x99813c):_0x589005=Math[_0x57199c(0x309)](0x1,Math[_0x57199c(0x122)](battleState['enemy'][_0x57199c(0x381)]*_0x3d339f)-_0x99813c);_0x589005=calculateDamage(_0x589005,_0x5e4bb8,enemyCritDamage),_0x589005=Math[_0x57199c(0x309)](0x1,_0x589005-_0x99813c);if(handleMagicDodge('player'))return 0x0;const _0x17880a=Math[_0x57199c(0x122)](Math[_0x57199c(0x140)]()*(0x64-0x32+0x1))+0x1f4;return battleState[_0x57199c(0x3f7)][_0x57199c(0x15c)]=Math['max'](0x0,battleState[_0x57199c(0x3f7)][_0x57199c(0x15c)]-_0x17880a),_0x5e4bb8?(logBattleEvent('⚔️【敌人攻击】妖怪施放法术技能·嗜血魔咒并发起暴击，造成了\x20'+_0x589005+'\x20的猛烈伤害！消耗了\x20'+_0x17880a+_0x57199c(0x30f),_0x57199c(0x19c)),showEffect('enemyEffect',_0x57199c(0x399))):logBattleEvent(_0x57199c(0x24f)+_0x589005+_0x57199c(0x2ac)+_0x17880a+_0x57199c(0x30f),_0x57199c(0x252)),showEffect(_0x57199c(0x221),_0x57199c(0x32c)),applyEnemyMagicEffects(_0x589005),_0x589005;}function enemyHeal(){const _0x3b5f72=_0x48f708;if(enemyHealCount>=0x14){enemyAttack();return;}if(battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x454)])return;const _0x5b6f5b=0x120*battleRounds;if(battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x15c)]<_0x5b6f5b){performEnemyPhysicalAttack(![]);return;}if(battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x348)]){logBattleEvent('由于妖怪被沉默，无法治疗',_0x3b5f72(0x4a6)),performEnemyPhysicalAttack(![]);return;}const _0x3de53f=Math[_0x3b5f72(0x122)](0x3*battleState['enemy'][_0x3b5f72(0x381)]*(Math[_0x3b5f72(0x140)]()*(1.2-0.8)+0.8));battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x2bc)]=Math[_0x3b5f72(0x2da)](enemyMaxHealth,battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x2bc)]+_0x3de53f),battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x15c)]=Math['max'](0x0,battleState[_0x3b5f72(0x3f7)]['mana']-_0x5b6f5b),enemyHealCount+=0x1,logBattleEvent(_0x3b5f72(0x15a)+_0x3de53f+_0x3b5f72(0x47a)+_0x5b6f5b+_0x3b5f72(0x30f),_0x3b5f72(0xd8)),showEffect(_0x3b5f72(0x475),_0x3b5f72(0x146)),updateDamageValue(-_0x3de53f,![],'damage');if(battleState['enemy'][_0x3b5f72(0x3c2)]){const _0x5c9886=Math[_0x3b5f72(0x122)](battleAttributes[_0x3b5f72(0x381)]*battleRounds*(Math[_0x3b5f72(0x140)]()*(0.06-0.03)+0.03));battleState['enemy'][_0x3b5f72(0x2bc)]=Math[_0x3b5f72(0x309)](0x0,battleState[_0x3b5f72(0x3f7)][_0x3b5f72(0x2bc)]-_0x5c9886),logBattleEvent(_0x3b5f72(0x32f)+_0x5c9886+'\x20点生命值。','#C10066'),updateDamageValue(_0x5c9886,![],'extra-damage');}handleBurnt(),showEffect(_0x3b5f72(0x221)),updateUI();}function enemyDefense(){const _0x55b3fb=_0x48f708;if(battleState[_0x55b3fb(0x3f7)][_0x55b3fb(0x454)])return;if(battleState['enemy']['defensing']){enemyAttack();return;}battleState[_0x55b3fb(0x3f7)][_0x55b3fb(0x126)]=!![];const _0x2006e0=battleState[_0x55b3fb(0x3f7)][_0x55b3fb(0x2bb)],_0x3c6643=battleState[_0x55b3fb(0x3f7)][_0x55b3fb(0x33b)],_0x117bb3=Math[_0x55b3fb(0xe6)]((_0x2006e0+_0x3c6643)*0.5);battleState['enemy']['physicalDefense']+=_0x117bb3,battleState[_0x55b3fb(0x3f7)]['magicDefense']+=_0x117bb3,setTimeout(()=>{const _0x5a6706=_0x55b3fb;battleState[_0x5a6706(0x3f7)][_0x5a6706(0x126)]=![],battleState[_0x5a6706(0x3f7)][_0x5a6706(0x2bb)]=_0x2006e0,battleState[_0x5a6706(0x3f7)]['magicDefense']=_0x3c6643,updateUI();},0x7d0),logBattleEvent(_0x55b3fb(0x308),_0x55b3fb(0x1fc)),showEffect(_0x55b3fb(0x475),_0x55b3fb(0x29b));}function applyEnemyPhysicalEffects(_0x503944){const _0x2f2729=_0x48f708,_0x2eb64f=[_0x2f2729(0x15f),_0x2f2729(0x326),_0x2f2729(0x2f8),_0x2f2729(0x212),_0x2f2729(0x278)],_0x168a67=enemyPetCultivation-playerCultivation,_0x3b5381=_0x168a67/0x2710*0.01,_0x5ad0d9=[];_0x2eb64f[_0x2f2729(0x1ee)](_0x3441e3=>{const _0x5f494d=_0x2f2729,_0x85319a=0.2,_0x41003d=Math['max'](0.01,_0x85319a+_0x3b5381),_0x26271c=Math[_0x5f494d(0x140)]();if(battleState[_0x5f494d(0x1bc)][_0x3441e3]){console[_0x5f494d(0x460)](_0x5f494d(0x452)+_0x3441e3+_0x5f494d(0x24d));return;}_0x26271c<_0x41003d&&_0x5ad0d9[_0x5f494d(0x153)](_0x3441e3);});if(_0x5ad0d9[_0x2f2729(0xd4)]>0x0){const _0x10275d=_0x5ad0d9[Math[_0x2f2729(0x122)](Math[_0x2f2729(0x140)]()*_0x5ad0d9[_0x2f2729(0xd4)])];switch(_0x10275d){case'torn':!effectCooldowns[_0x2f2729(0x15f)]&&handleTorn();break;case _0x2f2729(0x326):!effectCooldowns['suppressed']&&handleSuppressed();break;case _0x2f2729(0x2f8):!battleState[_0x2f2729(0x1bc)][_0x2f2729(0x2f8)]&&handleTaunt();break;case _0x2f2729(0x278):!battleState['player'][_0x2f2729(0x278)]&&handleSlaughter();break;case'seal':!battleState['player'][_0x2f2729(0x212)]&&handleSeal();break;}}}function applyEnemyMagicEffects(_0x5be3db){const _0x473f94=_0x48f708,_0x5975bf=[_0x473f94(0x20d),'healingBan',_0x473f94(0x482),_0x473f94(0x2f2),_0x473f94(0x2dc)],_0x1ec5b1=enemyPetCultivation-playerCultivation,_0x31e242=_0x1ec5b1/0x2710*0.01,_0x2f66ee=[];_0x5975bf[_0x473f94(0x1ee)](_0x1faf2f=>{const _0xea1ee1=_0x473f94,_0x179a66=0.2,_0x486a82=Math[_0xea1ee1(0x309)](0.01,_0x179a66+_0x31e242),_0x49de38=Math[_0xea1ee1(0x140)]();_0x49de38<_0x486a82&&_0x2f66ee[_0xea1ee1(0x153)](_0x1faf2f);});if(_0x2f66ee[_0x473f94(0xd4)]>0x0){const _0x3ced2f=_0x2f66ee[Math[_0x473f94(0x122)](Math['random']()*_0x2f66ee['length'])];switch(_0x3ced2f){case _0x473f94(0x20d):!effectCooldowns[_0x473f94(0x20d)]&&(battleState[_0x473f94(0x1bc)][_0x473f94(0x20d)]=!![],logBattleEvent(_0x473f94(0x2be),_0x473f94(0x277)),showEffect(_0x473f94(0x221),_0x473f94(0xb8)),effectCooldowns[_0x473f94(0x20d)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x580a9a=_0x473f94;battleState[_0x580a9a(0x1bc)][_0x580a9a(0x20d)]=![],effectCooldowns[_0x580a9a(0x20d)]=![],updatePlayerStatusDisplay();},0x1388));break;case _0x473f94(0x369):!effectCooldowns[_0x473f94(0x369)]&&(battleState[_0x473f94(0x1bc)]['healingBan']=!![],logBattleEvent('你受到了禁疗效果，无法恢复生命值。',_0x473f94(0x35c)),showEffect(_0x473f94(0x221),_0x473f94(0xb8)),effectCooldowns[_0x473f94(0x369)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x5e6a7c=_0x473f94;battleState[_0x5e6a7c(0x1bc)]['healingBan']=![],effectCooldowns[_0x5e6a7c(0x369)]=![],updatePlayerStatusDisplay();},0x1388));break;case _0x473f94(0x482):!effectCooldowns[_0x473f94(0x482)]&&handleSoulCapture();break;case _0x473f94(0x2dc):!effectCooldowns[_0x473f94(0x2dc)]&&(battleState[_0x473f94(0x1bc)][_0x473f94(0x2dc)]=!![],showEffect('enemyEffect',_0x473f94(0xb8)),effectCooldowns['spellSlow']=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x3356fb=_0x473f94;battleState[_0x3356fb(0x1bc)][_0x3356fb(0x2dc)]=![],effectCooldowns[_0x3356fb(0x2dc)]=![],updatePlayerStatusDisplay();},0x1388));break;case _0x473f94(0x2f2):!effectCooldowns[_0x473f94(0x2f2)]&&(battleState[_0x473f94(0x1bc)][_0x473f94(0x2f2)]=!![],logBattleEvent(_0x473f94(0x2ed),_0x473f94(0x143)),showEffect(_0x473f94(0x221),_0x473f94(0xb8)),effectCooldowns[_0x473f94(0x2f2)]=!![],updatePlayerStatusDisplay(),setTimeout(()=>{const _0x401ca3=_0x473f94;battleState[_0x401ca3(0x1bc)][_0x401ca3(0x2f2)]=![],effectCooldowns[_0x401ca3(0x2f2)]=![],updatePlayerStatusDisplay();},0x1388));break;}}}function handleEnemySteal(_0x375aef,_0x1e58d3){const _0x4ff165=_0x48f708;if(_0x375aef<0.05&&Math[_0x4ff165(0x140)]()<0.5&&drugInventory['延寿露']&&drugInventory[_0x4ff165(0x220)][_0x4ff165(0x3a4)]>0x0){if(Math[_0x4ff165(0x140)]()<0.8){const _0x1b42b7=Math[_0x4ff165(0x2da)](0x1e8480,Math[_0x4ff165(0x122)](enemyMaxHealth*0.2));battleState[_0x4ff165(0x3f7)][_0x4ff165(0x2bc)]=Math[_0x4ff165(0x2da)](enemyMaxHealth,battleState[_0x4ff165(0x3f7)][_0x4ff165(0x2bc)]+_0x1b42b7),drugInventory[_0x4ff165(0x220)][_0x4ff165(0x3a4)]-=0x1,logBattleEvent(_0x4ff165(0x2e1)+_0x1b42b7+_0x4ff165(0x35a),_0x4ff165(0x2b4)),updateDamageValue(-_0x1b42b7,![],_0x4ff165(0x276)),showEffect('enemyEffect','https://pic.imgdb.cn/item/66a250dfd9c307b7e97f96eb.png');}else logBattleEvent(_0x4ff165(0x116),_0x4ff165(0x2b4)),handleSlow();return!![];}else{if(_0x1e58d3<0.05&&Math['random']()<0.5&&drugInventory[_0x4ff165(0xca)]&&drugInventory['天山雪莲']['quantity']>0x0){if(Math[_0x4ff165(0x140)]()<0.8){const _0x38e5a9=Math[_0x4ff165(0x2da)](0x1e8480,Math[_0x4ff165(0x122)](enemyMaxMana*0.2));battleState[_0x4ff165(0x3f7)][_0x4ff165(0x15c)]=Math['min'](enemyMaxMana,battleState[_0x4ff165(0x3f7)][_0x4ff165(0x15c)]+_0x38e5a9),drugInventory[_0x4ff165(0xca)][_0x4ff165(0x3a4)]-=0x1,logBattleEvent(_0x4ff165(0x1ab)+_0x38e5a9+_0x4ff165(0x41a),_0x4ff165(0x2b4)),showEffect(_0x4ff165(0x221),_0x4ff165(0xec));}else logBattleEvent(_0x4ff165(0x1f0),_0x4ff165(0x2b4)),handleSlow();return!![];}}return![];}function handleSlaughter(){const _0x215e1e=_0x48f708;if(battleState['player']['slaughter']){console[_0x215e1e(0x460)]('玩家已经处于杀戮状态，无法叠加。');return;}battleState[_0x215e1e(0x1bc)][_0x215e1e(0x278)]=!![],effectCooldowns[_0x215e1e(0x278)]=!![],showEffect(_0x215e1e(0x221),'https://pic.imgdb.cn/item/66a33f39d9c307b7e942c36c.gif'),updatePlayerStatusDisplay();const _0x5e619f=setInterval(()=>{const _0x5d6052=_0x215e1e;if(!battleState[_0x5d6052(0x1bc)][_0x5d6052(0x278)]){clearInterval(_0x5e619f);return;}const _0x1e1600=playerCultivation-enemyPetCultivation;if(_0x1e1600>0x0&&battleState[_0x5d6052(0x3f7)][_0x5d6052(0x2bc)]<=_0x1e1600*0x96)battleState[_0x5d6052(0x3f7)][_0x5d6052(0x2bc)]=0x0,logBattleEvent(_0x5d6052(0xbb)+battleState[_0x5d6052(0x3f7)][_0x5d6052(0x2bc)]+_0x5d6052(0x1b8),_0x5d6052(0x239)),updateDamageValue(battleState['enemy'][_0x5d6052(0x2bc)],![],_0x5d6052(0x276)),updateUI(),updatePlayerStatusDisplay();else _0x1e1600<0x0&&battleAttributes[_0x5d6052(0x2bc)]<=Math['abs'](_0x1e1600)&&(battleAttributes['health']=0x0,logBattleEvent(_0x5d6052(0xd2)+battleAttributes[_0x5d6052(0x2bc)]+_0x5d6052(0x1b8),'#FFDD55'),updateDamageValue(battleState[_0x5d6052(0x3f7)]['health'],!![],'damage'),updateUI(),updatePlayerStatusDisplay());},0x1f4);if(battleAttributes['health']<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x215e1e(0x3f7)][_0x215e1e(0x2bc)]<=0x0){showNextBattlePrompt(!![]);return;}}setTimeout(()=>{const _0x42d9ce=_0x215e1e;battleState[_0x42d9ce(0x1bc)][_0x42d9ce(0x278)]=![],effectCooldowns[_0x42d9ce(0x278)]=![],enemyPhysicalAttackCount=0x0,clearInterval(_0x5e619f),updatePlayerStatusDisplay();},0x2710);}function handleShocked(){const _0x42673f=_0x48f708;battleState[_0x42673f(0x1bc)][_0x42673f(0xa2)]&&(battleAttributes[_0x42673f(0x2bb)]=Math[_0x42673f(0x309)](0x0,Math[_0x42673f(0x122)](battleAttributes[_0x42673f(0x2bb)]*0.8)),battleAttributes[_0x42673f(0x33b)]=Math[_0x42673f(0x309)](0x0,Math['floor'](battleAttributes[_0x42673f(0x2bb)]*0.8)));}function handleSeal(){const _0x366cde=_0x48f708;if(battleState[_0x366cde(0x1bc)][_0x366cde(0x212)])return;battleState[_0x366cde(0x1bc)][_0x366cde(0x212)]=!![],battleState[_0x366cde(0x1bc)]['originalAscensionSkill']=ascensionSkill[_0x366cde(0x2af)],battleState[_0x366cde(0x1bc)]['originalSecondAscensionSkill']=secondAscensionSkill[_0x366cde(0x2af)],ascensionSkill[_0x366cde(0x2af)]=_0x366cde(0x48b),secondAscensionSkill[_0x366cde(0x2af)]='被封印的技能',updateAscensionDisplay(),updateSecondAscensionDisplay(),logBattleEvent(_0x366cde(0x148),_0x366cde(0xd8)),setTimeout(()=>{const _0x37ce57=_0x366cde;battleState[_0x37ce57(0x1bc)][_0x37ce57(0x212)]=![],ascensionSkill[_0x37ce57(0x2af)]=battleState[_0x37ce57(0x1bc)]['originalAscensionSkill'],secondAscensionSkill[_0x37ce57(0x2af)]=battleState[_0x37ce57(0x1bc)][_0x37ce57(0x383)],logBattleEvent(_0x37ce57(0x2e6),_0x37ce57(0xd8)),updateAscensionDisplay(),updateSecondAscensionDisplay(),updateUI();},0x2710);}function handleTorn(){const _0x1dd3e3=_0x48f708;battleState['player']['torn']=!![],showEffect(_0x1dd3e3(0x221),_0x1dd3e3(0x3ea)),effectCooldowns['torn']=!![],updatePlayerStatusDisplay();const _0x2ed6b5=setInterval(()=>{const _0x10d1a1=_0x1dd3e3;if(!battleState[_0x10d1a1(0x1bc)][_0x10d1a1(0x15f)]){clearInterval(_0x2ed6b5);return;}const _0x3072c3=Math[_0x10d1a1(0x122)](battleState[_0x10d1a1(0x3f7)][_0x10d1a1(0x18c)]*0.1);battleAttributes[_0x10d1a1(0x2bc)]=Math['max'](0x0,battleAttributes[_0x10d1a1(0x2bc)]-_0x3072c3),updateDamageValue(_0x3072c3,!![],_0x10d1a1(0x1c4)),updateUI(),updatePlayerStatusDisplay();},0x1f4);if(battleAttributes[_0x1dd3e3(0x2bc)]<=0x0){showNextBattlePrompt(![]);return;}else{if(battleState[_0x1dd3e3(0x3f7)]['health']<=0x0){showNextBattlePrompt(!![]);return;}}setTimeout(()=>{const _0x134d98=_0x1dd3e3;battleState[_0x134d98(0x1bc)][_0x134d98(0x15f)]=![],effectCooldowns[_0x134d98(0x15f)]=![],clearInterval(_0x2ed6b5),updatePlayerStatusDisplay();},0x2710);}const suppressionState={'actionPerformed':![],'timeoutId':null};function handleSuppressed(){const _0x2801df=_0x48f708;if(battleState[_0x2801df(0x1bc)][_0x2801df(0x326)])return;battleState['player'][_0x2801df(0x326)]=!![],logBattleEvent(_0x2801df(0x38b),_0x2801df(0x291)),showEffect(_0x2801df(0x221),_0x2801df(0x3ea)),effectCooldowns['suppressed']=!![],updatePlayerStatusDisplay(),suppressionState['actionPerformed']=![];const _0x247bab=performPhysicalAttack,_0x74c56d=performMagicalAttack,_0x41fa6f=performHeal,_0x4d75df=performPoison,_0x39f9db=performDefense,_0xe28172=_0x31542e=>{return function(..._0x5bff9c){const _0x559aac=_0x57f3;return suppressionState[_0x559aac(0xf2)]=!![],_0x31542e[_0x559aac(0x178)](this,_0x5bff9c);};};performPhysicalAttack=_0xe28172(performPhysicalAttack),performMagicalAttack=_0xe28172(performMagicalAttack),performHeal=_0xe28172(performHeal),performPoison=_0xe28172(performPoison),performDefense=_0xe28172(performDefense),suppressionState[_0x2801df(0x337)]=setTimeout(()=>{cleanSuppressed();},0xbb8);}let tauntTimeout;function handleTaunt(){const _0x4133b7=_0x48f708;if(battleState[_0x4133b7(0x1bc)][_0x4133b7(0x2f8)]){logBattleEvent(_0x4133b7(0x2f5),'#FF4500');return;}clearTimeout(tauntTimeout),battleState[_0x4133b7(0x1bc)][_0x4133b7(0x2f8)]=!![],logBattleEvent(_0x4133b7(0x102),_0x4133b7(0x291)),showEffect(_0x4133b7(0x221),'https://pic.imgdb.cn/item/669c8a9ed9c307b7e94f5766.gif'),effectCooldowns[_0x4133b7(0x2f8)]=!![],updatePlayerStatusDisplay(),updateUI(),tauntTimeout=setTimeout(()=>{const _0x7fcf79=_0x4133b7;battleState[_0x7fcf79(0x1bc)][_0x7fcf79(0x2f8)]=![],effectCooldowns[_0x7fcf79(0x2f8)]=![],updatePlayerStatusDisplay(),updateUI();},0x2710);}function handleHealingBan(_0x5cb3cc){const _0x4572ed=_0x48f708;if(battleState[_0x4572ed(0x1bc)][_0x4572ed(0x369)])return 0x0;let _0x259173=Math[_0x4572ed(0x122)](0x3*battleAttributes[_0x4572ed(0x381)]*(Math[_0x4572ed(0x140)]()*(0.12-0.08)+0.08)*_0x5cb3cc),_0x3bd090;const _0x55fcf2=applyWuxingEffects();if(_0x55fcf2[_0x4572ed(0x42e)]&&_0x55fcf2['woodAmulet']>0x0){const _0x28083c=[0x0,0.02,0.05,0.07,0.12,0.2,0.22,0.25,0.28,0.4][_0x55fcf2[_0x4572ed(0x42e)]],_0x7129c1=Math[_0x4572ed(0x122)](_0x259173*_0x28083c);_0x259173=Math[_0x4572ed(0x122)](_0x259173*(0x1+_0x28083c)),logBattleEvent(_0x4572ed(0x3cc)+_0x7129c1+'。','aqua');}return _0x259173;}function handleSoulCapture(){const _0x59455a=_0x48f708;if(battleState['player'][_0x59455a(0x482)])return;battleState['player'][_0x59455a(0x482)]=!![],battleAttributes[_0x59455a(0x18c)]*=0.5,battleAttributes[_0x59455a(0x381)]*=0.5,logBattleEvent(_0x59455a(0x3bc),_0x59455a(0x35c)),showEffect(_0x59455a(0x221),_0x59455a(0xb8)),updatePlayerStatusDisplay(),setTimeout(()=>{const _0x43a5cb=_0x59455a;battleState[_0x43a5cb(0x1bc)][_0x43a5cb(0x482)]=![],battleAttributes[_0x43a5cb(0x18c)]=battleState['player'][_0x43a5cb(0x18c)],battleAttributes[_0x43a5cb(0x381)]=battleState[_0x43a5cb(0x1bc)][_0x43a5cb(0x381)],updateUI(),updatePlayerStatusDisplay();},0x1388);}function handleDrunken(_0x375fe6){const _0x37d066=_0x48f708;if(battleState[_0x37d066(0x1bc)][_0x37d066(0x20d)]&&_0x375fe6>0x0){const _0x145c61=Math[_0x37d066(0x122)](_0x375fe6*0.05);battleAttributes[_0x37d066(0x2bc)]=Math['max'](0x0,battleAttributes[_0x37d066(0x2bc)]-_0x145c61),logBattleEvent(_0x37d066(0x2fe)+_0x145c61+_0x37d066(0x1c0),_0x37d066(0x277)),updateDamageValue(_0x145c61,!![],'extra-damage');}}let enemyRivival=![],enemyRivivalCount=0x0;function handleRampaged(){const _0x104960=_0x48f708;console['log'](_0x104960(0x487)+battleRounds+_0x104960(0x21b)+battleState[_0x104960(0x3f7)][_0x104960(0x2bc)]+_0x104960(0x404)+enemyMaxHealth);if(summonEnemy)return;enemyRivival&&(enemyRivival=![]);if(battleRounds===0x96)enemyCritRate=0x1,enemyCritDamage=3.5,battleState['enemy'][_0x104960(0x3e5)]=!![],changeEnemyImage(_0x104960(0x1d2)),setBackgroundImage(_0x104960(0x43e)),console['log'](_0x104960(0x1da));else{if(battleRounds>0x96&&battleRounds%0xa===0x0)enemyCritRate=0x1,enemyCritDamage=3.5,battleState[_0x104960(0x3f7)][_0x104960(0x3e5)]=!![],changeEnemyImage(_0x104960(0x265)),setBackgroundImage('https://pic.imgdb.cn/item/66bc6806d9c307b7e987b8ec.webp'),console[_0x104960(0x460)](_0x104960(0x1da));else battleRounds<=0x96&&battleRounds%0xa===0x0?(enemyCritRate=0x1,enemyCritDamage=2.5,battleState['enemy'][_0x104960(0x3e5)]=!![],changeEnemyImage('rampaged'),setBackgroundImage(_0x104960(0x43e)),console[_0x104960(0x460)](_0x104960(0x1da))):(battleState['enemy']['rampaged']=![],changeEnemyImage(battleRounds>0x96?_0x104960(0x214):_0x104960(0x450)),setBackgroundImage(battleRounds>0x96?_0x104960(0x2c0):_0x104960(0x23f)),console[_0x104960(0x460)](_0x104960(0x426)));}battleState[_0x104960(0x3f7)][_0x104960(0x3e5)]&&battleState[_0x104960(0x3f7)][_0x104960(0x2bc)]<enemyMaxHealth*0.2&&enemyRivivalCount<=(battleRounds===0x96?0x3:0x1)&&(enemyRivivalCount+=0x1,logBattleEvent('妖怪的生命力正在复苏，请在2秒内击杀它，否则它将复活！',_0x104960(0x19c)),enemyRivival=!![],console[_0x104960(0x460)](_0x104960(0x418)+enemyRivivalCount),setTimeout(()=>{const _0x1fe9ce=_0x104960;enemyRivival&&battleState['enemy'][_0x1fe9ce(0x2bc)]<enemyMaxHealth*0.2&&(battleState[_0x1fe9ce(0x3f7)]['health']=enemyMaxHealth,logBattleEvent('妖怪复生成功，生命值恢复到100%！',_0x1fe9ce(0x19c)),updateDamageValue(-enemyMaxHealth,![],_0x1fe9ce(0x276)),enemyRivival=![],updateUI(),console[_0x1fe9ce(0x460)]('Enemy\x20revived\x20to\x20full\x20health.'));},0x7d0));}function useDrug(){const _0x44fe81=_0x48f708;!alreadyUseDrug&&(showInfoBox('这是你第一次打开药品面板，附送至尊药品礼包一份！'),alreadyUseDrug=!![]);if(battleState[_0x44fe81(0x1bc)][_0x44fe81(0x2f8)]){performAttack('physical');return;}document[_0x44fe81(0xd7)](_0x44fe81(0xda))['style'][_0x44fe81(0x44e)]='block',updateDrugGrid();}function updateDrugGrid(){const _0xf41b30=_0x48f708,_0x48d467=document[_0xf41b30(0xd7)](_0xf41b30(0x1d6));_0x48d467[_0xf41b30(0x41c)]='';for(let _0x47596a in drugInventory){if(drugInventory[_0x47596a]['quantity']>0x0){const _0x34a5d7=document[_0xf41b30(0x476)](_0xf41b30(0x1a4));_0x34a5d7['className']=_0xf41b30(0x228),_0x34a5d7[_0xf41b30(0x41c)]=_0xf41b30(0xd0)+drugInventory[_0x47596a][_0xf41b30(0x1b1)]+_0xf41b30(0x469)+_0x47596a+'\x22\x20width=\x2245\x22\x20height=\x2245\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>'+_0x47596a+'\x20<span>'+drugInventory[_0x47596a][_0xf41b30(0x3a4)]+'</span>个</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x34a5d7[_0xf41b30(0x2a4)]=()=>selectDrug(_0x47596a),_0x48d467['appendChild'](_0x34a5d7);}}if(selectedDrug){const _0x478594=Array[_0xf41b30(0x28d)](_0x48d467[_0xf41b30(0x2e0)](_0xf41b30(0x228)))[_0xf41b30(0x125)](_0x161775=>_0x161775[_0xf41b30(0x3ef)]('div')['innerText'][_0xf41b30(0x398)](selectedDrug));_0x478594&&(_0x478594[_0xf41b30(0x338)][_0xf41b30(0x484)]='2px\x20solid\x20white',_0x478594[_0xf41b30(0x338)]['borderRadius']=_0xf41b30(0x358),_0x478594['style'][_0xf41b30(0x2d8)]=_0xf41b30(0xf5));}}function addDrugToInventory(_0x557d0f,_0x23c635=0x1){const _0x47f96a=_0x48f708;drugInventory[_0x557d0f]?drugInventory[_0x557d0f][_0x47f96a(0x3a4)]+=_0x23c635:drugInventory[_0x557d0f]={'quantity':_0x23c635,'url':_0x47f96a(0x2fc),'tier':0x0,'description':'珍贵的神秘药材'},updateDrugGrid(),console[_0x47f96a(0x460)](_0x557d0f+'\x20的数量已更新，当前数量:\x20'+drugInventory[_0x557d0f][_0x47f96a(0x3a4)]);}function closeDrugModal(){const _0x190293=_0x48f708;document[_0x190293(0xd7)](_0x190293(0xda))['style'][_0x190293(0x44e)]=_0x190293(0x46e),selectedDrug=null,document[_0x190293(0xd7)](_0x190293(0x1c3))[_0x190293(0xf8)]=_0x190293(0xaa);}function selectDrug(_0x16b288){const _0x782e8=_0x48f708,_0x435b02=document[_0x782e8(0xd7)]('drug-description');selectedDrug=_0x16b288,_0x435b02&&(_0x435b02[_0x782e8(0xf8)]=drugInventory[_0x16b288][_0x782e8(0xc1)]),updateDrugGrid();}function useSelectedDrug(){const _0x274f17=_0x48f708;if(!selectedDrug){showInfoBox('请选择一种药品！');return;}if(activeBuffs[selectedDrug]){showInfoBox(selectedDrug+_0x274f17(0xf4));return;}if(checkConflictingBuffs(selectedDrug))return;const _0x348ec=drugInventory[selectedDrug];if(_0x348ec[_0x274f17(0x3a4)]>0x0){_0x348ec[_0x274f17(0x3a4)]-=0x1,updateDrugGrid();switch(selectedDrug){case'长生泉':tempBonus[_0x274f17(0x2bc)]+=0x3e8,updatePetInfo(),logBattleEvent(_0x274f17(0x1de),_0x274f17(0x3f4));break;case _0x274f17(0x4b0):const _0x70064d=0x3*0x3e8,_0x6e29b5=1.5*0x3e8,_0x3123c1=Math[_0x274f17(0x122)](maxMana*0.01);let _0x741c6c=0x0;const _0x373886=setInterval(()=>{const _0x5dcf16=_0x274f17;_0x741c6c>=_0x70064d?clearInterval(_0x373886):(battleAttributes['mana']=Math[_0x5dcf16(0x2da)](maxMana,battleAttributes[_0x5dcf16(0x15c)]+_0x3123c1),logBattleEvent(_0x5dcf16(0x1e0)+_0x3123c1+'点。',_0x5dcf16(0x3f4)),updateUI(),_0x741c6c+=_0x6e29b5);},_0x6e29b5);break;case _0x274f17(0x2a6):const _0x3fa0da=0x3*0x3e8,_0x2a4097=1.5*0x3e8,_0x3f8f74=Math['floor'](maxHealth*0.02);let _0x4f955=0x0;const _0x335fe5=setInterval(()=>{const _0x5098c8=_0x274f17;_0x4f955>=_0x3fa0da?clearInterval(_0x335fe5):(battleAttributes[_0x5098c8(0x2bc)]=Math[_0x5098c8(0x2da)](maxHealth,battleAttributes[_0x5098c8(0x2bc)]+_0x3f8f74),updateDamageValue(-_0x3f8f74,!![],_0x5098c8(0x276)),updateUI(),_0x4f955+=_0x2a4097);},_0x2a4097);break;case _0x274f17(0x387):const _0x4ec674=document[_0x274f17(0xd7)](_0x274f17(0x420)),_0xc26c01=Array['from'](_0x4ec674[_0x274f17(0x34b)])[_0x274f17(0x355)](_0x5acd57=>{const _0x15ede1=_0x274f17,_0x1b589=_0x5acd57[_0x15ede1(0xf8)][_0x15ede1(0x19e)]('\x20')[0x0],_0xb7d66e=currentPet[_0x15ede1(0x23d)][_0x15ede1(0x125)](_0x1875f8=>_0x1875f8['name']===_0x1b589);return _0xb7d66e;})[_0x274f17(0x32a)](_0x15083f=>_0x15083f[_0x274f17(0x456)]<0x18&&_0x15083f!==null&&!_0x15083f['byLearned']);if(_0xc26c01[_0x274f17(0xd4)]===0x0){showInfoBox('魔术棱柱最高只能将所选技能等级提升至24级！');break;}let _0x494a3d=_0xc26c01[Math[_0x274f17(0x122)](Math[_0x274f17(0x140)]()*_0xc26c01['length'])];const _0x4f976c=(_0x494a3d[_0x274f17(0x456)]+0x1)*0x2710;currentExp>=_0x4f976c?(currentExp-=_0x4f976c,_0x494a3d[_0x274f17(0x456)]>=0x18&&(_0x494a3d=_0xc26c01[_0x274f17(0x125)](_0x385d15=>_0x385d15[_0x274f17(0x456)]<0x18)),_0x494a3d&&Math[_0x274f17(0x140)]()<0.4?(_0x494a3d[_0x274f17(0x456)]+=0x1,showInfoBox('你消耗了'+_0x4f976c+'点经验值，将'+_0x494a3d[_0x274f17(0x2af)]+_0x274f17(0xa0)+_0x494a3d['level']+_0x274f17(0x12b))):showInfoBox('你消耗了'+_0x4f976c+_0x274f17(0x307)),updateExpBar(currentExp,maxExp),updateUI()):(addDrugToInventory(_0x274f17(0x387),0x1),showInfoBox(_0x274f17(0xb4)));break;case _0x274f17(0xb3):if(Math[_0x274f17(0x140)]()<0.1&&battleRounds>0xa){const _0x11f99e=battleRounds-0xa;initializeEnemyPet(),battleRounds=_0x11f99e,updateEnemyAttributes(),logBattleEvent(_0x274f17(0x3bb),_0x274f17(0x3f4));}else Math[_0x274f17(0x140)]()<0.8?(gainExp(0xc350),logBattleEvent(_0x274f17(0x1b0),_0x274f17(0x3f4))):(battleState[_0x274f17(0x3f7)][_0x274f17(0x2bc)]=0x1,logBattleEvent(_0x274f17(0x159),_0x274f17(0x3f4)));updateUI(),updateExpBar(currentExp,maxExp);break;case _0x274f17(0x356):applyTimedBuff(selectedDrug,()=>{const _0x248f82=_0x274f17;return battleState[_0x248f82(0x1bc)][_0x248f82(0x463)]=0x2,logBattleEvent(_0x248f82(0x2c4),_0x248f82(0x3f4)),()=>{const _0x12f6fb=_0x248f82;battleState['player'][_0x12f6fb(0x463)]=0x1,logBattleEvent(_0x12f6fb(0x4b5),_0x12f6fb(0x19c));};},0xea60);break;case _0x274f17(0x1c8):applyTimedBuff(selectedDrug,()=>{const _0x45a40d=_0x274f17;return battleState[_0x45a40d(0x1bc)][_0x45a40d(0x463)]=0x4,logBattleEvent(_0x45a40d(0x4a4),_0x45a40d(0x3f4)),()=>{const _0x46f05f=_0x45a40d;battleState[_0x46f05f(0x1bc)]['expMultiplier']=0x1,logBattleEvent(_0x46f05f(0x24c),'red');};},0xea60);break;case _0x274f17(0x49b):case _0x274f17(0x2d2):case _0x274f17(0x401):case _0x274f17(0x21c):case _0x274f17(0x274):case _0x274f17(0x13a):if(!activeBuffs[selectedDrug])applyBuff(selectedDrug);else{showInfoBox(selectedDrug+_0x274f17(0xf4));return;}break;case _0x274f17(0x1cb):handleMushroom();break;case _0x274f17(0x3c6):playerCritRate=Math[_0x274f17(0x2da)](0x1,playerCritRate+0.01),logBattleEvent(_0x274f17(0xd5),_0x274f17(0x3f4));break;case _0x274f17(0x23a):playerCritDamage=Math['min'](0x1e,playerCritDamage+0.01),logBattleEvent('使用慧心糖果，暴击伤害永久提高1%。',_0x274f17(0x3f4));break;case _0x274f17(0x220):battleAttributes[_0x274f17(0x2bc)]=Math['min'](maxHealth,battleAttributes['health']+Math[_0x274f17(0x122)](maxHealth*0.2)),updateDamageValue(-Math[_0x274f17(0x122)](maxHealth*0.2),!![],_0x274f17(0x276)),logBattleEvent(_0x274f17(0x1cf)+Math[_0x274f17(0x122)](maxHealth*0.2)+'\x20点生命值。',_0x274f17(0x3f4));break;case _0x274f17(0xca):battleAttributes['mana']=Math['min'](maxMana,battleAttributes[_0x274f17(0x15c)]+Math['floor'](maxMana*0.2)),logBattleEvent(_0x274f17(0x377)+Math[_0x274f17(0x122)](maxMana*0.2)+'\x20点法力值。',_0x274f17(0x3f4));break;case'普通药材':battleAttributes['health']=Math[_0x274f17(0x2da)](maxHealth,battleAttributes[_0x274f17(0x2bc)]+0x3e8),updateDamageValue(-(battleAttributes['health']+0x3e8),!![],_0x274f17(0x276)),battleAttributes['mana']=Math[_0x274f17(0x2da)](maxMana,battleAttributes[_0x274f17(0x15c)]+0x3e8);break;case _0x274f17(0x394):tempBonus[_0x274f17(0x16e)]+=0x14;break;case _0x274f17(0x1ce):tempBonus[_0x274f17(0x2bc)]+=0x32,tempBonus[_0x274f17(0x15c)]+=0x32;break;case _0x274f17(0x9d):tempBonus[_0x274f17(0x2bb)]+=0x23,tempBonus['magicDefense']+=0x23;break;case _0x274f17(0x18f):tempBonus[_0x274f17(0x18c)]+=0xf,tempBonus[_0x274f17(0x381)]+=0xf;break;case'冰莲絮':tempBonus[_0x274f17(0x2bc)]+=0x12c;break;case _0x274f17(0x273):tempBonus[_0x274f17(0x15c)]+=0x12c;break;}updateUI();}else showInfoBox(_0x274f17(0x1a2),'red');}function checkConflictingBuffs(_0x493738){const _0xa334aa=_0x48f708,_0x5d81ad=['神力仙丹',_0xa334aa(0x401),_0xa334aa(0x13a)];if(_0x5d81ad[_0xa334aa(0x255)](_0x493738))for(const _0x1a5466 of _0x5d81ad){if(activeBuffs[_0x1a5466])return showInfoBox(_0xa334aa(0x437)),!![];}return![];}function applyBuff(_0x2d6213){const _0xad5d85=_0x48f708;switch(_0x2d6213){case'武尊秘露':applyTimedBuff(_0x2d6213,()=>{const _0x188579=_0x57f3,_0x525e0b=battleAttributes['physicalAttack'];return battleAttributes[_0x188579(0x18c)]=Math[_0x188579(0x122)](battleAttributes['physicalAttack']*1.5),logBattleEvent(_0x188579(0x2c6),'gold'),()=>{const _0x5cdac6=_0x188579;battleAttributes[_0x5cdac6(0x18c)]=_0x525e0b,logBattleEvent('武尊秘露冷却结束。',_0x5cdac6(0x19c));};},0x4e20);break;case'神力仙丹':applyTimedBuff(_0x2d6213,()=>{const _0x19dcef=_0x57f3;return battleState[_0x19dcef(0x1bc)]['critDamage']=Math['min'](0x1e,playerCritDamage+0.5),logBattleEvent(_0x19dcef(0x108),'gold'),()=>{const _0x249194=_0x19dcef;battleState[_0x249194(0x1bc)][_0x249194(0x3ae)]=playerCritDamage-0.5,logBattleEvent(_0x249194(0x170),_0x249194(0x19c));};},0x4e20);break;case _0xad5d85(0x401):applyTimedBuff(_0x2d6213,()=>{const _0x3e57a1=_0xad5d85;return battleState[_0x3e57a1(0x1bc)][_0x3e57a1(0x333)]=Math[_0x3e57a1(0x2da)](0xa,playerCritRate+0.5),logBattleEvent(_0x3e57a1(0xcb),'gold'),()=>{const _0x241ef2=_0x3e57a1;battleState['player'][_0x241ef2(0x333)]=playerCritRate-0.5,logBattleEvent(_0x241ef2(0x2d6),'red');};},0x4e20);break;case'化功散':applyTimedBuff(_0x2d6213,()=>{const _0x3673e7=_0xad5d85,_0x2c3adf=enemyCritRate;return enemyCritRate=0x0,logBattleEvent(_0x3673e7(0x2e9),_0x3673e7(0x3f4)),()=>{const _0x16c9c0=_0x3673e7;enemyCritRate=_0x2c3adf,logBattleEvent(_0x16c9c0(0x4ac),_0x16c9c0(0x19c));};},0x7530);break;case'沉檀凝香':const _0x4a7af0=Math['floor'](maxHealth*0.1);battleAttributes['health']=Math['min'](maxHealth,battleAttributes[_0xad5d85(0x2bc)]+_0x4a7af0),logBattleEvent(_0xad5d85(0x36f)+_0x4a7af0+'\x20点生命值。',_0xad5d85(0x3f4));Math[_0xad5d85(0x140)]()<0.8?(clearEnemyEffect(),logBattleEvent(_0xad5d85(0x341),_0xad5d85(0x3f4))):logBattleEvent(_0xad5d85(0x2aa),_0xad5d85(0x19c));break;case _0xad5d85(0x13a):battleAttributes['health']>=maxHealth*0.2?applyTimedBuff(_0x2d6213,()=>{const _0xc34df1=_0xad5d85,_0x39a3b7=battleAttributes[_0xc34df1(0x18c)],_0x1e2c86=battleAttributes[_0xc34df1(0x381)];return battleAttributes[_0xc34df1(0x2bc)]-=Math[_0xc34df1(0x122)](maxHealth*0.2),battleAttributes[_0xc34df1(0x18c)]=Math[_0xc34df1(0x122)](battleAttributes[_0xc34df1(0x18c)]*1.5),battleAttributes['magicAttack']=Math[_0xc34df1(0x122)](battleAttributes[_0xc34df1(0x381)]*1.5),battleState[_0xc34df1(0x1bc)][_0xc34df1(0x333)]=Math[_0xc34df1(0x2da)](0xa,playerCritRate+0.5),battleState[_0xc34df1(0x1bc)]['critDamage']=Math[_0xc34df1(0x2da)](0x1e,playerCritDamage+0.5),logBattleEvent(_0xc34df1(0x10e),_0xc34df1(0x3f4)),()=>{const _0x1283a7=_0xc34df1;battleAttributes['physicalAttack']=_0x39a3b7,battleAttributes[_0x1283a7(0x381)]=_0x1e2c86,battleState[_0x1283a7(0x1bc)]['critRate']-=0.5,battleState[_0x1283a7(0x1bc)]['critDamage']-=0.5,logBattleEvent(_0x1283a7(0x310),_0x1283a7(0x19c));};},0x4e20):showInfoBox(_0xad5d85(0x161));break;}}function applyTimedBuff(_0x3175b6,_0x67735d,_0x56b282){if(activeBuffs[_0x3175b6])return;const _0x5ac7c1=_0x67735d();activeBuffs[_0x3175b6]=setTimeout(()=>{_0x5ac7c1(),delete activeBuffs[_0x3175b6],updateUI();},_0x56b282);}function applyDrugBonus0(_0x39b5ab,_0x44bf10){const _0x191ed5=_0x48f708;if(!battleState||!battleState['player']){console[_0x191ed5(0x2b0)](_0x191ed5(0x1ec));return;}if(drugBonus0[_0x191ed5(0x474)](_0x39b5ab))drugBonus0[_0x39b5ab]+=_0x44bf10;else{console[_0x191ed5(0x2b0)](_0x191ed5(0x266));return;}battleState[_0x191ed5(0x1bc)][_0x191ed5(0x474)](_0x39b5ab)?battleState[_0x191ed5(0x1bc)][_0x39b5ab]+=_0x44bf10:console['error'](_0x191ed5(0x368));if(_0x39b5ab==='health')maxHealth=battleState[_0x191ed5(0x1bc)][_0x191ed5(0x2bc)];else _0x39b5ab===_0x191ed5(0x15c)&&(maxMana=battleState[_0x191ed5(0x1bc)][_0x191ed5(0x15c)]);[_0x191ed5(0x18c),'physicalDefense',_0x191ed5(0x381),_0x191ed5(0x33b),_0x191ed5(0x16e)][_0x191ed5(0x255)](_0x39b5ab)&&updatePetInfo();const _0x4978ca={'health':_0x191ed5(0x31c),'mana':_0x191ed5(0x2cc),'physicalAttack':'物理攻击力','physicalDefense':'物理防御力','magicAttack':_0x191ed5(0x253),'magicDefense':'法术防御力','speed':'速度'};logBattleEvent('永久增加了\x20'+_0x44bf10+'\x20点'+_0x4978ca[_0x39b5ab]+'。',_0x191ed5(0x3f4)),updateUI();}function collectDrug(){const _0x499bee=_0x48f708;if(goldAmount<collectCost){showInfoBox('金子不足，无法进行采集！');return;}goldAmount-=collectCost,updateGoldDisplay(goldAmount),collectCost+=0x64;const _0x47c0a5=Math[_0x499bee(0x140)]()*0x64;let _0x21fbc7;if(_0x47c0a5<0x32)_0x21fbc7=_0x499bee(0x402),drugInventory['普通药材'][_0x499bee(0x3a4)]+=0x1;else{if(_0x47c0a5<0x50)_0x21fbc7='上等药材',drugInventory[_0x499bee(0x394)][_0x499bee(0x3a4)]+=0x1;else{if(_0x47c0a5<0x5f)_0x21fbc7=_0x499bee(0x1ce),drugInventory[_0x499bee(0x1ce)][_0x499bee(0x3a4)]+=0x1;else _0x47c0a5<0x62?(_0x21fbc7='珍贵药材',drugInventory['珍贵药材'][_0x499bee(0x3a4)]+=0x1):(_0x21fbc7=_0x499bee(0x18f),drugInventory[_0x499bee(0x18f)][_0x499bee(0x3a4)]+=0x1,addItemToJinnang(_0x499bee(0x25b),0x1),showInfoBox(_0x499bee(0x20c)));}}const _0x58812d=Math[_0x499bee(0x140)]()*0x64;let _0x231140=0x1;if(_0x58812d<0x1)_0x231140=0x3;else _0x58812d<0x3&&(_0x231140=0x2);_0x231140>0x1?(drugInventory[_0x21fbc7][_0x499bee(0x3a4)]+=_0x231140-0x1,document[_0x499bee(0xd7)](_0x499bee(0x1c3))[_0x499bee(0xf8)]=_0x499bee(0x262)+convertPrice(collectCost-0x64)+'金子打点进山凭证，采集到了'+_0x231140+'个'+_0x21fbc7+'！'):document[_0x499bee(0xd7)](_0x499bee(0x1c3))[_0x499bee(0xf8)]=_0x499bee(0x262)+convertPrice(collectCost-0x64)+_0x499bee(0x162)+_0x21fbc7+'！',updateDrugGrid();}function mergeDrug(){const _0x10b835=_0x48f708;if(!selectedDrug){showInfoBox(_0x10b835(0x193));return;}const _0x53ca5c=drugInventory[selectedDrug],_0x2f1cd4=_0x53ca5c[_0x10b835(0x3c1)];if(_0x2f1cd4===0x0){const _0x322454=0x3;if(_0x53ca5c[_0x10b835(0x3a4)]<_0x322454){showInfoBox(_0x10b835(0x1f2));return;}_0x53ca5c[_0x10b835(0x3a4)]-=_0x322454;const _0x4fdd57=Math['random']();let _0x1c436a='';if(_0x4fdd57<0.1)_0x1c436a='你使用3个'+selectedDrug+_0x10b835(0x27a);else{if(_0x4fdd57<0.2)drugInventory[selectedDrug][_0x10b835(0x3a4)]+=0x1,_0x1c436a=_0x10b835(0x1f9)+selectedDrug+'进行炼制，但只得到了1个'+selectedDrug;else{if(_0x4fdd57<0.5){const _0x20799a=Object['keys'](drugInventory)[_0x10b835(0x32a)](_0x210457=>drugInventory[_0x210457][_0x10b835(0x3c1)]===0x1),_0x3fc5a3=[];for(let _0x59745d=0x0;_0x59745d<0x3;_0x59745d++){const _0x4dc66c=_0x20799a[Math[_0x10b835(0x122)](Math['random']()*_0x20799a[_0x10b835(0xd4)])];drugInventory[_0x4dc66c][_0x10b835(0x3a4)]+=0x1,_0x3fc5a3[_0x10b835(0x153)](_0x4dc66c);}_0x1c436a=_0x10b835(0x1f9)+selectedDrug+_0x10b835(0x136)+_0x3fc5a3[_0x10b835(0x2fa)](',\x20');}else{const _0x36860d=Object[_0x10b835(0x1f8)](drugInventory)['filter'](_0x5cc9f0=>drugInventory[_0x5cc9f0][_0x10b835(0x3c1)]===0x0),_0x1075b5=[];for(let _0x3e763a=0x0;_0x3e763a<0x2;_0x3e763a++){const _0x15f75b=_0x36860d[Math[_0x10b835(0x122)](Math[_0x10b835(0x140)]()*_0x36860d['length'])];drugInventory[_0x15f75b][_0x10b835(0x3a4)]+=0x1,_0x1075b5[_0x10b835(0x153)](_0x15f75b);}_0x1c436a=_0x10b835(0x1f9)+selectedDrug+_0x10b835(0x292)+_0x1075b5[_0x10b835(0x2fa)](',\x20');}}}document['getElementById']('drug-description')[_0x10b835(0xf8)]=_0x1c436a;}else{const _0x5b6038=0x5;if(_0x53ca5c[_0x10b835(0x3a4)]<_0x5b6038){showInfoBox(_0x10b835(0x1d3));return;}_0x53ca5c[_0x10b835(0x3a4)]-=_0x5b6038;const _0xdc6551=_0x2f1cd4-0x1,_0x5159ab=Object[_0x10b835(0x1f8)](drugInventory)[_0x10b835(0x32a)](_0x3298ce=>drugInventory[_0x3298ce]['tier']===_0xdc6551),_0xaa5d52=_0x5159ab[Math[_0x10b835(0x122)](Math[_0x10b835(0x140)]()*_0x5159ab[_0x10b835(0xd4)])];drugInventory[_0xaa5d52][_0x10b835(0x3a4)]+=0x1,document[_0x10b835(0xd7)]('drug-description')['innerText']=_0x10b835(0x325)+selectedDrug+'成功炼制出了1个'+_0xaa5d52;}updateDrugGrid();}document[_0x48f708(0xd7)](_0x48f708(0x3d0))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x207fe9=_0x48f708;if(battleState[_0x207fe9(0x1bc)][_0x207fe9(0x2f8)]){performAttack(_0x207fe9(0x406));return;}!awakened?showInfoBox(_0x207fe9(0x138)):(document['getElementById'](_0x207fe9(0x11b))['style']['display']=_0x207fe9(0x241),updateSpiritDisplay());});function checkAwakening(){const _0x946c56=_0x48f708;awakened?document[_0x946c56(0xd7)]('battle-spirit-button')['style'][_0x946c56(0x44e)]=_0x946c56(0x241):document['getElementById'](_0x946c56(0x3d0))['style'][_0x946c56(0x44e)]='block';}function getBaseSpiritAttributes(){return!awakened?{'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0}:{'health':0x7,'mana':0x6,'physicalAttack':0x2,'physicalDefense':2.1,'magicAttack':1.9,'magicDefense':2.05,'speed':0x1};}function displayInBottle(){const _0x23edc9=_0x48f708,_0xacd4cf=getCurrentSpiritAttributes(),_0x3a8a95=new Map([[_0x23edc9(0x2bc),'生命值'],[_0x23edc9(0x381),_0x23edc9(0x3a2)],['magicDefense','法术防御'],['mana',_0x23edc9(0x2cc)],['physicalAttack',_0x23edc9(0x322)],[_0x23edc9(0x2bb),_0x23edc9(0x3b6)],['speed','速度']]);let _0x444140='';for(const [_0x1e4fa5,_0x4869ab]of Object[_0x23edc9(0xfd)](_0xacd4cf)){const _0x741a54=_0x3a8a95[_0x23edc9(0x40b)](_0x1e4fa5)||_0x1e4fa5;_0x444140+=_0x741a54+':\x20'+_0x4869ab+'\x0a';}showInfoBox('\x0a1.当前你携带的精灵等级为'+spiritLevel+_0x23edc9(0x48a)+spiritMultiplier+_0x23edc9(0x1ff)+_0x444140);}function updateSpiritDisplay(){const _0x5d68cb=_0x48f708,_0x496dd0=getCurrentSpiritAttributes();document[_0x5d68cb(0xd7)](_0x5d68cb(0x234))[_0x5d68cb(0xf8)]=spiritLevel,document['getElementById'](_0x5d68cb(0x12f))['innerText']=Math['round'](spiritMultiplier*0x64)+'%',document[_0x5d68cb(0xd7)](_0x5d68cb(0x156))[_0x5d68cb(0xf8)]=_0x496dd0[_0x5d68cb(0x2bc)],document['getElementById']('spirit-mana')[_0x5d68cb(0xf8)]=_0x496dd0[_0x5d68cb(0x15c)],document[_0x5d68cb(0xd7)](_0x5d68cb(0xe9))['innerText']=_0x496dd0['physicalAttack'],document[_0x5d68cb(0xd7)](_0x5d68cb(0x280))[_0x5d68cb(0xf8)]=_0x496dd0[_0x5d68cb(0x2bb)],document[_0x5d68cb(0xd7)](_0x5d68cb(0x2ad))['innerText']=_0x496dd0['magicAttack'],document[_0x5d68cb(0xd7)](_0x5d68cb(0x20f))[_0x5d68cb(0xf8)]=_0x496dd0[_0x5d68cb(0x33b)],document['getElementById'](_0x5d68cb(0x236))['innerText']=_0x496dd0[_0x5d68cb(0x16e)];}document['getElementById'](_0x48f708(0x1bd))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x4712bd=_0x48f708;document[_0x4712bd(0xd7)]('battle-spirit-modal')['style'][_0x4712bd(0x44e)]=_0x4712bd(0x46e);}),document[_0x48f708(0xd7)](_0x48f708(0x3e1))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x19ce62=_0x48f708;if(spiritLevel>=0x64){showMessage(_0x19ce62(0x17c),'error');return;}if(useItem(_0x19ce62(0x281),0x1)){let _0x1a8ba7,_0x33ec38=0x0,_0x28db94;if(spiritLevel<=0x14)_0x1a8ba7=0x1,_0x28db94=0x1;else{if(spiritLevel<=0x1e)_0x1a8ba7=0.95,_0x28db94=0x15;else{if(spiritLevel<=0x28)_0x1a8ba7=0.9,_0x33ec38=0x1,_0x28db94=0x1f;else{if(spiritLevel<=0x32)_0x1a8ba7=0.85,_0x33ec38=0x1,_0x28db94=0x29;else{if(spiritLevel<=0x3c)_0x1a8ba7=0.8,_0x33ec38=0x1,_0x28db94=0x33;else{if(spiritLevel<=0x46)_0x1a8ba7=0.85,_0x33ec38=0x2,_0x28db94=0x3d;else{if(spiritLevel<=0x50)_0x1a8ba7=0.8,_0x33ec38=0x2,_0x28db94=0x47;else{if(spiritLevel<=0x5a)_0x1a8ba7=0.75,_0x33ec38=0x2,_0x28db94=0x51;else spiritLevel<=0x63&&(_0x1a8ba7=0.7,_0x33ec38=0x2,_0x28db94=0x5b);}}}}}}}const _0x488107=Math[_0x19ce62(0x140)]();_0x488107<_0x1a8ba7?(spiritLevel+=0x1,updateSpiritDisplay(),updatePetInfo()):(_0x33ec38>0x0?(spiritLevel=Math[_0x19ce62(0x309)](_0x28db94,spiritLevel-_0x33ec38),showMessage(_0x19ce62(0x3b5)+_0x33ec38+_0x19ce62(0x177)+_0x28db94+'\x20级！','error')):showMessage(_0x19ce62(0x21e),'error'),updateSpiritDisplay(),updatePetInfo());}else showMessage('您的精灵精炼石不足！','error');}),document[_0x48f708(0xd7)](_0x48f708(0xfa))['addEventListener'](_0x48f708(0x23c),()=>{const _0xe8159b=_0x48f708,_0x425fdf=parseInt(prompt('请输入目标精灵等级：'),0xa);if(isNaN(_0x425fdf)||_0x425fdf<=spiritLevel||_0x425fdf>maxSpiritLevel){showMessage('无效的目标等级！','error');return;}let _0x1ef6d5=spiritLevel,_0x117136=0x0;while(spiritLevel<_0x425fdf&&useItem(_0xe8159b(0x281),0x1)){_0x117136++;let _0x4b89e7,_0x20c296=0x0,_0x10de5b;if(spiritLevel<=0x14)_0x4b89e7=0x1,_0x10de5b=0x1;else{if(spiritLevel<=0x1e)_0x4b89e7=0.95,_0x10de5b=0x15;else{if(spiritLevel<=0x28)_0x4b89e7=0.9,_0x20c296=0x1,_0x10de5b=0x1f;else{if(spiritLevel<=0x32)_0x4b89e7=0.85,_0x20c296=0x1,_0x10de5b=0x29;else{if(spiritLevel<=0x3c)_0x4b89e7=0.8,_0x20c296=0x1,_0x10de5b=0x33;else{if(spiritLevel<=0x46)_0x4b89e7=0.85,_0x20c296=0x2,_0x10de5b=0x3d;else{if(spiritLevel<=0x50)_0x4b89e7=0.8,_0x20c296=0x2,_0x10de5b=0x47;else{if(spiritLevel<=0x5a)_0x4b89e7=0.75,_0x20c296=0x2,_0x10de5b=0x51;else spiritLevel<=0x63&&(_0x4b89e7=0.7,_0x20c296=0x2,_0x10de5b=0x5b);}}}}}}}const _0x5ccaf0=Math[_0xe8159b(0x140)]();_0x5ccaf0<_0x4b89e7?(spiritLevel+=0x1,updateSpiritDisplay(),updatePetInfo()):(_0x20c296>0x0&&(spiritLevel=Math['max'](_0x10de5b,spiritLevel-_0x20c296)),updateSpiritDisplay(),updatePetInfo());}showMessage('您耗费了\x20'+_0x117136+_0xe8159b(0x1db)+spiritLevel+_0xe8159b(0x299),_0xe8159b(0x199));});function getCurrentSpiritAttributes(){const _0x2e4c3d=_0x48f708,_0x14d01c=getBaseSpiritAttributes();return{'health':Math['floor'](_0x14d01c[_0x2e4c3d(0x2bc)]*Math[_0x2e4c3d(0x29c)](1.08,spiritLevel)*spiritMultiplier),'mana':Math['floor'](_0x14d01c['mana']*Math[_0x2e4c3d(0x29c)](1.08,spiritLevel)*spiritMultiplier),'physicalAttack':Math[_0x2e4c3d(0x122)](_0x14d01c['physicalAttack']*Math['pow'](1.07,spiritLevel)*spiritMultiplier),'physicalDefense':Math[_0x2e4c3d(0x122)](_0x14d01c[_0x2e4c3d(0x2bb)]*Math[_0x2e4c3d(0x29c)](1.08,spiritLevel)*spiritMultiplier),'magicAttack':Math['floor'](_0x14d01c['magicAttack']*Math[_0x2e4c3d(0x29c)](1.07,spiritLevel)*spiritMultiplier),'magicDefense':Math[_0x2e4c3d(0x122)](_0x14d01c[_0x2e4c3d(0x33b)]*Math[_0x2e4c3d(0x29c)](1.08,spiritLevel)*spiritMultiplier),'speed':Math[_0x2e4c3d(0x122)](_0x14d01c[_0x2e4c3d(0x16e)]*Math[_0x2e4c3d(0x29c)](1.07,spiritLevel)*spiritMultiplier)};}document[_0x48f708(0xd7)]('enhance-spirit')[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x47b40e=_0x48f708;if(useItem(_0x47b40e(0x405),0x1)){let _0x101486;const _0x2e4649=Math[_0x47b40e(0x140)]();if(_0x2e4649<0.95)_0x101486=(Math['random']()*(0x3-0.01)+0.01)[_0x47b40e(0x42f)](0x2);else{if(_0x2e4649<0.98)_0x101486=(Math[_0x47b40e(0x140)]()*(3.99-3.01)+3.01)[_0x47b40e(0x42f)](0x2);else _0x2e4649<0.99?_0x101486=(Math[_0x47b40e(0x140)]()*(4.1-0x4)+0x4)[_0x47b40e(0x42f)](0x2):_0x101486=(Math[_0x47b40e(0x140)]()*(4.15-4.11)+4.11)['toFixed'](0x2);}if(parseFloat(_0x101486)>3.9){const _0xbf5ce=_0x47b40e(0x17e);showInfoBox(_0xbf5ce,()=>{spiritMultiplier=parseFloat(_0x101486),updateSpiritDisplay(),updatePetInfo();});}else spiritMultiplier=parseFloat(_0x101486),updateSpiritDisplay(),updatePetInfo();}else showInfoBox(_0x47b40e(0x49c));});function handleSpiritHeal(){const _0x44b6d5=_0x48f708;if(!awakened)return;if(summonEnemy)return;const _0x5e5d9c=0.01,_0x3e050a=_0x5e5d9c+spiritMultiplier/0x190,_0x3283de=Math['round'](_0x3e050a*0x64);if(Math[_0x44b6d5(0x140)]()*0x64<_0x3283de){const _0x3c9043=getCurrentSpiritAttributes(),_0x497c17=Math[_0x44b6d5(0xe6)]((Math[_0x44b6d5(0x140)]()*(1.8-0.9)+0.9)*_0x3c9043[_0x44b6d5(0x381)]*spiritMultiplier*2.5);battleState[_0x44b6d5(0x1bc)]['health']=Math[_0x44b6d5(0x2da)](battleState['player'][_0x44b6d5(0x2bc)]+_0x497c17,maxHealth),logBattleEvent('🧚🏻精灵为你祈福，恢复了⭐️'+_0x497c17+_0x44b6d5(0x10d),_0x44b6d5(0x290)),updateDamageValue(-_0x497c17,!![],_0x44b6d5(0x1c4)),updateUI();}}function handleSpiritPower(){const _0xd5c041=_0x48f708;if(!awakened)return;if(summonEnemy)return;const _0x477a93=0.01,_0x5a362e=_0x477a93+spiritMultiplier/0x190,_0x2de8d2=Math['round'](_0x5a362e*0x64);if(Math[_0xd5c041(0x140)]()*0x64<_0x2de8d2&&!spiritPowerActive){spiritPowerActive=!![],battleState['player'][_0xd5c041(0x451)]=!![];const _0x1866c9=getCurrentSpiritAttributes(),_0x4044c7={'health':Math[_0xd5c041(0xe6)](_0x1866c9[_0xd5c041(0x2bc)]/0x2),'mana':Math[_0xd5c041(0xe6)](_0x1866c9['mana']/1.5),'physicalAttack':Math[_0xd5c041(0xe6)](_0x1866c9[_0xd5c041(0x18c)]/1.5),'physicalDefense':Math[_0xd5c041(0xe6)](_0x1866c9[_0xd5c041(0x2bb)]/1.2),'magicAttack':Math[_0xd5c041(0xe6)](_0x1866c9[_0xd5c041(0x381)]/1.5),'magicDefense':Math[_0xd5c041(0xe6)](_0x1866c9[_0xd5c041(0x33b)]/1.3),'speed':Math['round'](_0x1866c9['speed']/1.3)};Object[_0xd5c041(0x1f8)](_0x4044c7)[_0xd5c041(0x1ee)](_0x25ce0b=>{battleAttributes[_0x25ce0b]+=_0x4044c7[_0x25ce0b];}),logBattleEvent(_0xd5c041(0x2cf),'pink'),updateUI(),setTimeout(()=>{const _0x315c1e=_0xd5c041;Object['keys'](_0x4044c7)[_0x315c1e(0x1ee)](_0x5b70cd=>{battleAttributes[_0x5b70cd]-=_0x4044c7[_0x5b70cd];}),spiritPowerActive=![],battleState[_0x315c1e(0x1bc)]['spiritPowerActive']=![],updateUI();},0x1388);}}function handleSpiritAttack(){const _0x2f6096=_0x48f708;if(!awakened)return;if(summonEnemy)return;const _0x1c076b=0.01,_0x4307c2=_0x1c076b+spiritMultiplier/0x190,_0x3defeb=Math[_0x2f6096(0xe6)](_0x4307c2*0x64);if(Math['random']()*0x64<_0x3defeb){const _0x3a47cb=getCurrentSpiritAttributes(),_0x3f0277=Math[_0x2f6096(0xe6)]((Math[_0x2f6096(0x140)]()*(2.4-1.8)+1.8)*_0x3a47cb[_0x2f6096(0x381)]*spiritMultiplier*battleState[_0x2f6096(0x1bc)][_0x2f6096(0x3ae)]);battleState['enemy']['health']=Math['max'](battleState[_0x2f6096(0x3f7)][_0x2f6096(0x2bc)]-_0x3f0277,0x0),logBattleEvent('🧚🏻Attack\x20from\x20your\x20best\x20teammate！敌人受到来自精灵的'+_0x3f0277+_0x2f6096(0x197),'pink');if(battleState[_0x2f6096(0x3f7)]['health']<=0x0){showNextBattlePrompt(!![]);return;}Math[_0x2f6096(0x140)]()<0.4+_0x4307c2&&handleSleep(),updateUI();}}document[_0x48f708(0xd7)]('enable-ascension')[_0x48f708(0x479)]('click',handleAscensionButtonClick);function handleAscensionButtonClick(){const _0x594b82=_0x48f708;if(!ascend){showInfoBox(_0x594b82(0x3d2));return;}ascensionEnabled?ascensionSkillDescription():useItem(_0x594b82(0x144),0x1)?(showInfoBox(_0x594b82(0x210)),refreshAscensionSkill(),applyAscensionBonus(),ascensionEnabled=!![]):showInfoBox(_0x594b82(0xae)),updateAscensionButton();}document[_0x48f708(0xd7)](_0x48f708(0x3b8))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x17cbd2=_0x48f708;document[_0x17cbd2(0xd7)]('ascension-skill-modal')[_0x17cbd2(0x338)][_0x17cbd2(0x44e)]=_0x17cbd2(0x46e);});function checkAscensionEnabled(){if(!ascensionEnabled)return showInfoBox('请先开启飞升之术增益！'),![];return!![];}function updateAscensionButton(){const _0x23a625=_0x48f708,_0x4ea501=document['getElementById'](_0x23a625(0x374));ascensionEnabled?(_0x4ea501[_0x23a625(0xf8)]=_0x23a625(0xfb),_0x4ea501[_0x23a625(0x338)]['backgroundColor']='darkred',_0x4ea501['removeEventListener'](_0x23a625(0x23c),handleAscensionButtonClick),_0x4ea501[_0x23a625(0x479)]('click',ascensionSkillDescription)):(_0x4ea501[_0x23a625(0xf8)]=_0x23a625(0x97),_0x4ea501[_0x23a625(0x338)][_0x23a625(0x242)]='',_0x4ea501[_0x23a625(0x38c)](_0x23a625(0x23c),ascensionSkillDescription),_0x4ea501[_0x23a625(0x479)](_0x23a625(0x23c),handleAscensionButtonClick));}function ascensionSkillDescription(){const _0x17e65b=_0x48f708;let _0x3d9581=[],_0x329f2b=0x1;for(const _0x1a6391 in ascensionSkills){ascensionSkills['hasOwnProperty'](_0x1a6391)&&ascensionSkills[_0x1a6391][_0x17e65b(0x1ee)](_0x28bb92=>{const _0x4a9689=_0x17e65b;_0x3d9581[_0x4a9689(0x153)](_0x329f2b+'.\x20'+_0x28bb92[_0x4a9689(0x2af)]+'：'+_0x28bb92[_0x4a9689(0x1cd)](0x1)),_0x329f2b++;});}const _0x556a85=_0x3d9581[_0x17e65b(0x2fa)]('\x0a');showInfoBox(_0x556a85);}document[_0x48f708(0xd7)](_0x48f708(0x320))[_0x48f708(0x479)]('click',()=>{const _0x1ac060=_0x48f708;if(!petAscended)showInfoBox(_0x1ac060(0xed));else{if(battleState[_0x1ac060(0x1bc)][_0x1ac060(0x2f8)]){performAttack(_0x1ac060(0x406));return;}else document[_0x1ac060(0xd7)]('ascension-skill-modal')['style'][_0x1ac060(0x44e)]=_0x1ac060(0x241),updateAscensionDisplay();}}),document[_0x48f708(0xd7)](_0x48f708(0x392))[_0x48f708(0x479)]('click',()=>{const _0x317b6d=_0x48f708;if(!checkAscensionEnabled())return;useItem(_0x317b6d(0x144),0x1)?(refreshAscensionSkill(),applyAscensionBonus()):showInfoBox(_0x317b6d(0xae));});function refreshAscensionSkill(){const _0x5246a6=_0x48f708;let _0x54aa1e;do{const _0x2e10e8=[...ascensionSkills[_0x5246a6(0x13f)],...ascensionSkills[_0x5246a6(0x37d)],...ascensionSkills[_0x5246a6(0x2d9)]];_0x54aa1e=_0x2e10e8[Math[_0x5246a6(0x122)](Math['random']()*_0x2e10e8['length'])];}while(_0x54aa1e['name']===secondAscensionSkill[_0x5246a6(0x2af)]||_0x54aa1e[_0x5246a6(0x2af)]===_0x5246a6(0x3f0)||_0x54aa1e[_0x5246a6(0x2af)]===_0x5246a6(0x48b));ascensionSkill={..._0x54aa1e,'level':0x1},updateAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}document['getElementById'](_0x48f708(0xbd))['addEventListener'](_0x48f708(0x23c),()=>{const _0x124658=_0x48f708;if(!checkAscensionEnabled())return;useItem(_0x124658(0x270),0xa)?levelUpAscensionSkill():showInfoBox('每次提升技能需要消耗10个天地灵气，你的天地灵气数量不足！');});function levelUpAscensionSkill(){const _0x255c84=_0x48f708;ascensionSkill['level']<0x14?(ascensionSkill[_0x255c84(0x456)]+=0x1,updateAscensionDisplay(),applyAscensionBonus()):showInfoBox(_0x255c84(0x2a2));}function updateAscensionDisplay(){const _0xfdcdfb=_0x48f708;document[_0xfdcdfb(0xd7)](_0xfdcdfb(0x4bc))['src']=_0xfdcdfb(0x10a),document[_0xfdcdfb(0xd7)]('ascension-name')[_0xfdcdfb(0xf8)]=ascensionSkill[_0xfdcdfb(0x2af)],document[_0xfdcdfb(0xd7)]('ascension-level')[_0xfdcdfb(0xf8)]=_0xfdcdfb(0x318)+ascensionSkill[_0xfdcdfb(0x456)],document[_0xfdcdfb(0xd7)](_0xfdcdfb(0x3ac))[_0xfdcdfb(0xf8)]='';const _0x14c1ba=ascensionSkills[_0xfdcdfb(0x37d)][_0xfdcdfb(0x125)](_0x1d136d=>_0x1d136d[_0xfdcdfb(0x2af)]===ascensionSkill[_0xfdcdfb(0x2af)])||ascensionSkills[_0xfdcdfb(0x13f)][_0xfdcdfb(0x125)](_0x371b48=>_0x371b48[_0xfdcdfb(0x2af)]===ascensionSkill['name'])||ascensionSkills[_0xfdcdfb(0x2d9)]['find'](_0x22e3c1=>_0x22e3c1[_0xfdcdfb(0x2af)]===ascensionSkill[_0xfdcdfb(0x2af)]);_0x14c1ba&&(document[_0xfdcdfb(0xd7)](_0xfdcdfb(0x3ac))[_0xfdcdfb(0xf8)]=_0x14c1ba['effect'](ascensionSkill[_0xfdcdfb(0x456)]));}function checkSecondAscensionEnabled(){const _0x56c952=_0x48f708,_0x143925=document[_0x56c952(0xd7)]('second-ascension-skill');if(!reenableAscension||!ascensionEnabled){const _0xc1cfce=secondAscensionSkill?secondAscensionSkill[_0x56c952(0x2af)]:null;return _0x143925[_0x56c952(0x338)][_0x56c952(0x44e)]='none',_0xc1cfce?console[_0x56c952(0x460)](_0x56c952(0x397)+_0xc1cfce+_0x56c952(0x49d)):console[_0x56c952(0x460)](_0x56c952(0x2a9)),![];}else return _0x143925['style'][_0x56c952(0x44e)]=_0x56c952(0x241),!![];}document[_0x48f708(0xd7)](_0x48f708(0x105))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x3f330c=_0x48f708;if(!ascensionSkill['name']&&!ascensionEnabled){showInfoBox(_0x3f330c(0x3da));return;}const _0x24be58=document['getElementById'](_0x3f330c(0x257));_0x24be58['style']['display']===_0x3f330c(0x46e)?confirm(_0x3f330c(0x364))&&(useItem('ascensionStone',0xa)?(_0x24be58[_0x3f330c(0x338)][_0x3f330c(0x44e)]=_0x3f330c(0x241),refreshSecondAscensionSkill(),reenableAscension=!![]):showInfoBox('您的飞升之石不足！')):showInfoBox('您已经开启过第二个飞升之术了！'),checkSecondAscensionEnabled();}),document[_0x48f708(0xd7)]('refresh-second-ascension')['addEventListener'](_0x48f708(0x23c),()=>{const _0x455e3f=_0x48f708;if(!checkSecondAscensionEnabled())return;useItem(_0x455e3f(0x144),0x1)?refreshSecondAscensionSkill():showInfoBox(_0x455e3f(0xae));});function refreshSecondAscensionSkill(){const _0x2ddfed=_0x48f708;let _0x5bf54a;do{const _0x5cea43=[...ascensionSkills[_0x2ddfed(0x13f)],...ascensionSkills[_0x2ddfed(0x37d)],...ascensionSkills[_0x2ddfed(0x2d9)]];_0x5bf54a=_0x5cea43[Math[_0x2ddfed(0x122)](Math[_0x2ddfed(0x140)]()*_0x5cea43[_0x2ddfed(0xd4)])];}while(_0x5bf54a['name']===ascensionSkill['name']||_0x5bf54a[_0x2ddfed(0x2af)]===_0x2ddfed(0x3f0)||_0x5bf54a[_0x2ddfed(0x2af)]===_0x2ddfed(0x48b));secondAscensionSkill={..._0x5bf54a,'level':0x1},updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}function _0xd0fe(){const _0x35204b=['每秒有','https://pic.imgdb.cn/item/666c1408d9c307b7e9cea2fd.png','当前反弹比例为','poisonedTimer','橙色品阶，永久提高1%暴击率','color','https://pic.imgdb.cn/item/669a6459d9c307b7e91b9003.png','Invalid\x20damage\x20value:\x20NaN.','#003670','reward','goldBonus','applied','display','\x20\x0a6.\x20生命值是玩家受到伤害时会扣除的值，战斗过程中玩家的血量会每秒按照上线比例进行减少\x20\x0a7.\x20法力值是玩家使用技能时的必要消耗数值\x20\x0a8.\x20物理攻击决定物理类技能的伤害基础\x20\x0a9.\x20物理防御决定玩家对敌人物理技能的减伤效果，请注意，减伤效果并不是线性增加的，当防御数值达到临界值后，减伤效果的增长将会变缓（下同法术防御）\x20\x0a10.\x20法术攻击决定玩家的法术伤害类技能的强度，同时决定了玩家的治疗能力和施毒能力\x20\x0a11.\x20法术防御决定了玩家抵抗敌人法术伤害的减伤效果\x20\x0a12.速度决定战斗开始时的出手先后顺序，同时也决定了物理闪避率（根据双方速度之差判断闪避概率）','default','spiritPowerActive','玩家已经处于\x20','妖怪被沉默，无法进行法术攻击。','sleep','defenseBonusCount','level','retryPhysical','寿命不足，无法触发上善若水','slowTimer','这是一个召唤得来的怪物。','1个珍贵的洪荒至尊仙葫。在这次艰难的对抗中，你的宠物与你并肩作战，好感大增，亲密度增加了600！','https://pic.imgdb.cn/item/6672bf9fd9c307b7e9b189e0.png','橙色品阶，投喂敌人后敌人会中毒，能力下降50%，直至本轮胜利','5px\x2010px','，格挡技能抵挡\x20','log','升级说明','级触发，复活并恢复\x20','expMultiplier','enemy-pet-speed','nirvanaGem','你仓皇逃跑中，损失了20两金','🔴奥义·火之易伤！伤害增加了\x20','https://pic.imgdb.cn/item/666d311dd9c307b7e996b4f5.png','\x22\x20alt=\x22','睡眠时刻的敌人生命值为','你没有宇宙之晶了！','妖怪受到了\x20','enemy-pet-physical-defense','none','使用法术技能时，有','brown','shielded','fireGiant','reflectPercentage','hasOwnProperty','playerEffect','createElement','alignItems','向死而生','addEventListener','\x20点生命值，消耗了\x20','天降甘霖','被封锁的上古神器（法术）','试炼之地妖怪','%概率进入无我之境，免受一切伤害。持续时间5秒','span','你获得了仙气护体状态，受到伤害时会恢复生命值。','scrollTop','soulCapture','\x20点物理伤害。','border','Invalid\x20target\x20for\x20magic\x20dodge\x20handling','position:\x20fixed;\x20top:\x2050%;\x20left:\x2050%;\x20transform:\x20translate(-50%,\x20-50%);\x20background:\x20rgba(0,\x200,\x200,\x200.8);\x20border:\x201px\x20solid\x20#F5F5F5;\x20width:\x2090%;\x20padding:\x2010px;\x20color:\x20white;\x20z-index:\x209990;','handleRampaged\x20called.\x20battleRounds:\x20','flexDirection','没有其他宠物可以更换，本次战斗已失败！','，成长系数为','被封印的技能','向死而生触发，生命值恢复至1，消耗大量法力值。','https://pic.imgdb.cn/item/66d07119d9c307b7e93234a9.gif','#17a2b8','https://pic1.imgdb.cn/item/6791d204d0e0a243d4f7088b.gif','已成功开启！','点伤害，宽容抵挡了','battleRounds','你的固元鼎或清心酿数量不足，无法回退！','your-pet-health','border-box','defenseBonus','space-between','https://pic.imgdb.cn/item/66d071cbd9c307b7e9344927.png','速度条元素未找到','\x20点经验值，将\x20','武尊秘露','您的精灵觉醒石不足！','尚未开启！','，但\x20','https://pic.imgdb.cn/item/66a0d383d9c307b7e93a3779.gif','intimidated','damageLost','margin','Current\x20reflectPercentage\x20is\x20','使用四倍经验药，60秒内战斗获胜所得经验变成四倍。','.selected-skill','#FFC8B4','enemy-pet-physical-attack','<p>开启后可能为物理技能附加如下效果：</p><p>破甲、恐吓、眩晕、穿透、麻痹、惶恐</p>','岩龙开始汲取雷电的力量，你被附加了触电效果，每次攻击岩龙将大幅削减你的物理防御和法术防御。','lifeSpanBonus','your-pet-magic-attack','化功散冷却结束。','举一反三','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b15.png','https://pic.imgdb.cn/item/66a63695d9c307b7e9d82c29.gif','三花丸','的战斗中失败了，没有获得任何奖励。','Blessing!','armorBreakTimer','焉知非福','双倍经验药效果消失。','piercedTimer','⚔️【敌人攻击】妖怪施放物理技能·黑暗血刃并发起暴击，造成了\x20','点经验值，将','refreshDivineWeapon','top','太古魔魂','ascension-icon','你获得一个盲盒宝石袋','恭喜您升级了！','法力燃烧','second-ascension-level','https://pic.imgdb.cn/item/669e973ad9c307b7e9381309.gif','普通防御','PPE','#cc0000','noGoldPenalty','中途退出会视为挑战失败哦。','absolute','protectionDuration','神品·残页的河图\x20(Lv','开启增益','当前技能已达到最大等级！','仙气护体','baiYinCard','9999','#ffc107','珍贵药材','你还没有获得施毒之术，请尝试通过武神仙葫获取！','Invalid\x20reflectPercentage:','\x20成功升至\x20','\x20点灼烧伤害。','shocked','fightingDrawer','your-pet-magic-defense','80%','https://pic.imgdb.cn/item/66a647c5d9c307b7e9f3c332.gif','Invalid\x20target\x20for\x20dodge\x20handling','getElementsByTagName','https://pic.imgdb.cn/item/66d0b3f3d9c307b7e995a14c.png','选中药品后可直接使用，低品阶药品可合成更高品阶的药品。采集会花费金子，采集所得的原始药材只能用于合成。战斗精灵成长后，每次战斗胜利会有额外的掉落奖励。','second-ascension-icon','，当前技能倍率为','set','您的心鉴之石不足！','specialty','<p>开启后可能解除如下减益效果：</p><p>醉酒、禁疗、摄魂、失明、法术迟钝、撕裂、压制、嘲讽、封印、杀戮</p>','自动战斗已停止。','#ADFF2F','幸运金币','经验不足，无法使用魔术棱柱。','1000',',\x20消耗寿命\x20','clear','https://pic.imgdb.cn/item/66742cffd9c307b7e931d5ee.gif','https://pic.imgdb.cn/item/66b86c3ad9c307b7e93202e9.gif','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22','⚔️【敌人攻击】道高一尺，魔高一丈，敌人低于你的修为，施法时损失','点伤害，目前护盾量为\x20','level-up-ascension','exists','cssText','蓄力中','description','\x20级！',';\x20text-align:\x20center;\x20color:\x20white;\x20font-size:\x2012px;\x20font-weight:\x20bold;\x20transition:\x20width\x200.5s\x20ease-in-out;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22text-stroke:\x201px\x20black;\x22>','绿色品阶，每1.5秒恢复1%生命值值，持续3秒，可叠加生效','linear-gradient(to\x20bottom,\x20#477AD6,\x20#8FF1FD,\x20#477AD6)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extraCritDamageChance','以牙还牙','防御增益已达到最大值，无法再增加。','天山雪莲','使用狂暴印记，暴击率提高50%，持续20秒。','your-pet-image','getWeaponData','skills-area\x20element\x20not\x20found.','没有可用的宠物进行更换，本次战斗已失败！','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','该技能现在不需要升级,10级后再来吧！','⚔️【敌人攻击】道高一尺，魔高一丈，你低于敌人的修为，施法时损失','受到致命伤害时，消耗法力值上限','length','使用狂暴之魂，暴击率永久提高1%。','second-ascension-name','getElementById','aqua','divineWeaponUI','drug-modal','burntTimer','timer','太古魔魂会吸收你的暴击伤害作为己用','vigor','https://pic.imgdb.cn/item/66a33f3ad9c307b7e942c38c.gif','使用治疗时，触发仙气护体的概率增加至50%，并且仙气护体持续时间增加至','狂暴的心魔','black','hailMonsterPill','transform','divineProtection','round','高级练习树桩','wounded','spirit-physical-attack','遁入无我之境！','https://pic.imgdb.cn/item/665aecc0d9c307b7e90a239e.png','https://pic.imgdb.cn/item/66a250dfd9c307b7e97f96eb.png','您的宠物未飞升，还没有掌握飞升之术！','你获得一个宇宙之尘','永夜大帝','linear-gradient(to\x20bottom,\x20#394F89,\x20#405CB2,\x20#5C81EE,\x20#5C81EE,\x20#405CB2,\x20#394F89)','abs','actionPerformed','player-crit-damage','效果尚在冷却中，无法叠加使用。','5px','每回合恢复','经脉伤害加成计算出错，使用默认伤害:','innerText','fragmentedMap','auto-level-up-spirit','技能说明','%概率触发以下技能效果：','entries','enemy-pet-magic-defense','totalPierceDamage','angelWings','https://pic.imgdb.cn/item/66742c80d9c307b7e930b159.gif','妖怪极尽嬉笑怒骂之攻势,你未能压抑心中怒火,嘲讽时间内你只能对其使用物理攻击。','getEffectChineseName','点法力值','reenable-ascension','floatUpRight','relative','使用神力仙丹，暴击伤害提高50%，持续20秒。','无我之境','https://pic.imgdb.cn/item/666aa7b6d9c307b7e9495e97.png','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a2f.png','状态。','⭐️生命值','使用焚灵之丸，消耗20%生命值，提升50%物理攻击力、法术攻击、暴击率和暴击伤害，持续20秒。','反弹伤害','value','cultivation','beiming','invincibilityChance','你施放了\x20','survivalChance','🥷【敌人偷窃】妖怪想窃取你的资源，但被你抓包打跑了，你没受到任何损失','https://pic.imgdb.cn/item/66742c80d9c307b7e930b160.gif','18SYiERk','残页的河图','player-damage-container','battle-spirit-modal','橙色品阶，永久提高1%暴击伤害，最多可使用此道具提升至350%','神器100级后，只能使用「钥匙」升级，你可以通过开启武神仙葫获取「钥匙」。','-bar\x22\x20style=\x22width:\x20','紫色品阶，恢复10%生命值并有几率清除玩家的异常状态','唤妖符数量不足，无法跳过轮次！','财源滚滚','floor','24143FvjUwo','%\x20暴击率和\x20','find','defensing','个内丹元气已耗尽，请及时补充！','https://pic.imgdb.cn/item/66cd61f8d9c307b7e9af46c0.png','20px','PAE','\x20级，威力增加了！','以牙还牙触发，反弹了\x20','enemy-name','蓝色品阶，临时增加59点生命值和法力值，收集3个可以合成1个紫色品阶的药品','spirit-multiplier','remove','exp-text','已关闭自动战斗！','https://pic.imgdb.cn/item/66bb115dd9c307b7e9a6c2d0.png','\x20点毒性伤害。','hidden','成功炼制出了3个随机紫色品阶药品：','点击技能可查看技能详细说明。','\x0a1.宠物在觉醒后可以开启战斗精灵\x20\x0a2.经过精心培养的精灵可以大幅增加战斗属性\x0a3.精灵会提供额外的战场胜利物资\x0a4.战斗中精灵有概率施加恢复、控制或强化\x20\x0a5.精灵等级和增幅越高，增益越明显','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27nirvanaGem\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:\x20right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.closeDivineWeaponUI()\x22\x20style=\x22background:\x20transparent;\x20border:\x20none;\x20color:\x20white;\x20font-size:\x2020px;\x20cursor:\x20pointer;\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','焚灵之丸','gold-text','upgradeDivineWeapon','法术精通','setWeaponData','attribute','random','earthAmulet','法术迟钝','yellow','heartStone','杀戮状态已被解除。','https://pic.imgdb.cn/item/66754252d9c307b7e9e67706.gif','onmouseout','远古魔神的低吟充满离散心智的声量，令你短暂被封印了飞升技能带来的战斗增益。','穿心蚀骨之毒爆！敌人承受了\x20','紫色品阶，消耗300000当前经验升级一个随机技能，通过该道具最多可让技能升至24级','fireAmulet','goldAmulet','warn','每次使用法术攻击时，有','multiplier','该技能已达到目前阶段最高等级！请尝试使用药品系统中的“魔术棱柱”进行升级！','100px','extraCritDamageMultiplier','push','https://pic.imgdb.cn/item/66c44a29d9c307b7e967d02b.gif','妖怪一共有150轮，通关后可以继续挑战无尽Boss“深渊之神”。这是一个强大的怪物，能力多变。','spirit-health','技能或寿命状态无效','吸血魔刃','使用幸运金币，怪物血量变为1。','🔮【敌人治疗】妖怪施放魔王之力，恢复了\x20','点寿命','mana','#fff','Damage\x20is\x20NaN,\x20setting\x20to\x200.','torn','妖怪被施加穿透效果，每次造成伤害时会附加真实伤害。穿透效果结束后会给予妖怪致命的余波伤害。','焚灵之丸效果无法触发，生命值不足20%。','金子打点进山凭证，采集到了1个','benumbStack','enemy-crit-damage','处理解控效果时发生错误:','⚔️【玩家攻击】你用拳头平A了对方。','紫色品阶，消耗自身生命值上限20%生命值，20秒内提升50%物理攻击力、法术攻击、暴击率和暴击伤害。生命值不足上限20%时无法使用。','stunned','⚔️【玩家攻击】你进行了法术攻击，造成了\x20','https://pic.imgdb.cn/item/66cc940cd9c307b7e9cb752e.png','-warning\x22\x20style=\x22position:\x20absolute;\x20top:\x200;\x20left:\x200;\x20right:\x200;\x20bottom:\x200;\x20border:\x201px\x20solid\x20','second-ascension-effect','升级技能','speed','white','神力仙丹冷却结束。','left','\x20点伤害。','【被动技能】','【提示】这里是战斗面板，测试当前宠物极限战斗能力，轮次越高，当前宠物越强悍。\x20\x0a\x0a\x20【清屏】点击上方战斗记录字样可清屏\x20\x0a\x0a\x20【兼容】如果你无法完整看到本文本框底部，请调整网页字体大小至适当值','transition','PHE','\x20级，保底\x20','apply','火焰巨人','点法术攻击力','onmouseover','战斗精灵已达到最大等级！','⚔️【玩家攻击】你造成了\x20','您的精灵增幅已经到了一个比较高的层次，确定继续吗？','现在无法使用，生效失败！','宇宙之心数量不足，无法升级！','marginTop','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b38.png','定空的灵石解除了你的','usingBuff','marginRight','magical','stringify','img','divineProtectionChance','currentLevel','PDE','physicalAttack','10000经验值','1635QRlErt','完美药材','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c8f.gif','被封锁的上古神器（庇护）','战斗胜利后金子奖励额外增加','请先选中要合成的药品。','神品·定空的灵石\x20(Lv','肉盾模式','你吸取了\x20','点助攻伤害！','玩家魔法闪避概率为：','info','enemy-max-mana','https://pic.imgdb.cn/item/66a616f4d9c307b7e9b24c97.gif','red','button','split','enemy-pet-magic-attack','🟡奥义·金之境界！反弹了\x20','练习树桩','药品不足！','正在战斗中或未知错误','div','opacity','穷奇擅长吸收敌人的生命之力转换为自己的护甲','⚔️【敌人攻击】杀戮状态下由于修为差距，敌人本次物理攻击额外造成了\x20','紫色品阶，使用后60秒内战斗获胜所得经验增加四倍','\x20点。','https://pic.imgdb.cn/item/66cdda7cd9c307b7e941d522.gif','🥷【敌人偷窃】妖怪窥探了你的锦囊，吸收了一个来自你所拥有的天山雪莲的能量，恢复了','绿色品阶，临时增加20点速度，收集3个可以合成1个蓝色品阶的药品','skill','undefined','使用见手青，敌人的所有能力降至50%直至本轮战斗胜利。','使用幸运金币，获得了50000点经验值。','url','activateDivineWeapon','ceil','蓝色品阶，临时增加300点生命值（刷新游戏后失效）','battle-log-head','475630nWbqTi','试炼之地正在持续中！无法叠加！','点生命值，被当即斩杀！','player-status','body','你的蓄力增益效果已应用：','player','close-spirit-modal','经验不足200000或缺少对应的「钥匙」。神器的「钥匙」可以通过武神仙葫小概率获得。','bloodSuckPercentage','\x20点溅射伤害。','\x22\x20alt=\x22遗失的洛书\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>','41063ofjLFh','drug-description','extra-damage','\x20点穿透伤害。','your-pet-speed','https://pic.imgdb.cn/item/666c0afbd9c307b7e9beefcb.png','四倍经验药','status','开启神器后才能执行刷新！','见手青','生生不息','effect','极品药材','使用延寿露，恢复了\x20','contains','紫色品阶，20秒内增加150%物理攻击力。','mao','你至少需要5个同类药品才能进行合成！（橙色品阶需要3个）','604449LrMigt','effects','drug-grid','jingmaiStates','时钟空转，你已进入忘却之时……','noWorkBoss','Enemy\x20is\x20rampaged.','\x20颗精灵精炼石，将精灵升至\x20','floatUpLeftCritical','\x20点法术伤害，消耗了\x20','使用长生泉，你如获新生。','敌人\x20','法力值\x20+\x20','https://pic.imgdb.cn/item/6678135ed9c307b7e9060dd6.gif','请先从属性面板获取属性。','https://pic.imgdb.cn/item/667123f9d9c307b7e9e34049.gif','\x20点中毒伤害，消耗了\x20','被封锁的上古神器（物理）','secondary-attributes-panel','divineProtectionDuration','当前物理效果真实触发概率为：','burnt','https://pic.imgdb.cn/item/6672bfa5d9c307b7e9b19753.webp','silencedTimer','Battle\x20state\x20or\x20player\x20state\x20is\x20not\x20initialized','焉知非福触发,战斗获得持续\x20','forEach','player-cultivation','🥷【敌人偷窃】妖怪想窃取你的资源，但你识破了，没受到任何损失','遗失的洛书','你至少需要3个同类药品才能进行合成！','醉酒状态下，你招式过猛误伤自身，受到\x20','weaken','%的法力让自己血量变为1','#218838','damageContainers','keys','你使用3个','goldCompensation','skillMultiplier','orange','您已经输掉此次战斗，扣除金子','所有宠物都已阵亡，本次战斗已失败！','。\x0a2.精灵的各项数值为：\x0a\x20','your-pet-max-mana','JKE','https://pic.imgdb.cn/item/66712ba3d9c307b7e9f2ab59.gif','承受伤害降低','createDamageElement','紫色品阶，临时增加35物理防御和法术防御，收集3个可以合成1个橙色品阶的药品','点生命值，消耗','https://pic.imgdb.cn/item/66e6d194d9c307b7e9c131d3.png','querySelectorAll','rewardMessage','你使用了施毒之术，现在可以对妖怪施毒了。','textAlign','功夫不负有心人，你意外获得一份藏宝图！','drunken','enemy-speed-container','spirit-magic-defense','飞升之术增益已启用！','logDiv\x20not\x20found','seal','https://pic.imgdb.cn/item/667269e9d9c307b7e915e15a.gif','realShape','⚔️【玩家攻击】暴击！！本次对敌方造成了\x20','当前宠物没有学会任何治疗技能！','妖怪令你对法术的操控更迟钝了，你耗费了更多的法力值！','点法术防御','#D3D3D3','这是敌人的行动条，当轮到玩家回合但玩家未行动时，此行动条积满敌人将会行动。行动条的积累速度与敌人的当前速度有关。关闭战斗界面会停止积累。',',\x20enemy\x20health:\x20','化功散','\x201s\x20ease-out\x20forwards;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','洗练失败！','classList','延寿露','enemyEffect','未找到该技能！','src','has','applyNirvanaGemEffects','https://pic.imgdb.cn/item/666d311dd9c307b7e996b5a8.png','⚔️【敌人攻击】妖怪施放物理技能·黑暗血刃，造成了\x20','drug-item','endurance','interval','慈悲心怀','当玩家受击时，有','open','show-effect','universalKernel','https://pic.imgdb.cn/item/66713185d9c307b7e9fe5fc6.gif','armorBreak','healing','还没死，还得练，再给你上上强度','spirit-level','heat','spirit-speed','#add8e6','点伤害','#FFDD55','慧心糖果','轮，无法再继续跳过！','click','skills','.battle-system-drawer','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b92d.webp','your-pet-physical-attack','block','backgroundColor','benumbed','✨【8件套效果】觉醒套装之力吸取了\x20','当前是第','pet-select','上古心魔','your-pet-cultivation','洪荒至尊仙葫','❤️【敌人恢复】加强版树桩恢复了满状态生命值','持续回血','四倍经验药效果消失。','\x20状态，无法叠加。','\x20升级失败！','⚔️【敌人攻击】妖怪施放法术技能·嗜血魔咒，造成了\x20','妖怪的护甲被破坏，物理防御减少了\x20','tornInterval','wheat','法术攻击力','https://pic.imgdb.cn/item/666d311dd9c307b7e996b52a.png','includes','hongHuang','second-ascension-skill','\x20的安慰金。','action','add','treasureMap','秒的仙气护体','scrollHeight','魔龙之力','instant','https://pic.imgdb.cn/item/666c0afbd9c307b7e9beef97.png','点速度和','你花费','\x20的猛烈伤害！','https://pic.imgdb.cn/item/669a7ce2d9c307b7e9450ef4.png','darkShape','Invalid\x20drug\x20type','，但没有任何奖励。','反弹本次承受伤害的','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0af3.png','护盾抵挡了\x20','吸血魔刃触发,吸取了\x20','some','enemyCritDamage','固若金汤','ignoranceWater','earthlyEnergy','使用神器可以为你的技能附加各种强力效果，极大增强你的战斗能力。\x0a1.神器的开启和使用需要消耗大量经验值或特定的「钥匙」。\x20\x0a2.【升满】按钮会根据你当前经验值或所拥有的道具数量直接升至最大值，请知悉。\x0a3.不建议未满级（180级）前执行神器升级操作。','当前法术效果真实触发概率为：','晗灵果','沉檀凝香','enemyCritRate','damage','#FF0088','slaughter','enemy-crit-rate','尝试合成，但没有产出任何事物','试炼之地开始！持续60秒，期间会自动开始战斗，请勿执行其他操作以免造成崩溃！','https://pic.imgdb.cn/item/666e9aeed9c307b7e90669fa.png','stunnedTimer','1402YGToPw','lightgreen','spirit-physical-defense','spiritRefreshStone','lime','flex','right','文金子的安慰金','妖怪被眩晕，无法行动。','lostBook','\x20秒的仙气护体。','player-extra-damage-value','practiceEnemy','已阵亡,\x20是否更换至其他宠物继续战斗？点击取消不再显示此提示','\x20点生命值，本局战斗还能再生效','from','gray','toggle','pink','#FF4500','成功炼制出了2个随机橙色品阶药品：','\x20成功升级至\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x202px\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a1.\x20二级属性主要由各一级属性（耐力、智力等）决定\x20\x0a2.\x20被动技能的数量和等级也会增加二级属性\x20\x0a3.药材、五行符可以提供额外属性\x20\x0a4.精灵和飞升技能提供的属性为战斗属性，脱离战斗状态时将会复位\x20\x0a5.\x20当前技能加成为：\x20\x0a\x0a\x20','点物理攻击力','exp-bar','dazed','\x20级。','即时性药品效果已被重置。','https://pic.imgdb.cn/item/66d4a22dd9c307b7e9f5faec.gif','pow','scale(1.05)','法力燃烧！妖怪失去了\x20','妖怪(精英)','\x20x1','#00BBFF','飞升之术技能已达最大等级！','Guolin·Li','onclick','1666928kWRgNY','忘忧水','举一反三触发，经验值增加了\x20','crimson','第二个飞升技能尚未开启，且当前没有技能名称可显示。','沉檀凝香生效，但未能清除异常状态。','skillLevel','\x20点伤害，消耗了\x20','spirit-magic-attack','transparent','name','error','grey','当前仙气护体持续时间为：','terrifiedTimer','#66CDAA','displayName','whiteNightThreshold','自动战斗','治疗量计算为0，不触发效果','自动战斗已开始。','反弹状态触发，反弹了\x20','physicalDefense','health','無班之魂变得恼怒，等级提升了','你受到了醉酒效果，每次攻击都会受到额外伤害。','%\x20伤害，溢出值已形成护盾。','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b907.webp','%概率驱散以下减益效果：','敌人从沉睡中醒来了。','enemy-pet-mana','使用双倍经验药，60秒内战斗获胜所得经验变成两倍。','当玩家使用物理攻击时，会吸收等同伤害值','使用武尊秘露，物理攻击力提升150%，持续20秒。','%概率额外给妖怪附加等同于玩家物理攻击力1000%的伤害。','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2025%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stoneDragon','https://pic.imgdb.cn/item/66d5d9a1d9c307b7e950d6b2.png','神品·遗失的洛书\x20(Lv','法力值','enhanceBowl','%的生命值，每级提升1%','🧚🏻Bless\x20from\x20your\x20best\x20teammate！战斗精灵带来全属性提升！','scale(1)','应用特殊效果时发生错误:','神力仙丹','0.5','player-physical-dodge-rate','您的法力值不足，无法使用施毒之法！','狂暴印记冷却结束。','天空精华','padding','settlement','min','你正在施放恢复技能\x20','spellSlow','点物理防御和','increment','Invalid\x20goldReflectPercentage:','getElementsByClassName','🥷【敌人偷窃】妖怪窥探了你的锦囊，吸收了一个来自你所拥有的延寿露的能量，恢复了','\x20点物理伤害！','定空的灵石','maxLevel','borderRadius','封印解除，飞升技能可以发挥作用了。','enemy-speed-bar','https://pic.imgdb.cn/item/665433e8d9c307b7e93ac758.gif','使用化功散，妖怪暴击率降低至0%，持续30秒。','你没有宇宙精华了！','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718cb5.gif','enemy-max-health','你被附加了失明，施放物理技能时将无法对敌人造成伤害！','\x22\x20alt=\x22残页的河图\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>','法力吸取','铜墙铁壁','14px','blindfold','【被动技能】元素力量（宽容）\x20','blue','你已经被嘲讽,不能使用其他技能。','金牌调解','聚灵丹数量不足，无法开启自动战斗！','taunt','byLearned','join','24EJsuWX','https://pic.imgdb.cn/item/66cc940fd9c307b7e9cb77b1.png','宠物等级每提升10级，所拥有的技能会自动提升1级。技能的等级很大程度上决定了它们的威力（被动技能会按一定比例增加各项属性值）。每个技能等级上限为20级，当技能等级到10级后，需要在本界面消耗一定经验值来升级技能。','⚔️【敌人反弹】醉酒状态下，你招式过猛误伤自身，受到\x20','势如破竹','敌人魔法闪避概率为：','<p>开启后可能为法术技能附加如下效果：</p><p>迟缓、沉默、混乱、灼烧、法力燃烧、法力吸取</p>','silver','expBonus','50%','\x20升级失败了！','\x20点伤害，土符抵挡了','点经验值，升级技能失败！','🛡【敌人防御】敌人释放了能量场，双防得到了提升！','max','blindFold','复活中','1px\x20solid\x20white','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a20.png','斩龙一式','\x20点法力值。','焚灵之丸冷却结束。','#e0a800','开启神器后才能执行升级！','\x20已经无法再触发复活。','该技能已达到最大等级！','10px\x200','🔮【玩家治疗】你恢复了\x20','天空之晶','等级:\x20','background-color\x200.3s,\x20transform\x200.3s','你已经开启此神器了，无法重复开启！','🟤奥义·土之庇护！你减少了\x20','生命值','潜藏于三界裂缝，以迷惑人心智、吸收人的恐惧而不断变强的邪祟。','宇宙之心','active','ascension-skill-button','https://pic.imgdb.cn/item/66d5d91ad9c307b7e95066ac.gif','物理攻击','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20limegreen;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x208px\x20lime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bolder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20','textContent','你使用5个','suppressed','defenseReduction','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','灵魂穿刺触发，额外造成了\x20','filter','defending','https://pic.imgdb.cn/item/66717584d9c307b7e98a90e6.gif','parse','baseValue','☣【敌人中毒】妖怪中毒，失去了\x20','你消耗了\x20','grid','initialize','critRate','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x200;\x22>','！点击确认继续战斗，取消回到主页。','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:\x20right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.closeDivineWeaponUI()\x22\x20style=\x22background:\x20transparent;\x20border:\x20none;\x20color:\x20white;\x20font-size:\x2020px;\x20cursor:\x20pointer;\x22>×</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2020px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','timeoutId','style','⚔️【玩家攻击】触发法术精通，你再次施放了\x20','大渊神真身','magicDefense','https://pic.imgdb.cn/item/66c43d02d9c307b7e954d4f7.gif','intelligence','creditCard100','蓝色品阶，30秒内妖怪暴击率降低至0%','没有技能需要升级或经验不足！','沉檀凝香生效，清除了异常状态。','妖怪被恐吓，无法暴击。','https://pic.imgdb.cn/item/666d311dd9c307b7e996b522.png','https://pic.imgdb.cn/item/668a30dbd9c307b7e9c54fff.gif','<p>流光溢彩的锦囊，开启后每秒有一定概率驱散敌人的减益效果，成功概率与等级有关。</p>','baiYin','修为灵丹（橙）','silenced','\x20金子。','type','children','width','magicPetAmulet','力劈华山','经验不足100000或没有对应钥匙，无法刷新效果。（如果你拥有钥匙，将会优先自动使用钥匙刷新）','backgroundImage','发现可用的','url(','玩家闪避概率为：','target','map','双倍经验药','your-pet-mana','10px','marginBottom','点生命值。','<p>闪烁星光的宝盒，开启后可为法术技能概率附加效果：</p><p>迟缓、沉默、混乱、灼烧、法力燃烧、法力吸取</p>','#B94FFF','fixed','你在与','每10轮妖怪会进入狂暴状态，此时妖怪生命低于20%时将在2秒内加持霸体且触发复生。','橙色品阶，临时增加15点物理攻击和法术攻击，收集2个可以炼制出随机药品','qiongQi','無班之魂','%概率再次施放一次法术伤害','你可以消耗10个飞升之石为宠物开启第二个飞升之术，确认请继续','有1个内丹元气已耗尽，请及时补充！','cursor','上古传说中的仙葫，流传久远，极其稀有，打开可获得随机珍稀道具','Invalid\x20player\x20attribute\x20type','healingBan','openDivineWeaponUI','消耗一本','terrified','fontSize','enemy-physical-dodge-rate','使用沉檀凝香，恢复了\x20','绿色品阶，每1.5秒恢复2%法力值，持续3秒，可叠加生效','https://pic.imgdb.cn/item/666e9aeed9c307b7e9066a29.png','在法术精英怪物训练下的珍贵成果：1000学习度和600亲密度，可用于训练技能加成','originalMaxHealth','enable-ascension','轮，当前是','本次战斗已失败！请加强一下再进来吧~','使用天山雪莲，恢复了\x20','\x20点经验值，你的经验值不足，无法升级！','intimidatedTimer','blue-text','宠物已达到最高等级，经验转化为普通经验书！','slow','combat','，你想使用哪种方式升级？\x0a【宇宙之心】按钮：使用5个宇宙之心（必定成功）\x0a【技能书】按钮：使用1本技能书（20%成功）','护盾为','floatUpRightCritical','magicAttack','⚔️【玩家攻击】触发法术精通，但没有可用的法术攻击技能，使用普通法术攻击。','originalSecondAscensionSkill','#28a745','你击败了','金牌调解触发，未扣除金子并获得\x20','魔术棱柱','上善若水','上善若水触发:\x20HP\x20','您的法力值不足！','你受到了压制效果，必须在3秒内进行有效操作。','removeEventListener','benumbedTimer','options','敌人受到\x20','zIndex','Reflect\x20damage\x20is\x20NaN,\x20setting\x20to\x200.','refresh-ascension','你的宠物看起来起色很不好，多关心关心它吧！','上等药材','处于短暂失明，敌人闪避了你的物理攻击。','忘却之时','第二个飞升技能','startsWith','https://pic.imgdb.cn/item/66a0d3e8d9c307b7e93a8108.gif','10px\x2020px','进度条更新出错:','#0066ff','跳过十轮','attribute-exp-text','持续时间内，敌人一共受到\x20','点所受的伤害。','your-pet-max-health','法术攻击','enemyKey','quantity','animation','3580sVHMaK','https://pic.imgdb.cn/item/6671343bd9c307b7e9031c3d.gif','normalExperienceBook','reflecting','enemy-damage-value','你可以使用100个固元鼎和100个清心酿回到第一轮','ascension-effect','borderColor','critDamage','Invalid\x20damage\x20value:','\x20/\x20','practiceEnemyPlus','enemy-pet-health','universalAsh','8px','洗练失败，等级下降了\x20','物理防御','你还没有解锁任何必杀技！','close-ascension-modal','removeChild','当玩家暴击时,有','使用幸运金币，你成功回退至10轮之前。','你受到了摄魂效果，攻击力大幅下降。','\x201s\x20ease-out\x20forwards;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','怒意激发了你的斗志，嘲讽下你的物理伤害提升20%！','级\x20，毒性大大加强。','pointer','tier','poisoned','财源滚滚触发，额外增加了\x20','https://pic.imgdb.cn/item/66a48e2cd9c307b7e9649085.png','pierced','狂暴之魂','太古魔魂封印','gap','https://pic.imgdb.cn/item/666d311dd9c307b7e996b565.png','https://pic.imgdb.cn/item/66cc8f01d9c307b7e9c6d2e8.png','🛡【玩家防御】你施放了防御技能\x20','🟢奥义·木之春意！治疗量增加了\x20','神器等级已达到上限。','originalAscensionSkill','12px','battle-spirit-button','center','您的宠物没有飞升，无法开启飞升增益！','https://pic.imgdb.cn/item/66a484fcd9c307b7e95c2645.gif','MAE','https://pic.imgdb.cn/item/66a5d698d9c307b7e9718c7d.gif','enemy-pet-cultivation','击败白银之地怪物的嘉奖，收集一定数量可兑换宇宙之晶','hailMonsterAmulet','，本回合抵抗了\x20','你还没有打开第一个飞升技能！','universalHeart','faith','lightblue','战斗状态未初始化','enemy-image','equipped','level-up-spirit','#138496','焉知非福带来的仙气护体效果消失。','position','rampaged','https://pic.imgdb.cn/item/66cc999fd9c307b7e9d7ca2a.gif','rgba(0,\x200,\x200,\x200.8)','额外提供','poisonPowder','https://pic.imgdb.cn/item/669c8a9ed9c307b7e94f5766.gif','key','灵魂穿刺','height','蓝色品阶，20秒内暴击率提高50%','querySelector','未开启','100%','https://pic.imgdb.cn/item/666c0289d9c307b7e9ae8abd.png','waterAmulet','gold','https://pic.imgdb.cn/item/6699fa28d9c307b7e9ad0b0c.png','挑战失败会受到惩罚。','enemy','expEnemy','spellMasteryChance','级触发，减免了','dazedTimer','\x22\x20alt=\x22定空的灵石\x22\x20style=\x22width:\x2045px;\x20height:\x2045px;\x20border:\x201px\x20solid\x20white;\x20border-radius:\x205px;\x20margin-right:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x22>','发动魔龙之力恢复了\x20','selected-skill','敌人的法力已经燃烧殆尽，敌人开始燃烧生命之力！失去了\x20','\x20点生命值。','狂暴印记','普通药材','#C10066',',\x20enemyMaxHealth:\x20','spiritAwakenStone','physical','https://pic.imgdb.cn/item/666d311dd9c307b7e996b538.png','strength','天使之翼','你已经成功挑战150轮！你的爱宠经受住了魔王的考验，恭喜你！继续挑战会进入无尽模式。','get','enemy-level','justifyContent','equippedPet','战斗失败后，下一轮获得持续','恭喜你战胜了第100轮妖怪，获得了1个灵兽符文！','width:\x2085%;max-height:\x2080%;background-color:\x20rgba(0,\x200,\x200,\x200.1);color:\x20white;border:\x201px\x20solid\x20rgb(221,\x20221,\x20221);padding:\x2020px;overflow-y:\x20scroll;position:\x20relative;display:\x20flex;flex-direction:\x20column;justify-content:\x20center;align-items:\x20stretch;','%\x20伤害。','未开启飞升技能','attribute-exp-bar','display:\x20flex;color:\x20white;font-size:\x2014px;gap:\x2010px;padding:\x2020px;height:\x20110px;align-items:\x20center;border:\x201px\x20solid\x20#fff;margin-top:\x2010px;border-radius:\x202px;','🔮【玩家治疗】仙气护体触发，恢复了\x20','定空的灵石开启后，每秒有概率驱散减益效果，同时最多驱散5个效果。可以驱散效果如下：\x0a1.醉酒：法术效果，玩家攻击怪物时会受到10%的反弹溅射伤害\x20\x0a2.禁疗：法术效果，持续时间内禁止玩家使用治疗技能\x20\x0a3.摄魂：法术效果，持续时间内玩家物理和法术攻击减半\x20\x0a4.失明：法术效果，持续时间内玩家物理攻击会被怪物闪避\x20\x0a5.法术迟钝：法术效果，持续时间内玩家使用法术技能时法力消耗值增至100倍\x20\x0a6.撕裂：物理效果，持续时间内玩家会受到每0.5秒的持续掉血效果，掉血量与怪物物理攻击有关\x20\x0a7.嘲讽：物理效果，持续时间内玩家的所有战斗行为会强制指向物理攻击，且物理伤害增至120%\x20\x0a8.压制：物理效果，玩家若没有在3秒内做出战斗行为，血量会降至1\x20\x0a9.封印：物理效果，持续时间内玩家的飞升技能会被封印，使其无法生效\x20\x0a10.杀戮：物理效果，持续时间内会根据双方修为之差判断斩杀线，当一方血量低于双方修为差值的一定比例时，负值一方会被斩杀','Revival\x20triggered.\x20revivalCount:\x20','damageReductionPercentage','点法力值。','白银VIP怪','innerHTML','getRandomEffect','https://pic.imgdb.cn/item/66a63612d9c307b7e9d72d78.gif','经验值:\x20','skills-area','gridTemplateColumns','橙色品阶，长生不老之泉，饮用后临时增加1000生命值上限（刷新游戏后失效），且恢复至满状态','universalCrystal','遗失的洛书开启后，能够为你的物理技能附加专属效果，同时最多拥有3个效果。可以附加效果如下：\x0a1.破甲：根据物理攻击扣除怪物的物理防御力\x20\x0a2.恐吓：持续时间内禁止怪物触发暴击\x20\x0a3.眩晕：持续时间内怪物无法动作\x20\x0a4.穿透：造成伤害时额外附加物理攻击1/10的穿透伤害，并在持续时间结束后基于穿透伤害总和的一定比例给予怪物余波收尾伤害\x20\x0a5.麻痹：根据本次物理伤害减少怪物的血量上限\x20\x0a6.惶恐：降低敌人物理攻击力，降低值为自身物理攻击','upgradeMaxDivineWeapon','Enemy\x20is\x20not\x20rampaged.','3000经验值','魔法闪避随机数为：','使用物理技能时，有','点生命值和','18px','战斗胜利时获得的经验值增加','closeDivineWeaponUI','woodAmulet','toFixed','https://pic.imgdb.cn/item/66d5dd07d9c307b7e953e4e1.png','appendChild','level-up-second-ascension','本轮战斗胜利获得了:\x20','，请检查你的背包！','https://pic.imgdb.cn/item/669a7ce3d9c307b7e9450f04.png','ancientEvil','已有同系效果发挥作用或正在冷却中，无法叠加效果使用','\x20点伤害，智慧守护抵挡','全部升级','257752bOfqnr','\x0a\x20\x20\x20\x20@keyframes\x20floatUpLeft\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-50px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpRight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-50px)\x20translateX(20px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpLeftCritical\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20scale(1)\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2020%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-10px)\x20scale(1.2)\x20translateX(-5px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-60px)\x20scale(1)\x20translateX(-20px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20floatUpRightCritical\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2020%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-10px)\x20scale(1.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-60px)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a','currentPet\x20is\x20not\x20initialized','background-color\x200.3s','https://pic.imgdb.cn/item/66bc6806d9c307b7e987b921.webp','战胜后可得到大量经验值和概率获得提升宠物技能的神秘物质','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27lostBook\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2020px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','https://pic.imgdb.cn/item/666c1408d9c307b7e9cea310.png'];_0xd0fe=function(){return _0x35204b;};return _0xd0fe();}document[_0x48f708(0xd7)](_0x48f708(0x432))[_0x48f708(0x479)](_0x48f708(0x23c),()=>{const _0x2437db=_0x48f708;if(!checkSecondAscensionEnabled())return;useItem(_0x2437db(0x270),0xa)?levelUpSecondAscensionSkill():showInfoBox('每次提升技能需要消耗10个天地灵气，你的天地灵气数量不足！');});function levelUpSecondAscensionSkill(){const _0x3b89c8=_0x48f708;secondAscensionSkill[_0x3b89c8(0x456)]<0x14?(secondAscensionSkill[_0x3b89c8(0x456)]+=0x1,updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects()):showInfoBox(_0x3b89c8(0x2a2));}function updateSecondAscensionSkill(){updateSecondAscensionDisplay(),applyAscensionBonus(),applyAscensionEffects(),updatePetInfo();}function updateSecondAscensionDisplay(){const _0x539767=_0x48f708;if(!checkSecondAscensionEnabled())return;const _0x32c3bc=document[_0x539767(0xd7)](_0x539767(0x257));document['getElementById'](_0x539767(0xab))['src']='https://pic.imgdb.cn/item/66726727d9c307b7e9118748.png',document[_0x539767(0xd7)](_0x539767(0xd6))[_0x539767(0xf8)]=secondAscensionSkill[_0x539767(0x2af)],document[_0x539767(0xd7)](_0x539767(0x4c0))[_0x539767(0xf8)]=_0x539767(0x318)+secondAscensionSkill[_0x539767(0x456)];const _0x5d305a=ascensionSkills[_0x539767(0x37d)]['find'](_0x2ba624=>_0x2ba624[_0x539767(0x2af)]===secondAscensionSkill[_0x539767(0x2af)])||ascensionSkills[_0x539767(0x13f)]['find'](_0x3759e9=>_0x3759e9['name']===secondAscensionSkill['name'])||ascensionSkills[_0x539767(0x2d9)][_0x539767(0x125)](_0x4f501f=>_0x4f501f['name']===secondAscensionSkill['name']);_0x5d305a&&(document[_0x539767(0xd7)](_0x539767(0x16c))['innerText']=_0x5d305a[_0x539767(0x1cd)](secondAscensionSkill[_0x539767(0x456)]));}function applyAscensionBonus(){let _0x41e7b0={'health':0x0,'mana':0x0,'physicalAttack':0x0,'physicalDefense':0x0,'magicAttack':0x0,'magicDefense':0x0,'speed':0x0};_0x41e7b0=applySingleAscensionBonus(ascensionSkill,_0x41e7b0),secondAscensionSkill['name']&&checkSecondAscensionEnabled()&&(_0x41e7b0=applySingleAscensionBonus(secondAscensionSkill,_0x41e7b0)),ascensionAttributes=_0x41e7b0,updatePetInfo();}function applySingleAscensionBonus(_0x3ce01e,_0x34fa13){const _0x5c8dd5=_0x48f708;switch(_0x3ce01e['name']){case _0x5c8dd5(0x34e):_0x34fa13[_0x5c8dd5(0x18c)]+=_0x3ce01e['baseValue']+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]);break;case _0x5c8dd5(0x22b):_0x34fa13['health']+=_0x3ce01e[_0x5c8dd5(0x32e)]+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]),_0x34fa13[_0x5c8dd5(0x15c)]+=0x2710+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]);break;case _0x5c8dd5(0x2ff):_0x34fa13[_0x5c8dd5(0x16e)]+=_0x3ce01e[_0x5c8dd5(0x32e)]+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]),_0x34fa13[_0x5c8dd5(0x381)]+=0xbb8+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]);break;case _0x5c8dd5(0x26e):_0x34fa13[_0x5c8dd5(0x2bb)]+=_0x3ce01e[_0x5c8dd5(0x32e)]+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e[_0x5c8dd5(0x456)]),_0x34fa13[_0x5c8dd5(0x33b)]+=0x186a0+_0x3ce01e[_0x5c8dd5(0x2de)](_0x3ce01e['level']);break;}return _0x34fa13;}function applyAscensionEffects(){const _0x5d6f6a=_0x48f708;resetBattleStateEffects(),applySingleAscensionEffect(ascensionSkill),secondAscensionSkill[_0x5d6f6a(0x2af)]&&checkSecondAscensionEnabled()&&applySingleAscensionEffect(secondAscensionSkill);}function applySingleAscensionEffect(_0x42672d){const _0x2918d4=_0x48f708;switch(_0x42672d['name']){case _0x2918d4(0x25e):const _0xc7f860=(_0x42672d[_0x2918d4(0x32e)]+_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]))/0x64,_0x1474a0=Math['floor'](maxHealth*_0xc7f860);battleAttributes[_0x2918d4(0x2bc)]=Math[_0x2918d4(0x2da)](maxHealth,battleAttributes[_0x2918d4(0x2bc)]+_0x1474a0),logBattleEvent(_0x2918d4(0x3fd)+_0x1474a0+_0x2918d4(0x400),_0x2918d4(0x470)),updateUI();break;case _0x2918d4(0x47b):battleState[_0x2918d4(0x1bc)][_0x2918d4(0x189)]=0.5,battleState[_0x2918d4(0x1bc)][_0x2918d4(0x1e7)]=0x5+_0x42672d[_0x2918d4(0x2de)](_0x42672d['level']);break;case _0x2918d4(0x30e):battleState[_0x2918d4(0x1bc)]['whiteNightThreshold']=_0x42672d['increment'](_0x42672d[_0x2918d4(0x456)])/0x64;break;case _0x2918d4(0x3ec):battleState[_0x2918d4(0x1bc)][_0x2918d4(0xc7)]=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)])/0x64,battleState[_0x2918d4(0x1bc)][_0x2918d4(0x152)]=0xa;break;case'吸血魔刃':battleState['player']['bloodSuckPercentage']=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)])/0x64;break;case _0x2918d4(0x109):battleState[_0x2918d4(0x1bc)][_0x2918d4(0x113)]=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)])/0x64;break;case _0x2918d4(0x2f0):battleState[_0x2918d4(0x1bc)][_0x2918d4(0x419)]+=_0x42672d['baseValue']+_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;case _0x2918d4(0x13d):battleState[_0x2918d4(0x1bc)][_0x2918d4(0x3f9)]=_0x42672d['baseValue']+_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;case _0x2918d4(0x121):battleState[_0x2918d4(0x1bc)]['goldBonus']=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;case _0x2918d4(0x2f6):battleState['player'][_0x2918d4(0x92)]=!![],battleState[_0x2918d4(0x1bc)]['goldCompensation']=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;case'焉知非福':battleState[_0x2918d4(0x1bc)][_0x2918d4(0x95)]=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;case'向死而生':battleState['player'][_0x2918d4(0x115)]=_0x42672d['increment'](_0x42672d[_0x2918d4(0x456)]);break;case'举一反三':battleState['player'][_0x2918d4(0x303)]=_0x42672d[_0x2918d4(0x2de)](_0x42672d[_0x2918d4(0x456)]);break;}}function resetBattleStateEffects(){const _0x59bad2=_0x48f708;battleState[_0x59bad2(0x1bc)][_0x59bad2(0x3f9)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x189)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x473)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x1bf)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x113)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0xc7)]=0x0,battleState[_0x59bad2(0x1bc)]['extraCritDamageMultiplier']=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x2b6)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x419)]=0x0,battleState['player'][_0x59bad2(0x44c)]=0x0,battleState['player'][_0x59bad2(0x92)]=![],battleState[_0x59bad2(0x1bc)][_0x59bad2(0x1fa)]=0x0,battleState[_0x59bad2(0x1bc)]['protectionDuration']=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x115)]=0x0,battleState[_0x59bad2(0x1bc)][_0x59bad2(0x303)]=0x0;}function enemyInfo(){const _0x24304e=_0x48f708,_0x1dad1d=document[_0x24304e(0x476)]('div');_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x3e4)]=_0x24304e(0x35d),_0x1dad1d[_0x24304e(0x338)]['top']=_0x24304e(0x304),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x171)]='50%',_0x1dad1d['style'][_0x24304e(0xe4)]='translate(-50%,\x20-50%)',_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x242)]=_0x24304e(0x3e7),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x447)]=_0x24304e(0x16f),_0x1dad1d[_0x24304e(0x338)]['padding']=_0x24304e(0x129),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x484)]=_0x24304e(0x30c),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x2e5)]=_0x24304e(0x358),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x390)]=_0x24304e(0x9b),_0x1dad1d['style'][_0x24304e(0x34c)]=_0x24304e(0xa5),_0x1dad1d[_0x24304e(0x338)]['maxWidth']='600px',_0x1dad1d[_0x24304e(0x338)]['boxSizing']=_0x24304e(0x495),_0x1dad1d[_0x24304e(0x338)][_0x24304e(0x36d)]=_0x24304e(0x2f1);const _0x77ac81=document[_0x24304e(0x476)](_0x24304e(0x19d));_0x77ac81['innerText']='X',_0x77ac81[_0x24304e(0x338)][_0x24304e(0x3e4)]='absolute',_0x77ac81[_0x24304e(0x338)][_0x24304e(0x4ba)]=_0x24304e(0x358),_0x77ac81['style'][_0x24304e(0x284)]='10px',_0x77ac81['style'][_0x24304e(0x242)]=_0x24304e(0x2ae),_0x77ac81[_0x24304e(0x338)][_0x24304e(0x447)]=_0x24304e(0x16f),_0x77ac81['style']['border']=_0x24304e(0x46e),_0x77ac81[_0x24304e(0x338)][_0x24304e(0x366)]='pointer',_0x77ac81['addEventListener']('click',()=>{const _0x3c3b36=_0x24304e;document[_0x3c3b36(0x1ba)][_0x3c3b36(0x3b9)](_0x1dad1d);});const _0x222613=document[_0x24304e(0x476)](_0x24304e(0x1a4));_0x222613[_0x24304e(0x338)][_0x24304e(0x44e)]=_0x24304e(0x283),_0x222613[_0x24304e(0x338)][_0x24304e(0x477)]=_0x24304e(0x3d1),_0x222613[_0x24304e(0x338)]['marginBottom']=_0x24304e(0x129);const _0x3f3f10=enemyImages['find'](_0x61a270=>_0x61a270[_0x24304e(0x2af)]===battleState['enemy'][_0x24304e(0x2af)]),_0x213c9d=document[_0x24304e(0x476)](_0x24304e(0x188));_0x3f3f10?_0x213c9d[_0x24304e(0x223)]=_0x3f3f10['url']:_0x213c9d[_0x24304e(0x223)]=_0x24304e(0x1e1);_0x213c9d[_0x24304e(0x338)][_0x24304e(0x34c)]=_0x24304e(0x151),_0x213c9d['style'][_0x24304e(0x3ed)]=_0x24304e(0x151),_0x213c9d['style'][_0x24304e(0x185)]=_0x24304e(0x129);const _0x247649=document[_0x24304e(0x476)](_0x24304e(0x1a4)),_0x5c0d08=document[_0x24304e(0x476)]('h2');!summonEnemy?_0x5c0d08[_0x24304e(0xf8)]=_0x24304e(0x29f):_0x5c0d08[_0x24304e(0xf8)]=''+battleState['enemy'][_0x24304e(0x2af)];_0x5c0d08['style'][_0x24304e(0x4a2)]='0',_0x5c0d08[_0x24304e(0x338)][_0x24304e(0x359)]=_0x24304e(0x358);const _0x47edc7=document[_0x24304e(0x476)]('p');!summonEnemy?_0x47edc7['innerText']=_0x24304e(0x31d):_0x47edc7[_0x24304e(0xf8)]=_0x24304e(0x45a);_0x47edc7['style'][_0x24304e(0x4a2)]='0',_0x247649[_0x24304e(0x431)](_0x5c0d08),_0x247649[_0x24304e(0x431)](_0x47edc7),_0x222613['appendChild'](_0x213c9d),_0x222613[_0x24304e(0x431)](_0x247649);const _0x1b368f=document[_0x24304e(0x476)]('hr');_0x1b368f[_0x24304e(0x338)][_0x24304e(0x3ad)]=_0x24304e(0x16f),_0x1b368f[_0x24304e(0x338)][_0x24304e(0x4a2)]='20px\x200';const _0x31aa4e=document['createElement'](_0x24304e(0x1a4));let _0x3f5ca4;!summonEnemy?_0x3f5ca4=['妖怪共有两种形态：正常和狂暴','正常形态下，它会交替使用物理和法术技能攻击妖怪。妖怪精通人心操纵之术,若玩家被施加\x22醉酒\x22、\x22摄魂\x22等效果，战局风险会极大提高。',_0x24304e(0x35f),_0x24304e(0x155)]:_0x3f5ca4=['挑战召唤的敌人往往会获得更丰富的奖励','目前召唤敌人和妖怪共享一套战斗系统，但它们通常具备特殊的战斗效果。',_0x24304e(0x3f6),_0x24304e(0x93)];_0x3f5ca4['forEach'](_0xfd43b8=>{const _0x2df447=_0x24304e,_0xf05e8b=document['createElement']('p');_0xf05e8b[_0x2df447(0xf8)]=_0xfd43b8,_0xf05e8b[_0x2df447(0x338)][_0x2df447(0x4a2)]=_0x2df447(0x315),_0x31aa4e[_0x2df447(0x431)](_0xf05e8b);});const _0x10d4fb=document[_0x24304e(0x476)](_0x24304e(0x1a4));_0x10d4fb[_0x24304e(0x338)][_0x24304e(0x44e)]='flex',_0x10d4fb[_0x24304e(0x338)][_0x24304e(0x40d)]=_0x24304e(0x497),_0x10d4fb['style'][_0x24304e(0x34c)]=_0x24304e(0x3f1),_0x10d4fb[_0x24304e(0x338)][_0x24304e(0x181)]=_0x24304e(0x129);const _0x15ed22=document[_0x24304e(0x476)](_0x24304e(0x19d));_0x15ed22[_0x24304e(0xf8)]=_0x24304e(0x39d),_0x15ed22[_0x24304e(0x338)][_0x24304e(0x2d8)]=_0x24304e(0x45e),_0x15ed22['style']['backgroundColor']=_0x24304e(0x44a),_0x15ed22['style'][_0x24304e(0x447)]=_0x24304e(0x16f),_0x15ed22[_0x24304e(0x338)]['border']=_0x24304e(0x46e),_0x15ed22[_0x24304e(0x338)][_0x24304e(0x2e5)]='5px',_0x15ed22[_0x24304e(0x338)][_0x24304e(0x366)]=_0x24304e(0x3c0),_0x15ed22[_0x24304e(0x479)](_0x24304e(0x23c),()=>{jumpByTenRounds();});const _0xabe467=document[_0x24304e(0x476)](_0x24304e(0x19d));_0xabe467[_0x24304e(0xf8)]=_0x24304e(0x2b7),_0xabe467['style'][_0x24304e(0x2d8)]=_0x24304e(0x45e),_0xabe467['style'][_0x24304e(0x242)]='#003670',_0xabe467['style'][_0x24304e(0x447)]=_0x24304e(0x16f),_0xabe467[_0x24304e(0x338)]['border']=_0x24304e(0x46e),_0xabe467['style'][_0x24304e(0x2e5)]='5px',_0xabe467[_0x24304e(0x338)]['cursor']='pointer',_0xabe467[_0x24304e(0x479)](_0x24304e(0x23c),()=>{autoBattle(),document['body']['removeChild'](_0x1dad1d);});const _0x4d1b37=document[_0x24304e(0x476)](_0x24304e(0x19d));_0x4d1b37[_0x24304e(0xf8)]=_0x24304e(0x396),_0x4d1b37[_0x24304e(0x338)]['padding']=_0x24304e(0x45e),_0x4d1b37['style']['backgroundColor']=_0x24304e(0x44a),_0x4d1b37[_0x24304e(0x338)][_0x24304e(0x447)]=_0x24304e(0x16f),_0x4d1b37[_0x24304e(0x338)][_0x24304e(0x484)]=_0x24304e(0x46e),_0x4d1b37['style'][_0x24304e(0x2e5)]=_0x24304e(0xf5),_0x4d1b37['style'][_0x24304e(0x366)]=_0x24304e(0x3c0),_0x4d1b37[_0x24304e(0x479)]('click',()=>{backToRoundOne();}),_0x10d4fb[_0x24304e(0x431)](_0x15ed22),_0x10d4fb['appendChild'](_0xabe467),_0x10d4fb[_0x24304e(0x431)](_0x4d1b37),_0x1dad1d[_0x24304e(0x431)](_0x77ac81),_0x1dad1d[_0x24304e(0x431)](_0x222613),_0x1dad1d[_0x24304e(0x431)](_0x1b368f),_0x1dad1d[_0x24304e(0x431)](_0x31aa4e),_0x1dad1d[_0x24304e(0x431)](_0x10d4fb),document[_0x24304e(0x1ba)][_0x24304e(0x431)](_0x1dad1d),_0x1dad1d[_0x24304e(0x479)](_0x24304e(0x23c),_0x3f74f5=>{const _0xf18cbe=_0x24304e;_0x3f74f5[_0xf18cbe(0x354)]===_0x1dad1d&&document[_0xf18cbe(0x1ba)][_0xf18cbe(0x3b9)](_0x1dad1d);});}function autoBattle(){const _0x2decef=_0x48f708;if(!battleState||!battleState[_0x2decef(0x3f7)]){console['error'](_0x2decef(0x3de)),clearAutoBattle();return;}if(autoBattleInterval!==null){clearAutoBattle(),showInfoBox(_0x2decef(0x132));return;}useItem(_0x2decef(0xe3),0x1)?(logBattleEvent(_0x2decef(0x2b9),_0x2decef(0x27f)),autoBattleInterval=setInterval(()=>{const _0x4d80da=_0x2decef;if(!battleState||!battleState[_0x4d80da(0x3f7)]){console[_0x4d80da(0x2b0)](_0x4d80da(0x3de)),clearAutoBattle();return;}if(!playerTurn)return;if(battleAttributes[_0x4d80da(0x2bc)]/maxHealth<0.5&&playerTurn){Math[_0x4d80da(0x140)]()<0.5?performDefense():performHeal();return;}const _0x47f2c6=[battleState[_0x4d80da(0x1bc)]['drunken'],battleState[_0x4d80da(0x1bc)][_0x4d80da(0x369)],battleState['player'][_0x4d80da(0x482)],battleState[_0x4d80da(0x1bc)][_0x4d80da(0x2f2)],battleState[_0x4d80da(0x1bc)]['seal'],battleState[_0x4d80da(0x1bc)][_0x4d80da(0x15f)],battleState[_0x4d80da(0x1bc)]['taunt'],battleState['player'][_0x4d80da(0x2dc)],battleState[_0x4d80da(0x1bc)]['suppressed'],battleState[_0x4d80da(0x1bc)][_0x4d80da(0x278)]],_0xabd2a8=_0x47f2c6[_0x4d80da(0x32a)](Boolean)['length'];if(_0xabd2a8>=0x2){const _0x5d094b=_0x4d80da(0x274),_0x267baf=drugInventory[_0x5d094b];if(_0x267baf&&_0x267baf[_0x4d80da(0x3a4)]>0x0){selectDrug(_0x5d094b),useSelectedDrug();return;}}battleState['player']['blindfold']?performAttack(_0x4d80da(0x186)):battleAttributes['magicAttack']>0.8*battleAttributes[_0x4d80da(0x18c)]&&!battleState[_0x4d80da(0x1bc)][_0x4d80da(0x2f8)]?Math[_0x4d80da(0x140)]()<0.99?performAttack(_0x4d80da(0x186)):performAttack(_0x4d80da(0x406)):performAttack(_0x4d80da(0x406));},0x15e)):showInfoBox(_0x2decef(0x2f7),null,null,_0x2decef(0x19c));}function clearAutoBattle(){const _0x509747=_0x48f708;autoBattleInterval!==null&&(clearInterval(autoBattleInterval),autoBattleInterval=null,logBattleEvent(_0x509747(0xb1),_0x509747(0x19c)));}function jumpByTenRounds(){const _0x3f9128=_0x48f708;if(battleState[_0x3f9128(0x1bc)][_0x3f9128(0x2f8)]){performAttack(_0x3f9128(0x406));return;}const _0x566650=0x3e8,_0x774954=_0x566650-battleRounds,_0x2ac3a7=Math[_0x3f9128(0x2da)](0xa,_0x774954);if(battleRounds>=_0x566650){showInfoBox(_0x3f9128(0x245)+battleRounds+_0x3f9128(0x23b));return;}if(useItem(_0x3f9128(0x3d8),0x1)){let _0x3067f1=currentExp;battleRounds+=_0x2ac3a7;for(let _0x16eb6e=0x0;_0x16eb6e<_0x2ac3a7;_0x16eb6e++){updateEnemyAttributes(),gainExp(),currentExp=_0x3067f1,updateExpBar(currentExp,maxExp),logBattleEvent('你跳过了'+_0x2ac3a7+_0x3f9128(0x375)+battleRounds+'轮',_0x3f9128(0x290)),updatePetInfo(),updateUI();}}else{showInfoBox(_0x3f9128(0x120),null,null,_0x3f9128(0x19c));return;}}function _0x57f3(_0x4dc891,_0x4cc987){const _0xd0feac=_0xd0fe();return _0x57f3=function(_0x57f3a5,_0x2c0011){_0x57f3a5=_0x57f3a5-0x92;let _0x2415be=_0xd0feac[_0x57f3a5];return _0x2415be;},_0x57f3(_0x4dc891,_0x4cc987);}function backToRoundOne(){const _0x13daa0=_0x48f708;showInfoBox(_0x13daa0(0x3ab),()=>{const _0x12cc4d=_0x13daa0,_0x2aa01a=jinnangItems[_0x12cc4d(0x125)](_0x3bbbff=>_0x3bbbff[_0x12cc4d(0x2af)]===_0x12cc4d(0x2cd)),_0x2fe689=jinnangItems['find'](_0x4fd000=>_0x4fd000[_0x12cc4d(0x2af)]===_0x12cc4d(0x26f));if(!_0x2aa01a||_0x2aa01a[_0x12cc4d(0x3a4)]<0x64||!_0x2fe689||_0x2fe689[_0x12cc4d(0x3a4)]<0x64){showInfoBox(_0x12cc4d(0x493));return;}useItem('enhanceBowl',0x64),useItem('ignoranceWater',0x64),battleRounds=0x1,initializeEnemyPet(),updateEnemyAttributes(),updateUI(),showInfoBox(_0x12cc4d(0x1d8));});}function divinedWeapon(){const _0xd7f4e2=_0x48f708;!divinedWeaponStatus&&(showInfoBox(_0xd7f4e2(0x271)),divinedWeaponStatus=!![]),divineWeaponManager[_0xd7f4e2(0x36a)]();}class DivineWeaponManager{constructor(){const _0x404d5a=_0x48f708;this[_0x404d5a(0x287)]={'active':![],'level':0x1,'effects':[]},this[_0x404d5a(0xf9)]={'active':![],'level':0x1,'effects':[]},this[_0x404d5a(0x465)]={'active':![],'level':0x1,'effects':[]},this[_0x404d5a(0xd9)]=null;}[_0x48f708(0xcd)](){const _0x158f31=_0x48f708;return{'lostBook':this[_0x158f31(0x287)],'fragmentedMap':this[_0x158f31(0xf9)],'nirvanaGem':this[_0x158f31(0x465)]};}[_0x48f708(0x13e)](_0x448cde){const _0x1c480f=_0x48f708;if(_0x448cde[_0x1c480f(0x287)])this[_0x1c480f(0x287)]=_0x448cde['lostBook'];if(_0x448cde[_0x1c480f(0xf9)])this[_0x1c480f(0xf9)]=_0x448cde[_0x1c480f(0xf9)];if(_0x448cde[_0x1c480f(0x465)])this[_0x1c480f(0x465)]=_0x448cde['nirvanaGem'];}[_0x48f708(0x36a)](){const _0x391396=_0x48f708;this['divineWeaponUI']&&this['divineWeaponUI'][_0x391396(0x130)]();if(battleState[_0x391396(0x1bc)][_0x391396(0x2f8)]){performAttack('physical');return;}this[_0x391396(0xd9)]=document[_0x391396(0x476)]('div'),this['divineWeaponUI']['style']=_0x391396(0x486);const _0x47dfeb=this[_0x391396(0x287)][_0x391396(0x31f)]?_0x391396(0x2cb)+this[_0x391396(0x287)][_0x391396(0x456)]+')':_0x391396(0x1e5),_0x38c5c2=this[_0x391396(0x287)]['active']?this['lostBook'][_0x391396(0x1d5)][_0x391396(0xd4)]>0x0?_0x391396(0x429)+(this[_0x391396(0x287)][_0x391396(0x456)]*0.6+0x1)[_0x391396(0x42f)](0x1)+_0x391396(0xfc)+this[_0x391396(0x287)][_0x391396(0x1d5)]['map'](this[_0x391396(0x103)])[_0x391396(0x2fa)](',\x20'):_0x391396(0x4a8):'<p>炽热明亮的金樽，开启后可为物理技能概率附加效果：</p><p>破甲、恐吓、眩晕、穿透、麻痹、惶恐</p>',_0x189a4f=this[_0x391396(0xf9)][_0x391396(0x31f)]?_0x391396(0x96)+this[_0x391396(0xf9)][_0x391396(0x456)]+')':_0x391396(0x47c),_0x379902=this[_0x391396(0xf9)][_0x391396(0x31f)]?this[_0x391396(0xf9)]['effects'][_0x391396(0xd4)]>0x0?_0x391396(0x46f)+(this['fragmentedMap'][_0x391396(0x456)]*0.6+0x1)['toFixed'](0x1)+'%概率触发以下技能效果：'+this[_0x391396(0xf9)][_0x391396(0x1d5)]['map'](this[_0x391396(0x103)])['join'](',\x20'):_0x391396(0x301):_0x391396(0x35b),_0x5683ac=this['nirvanaGem'][_0x391396(0x31f)]?_0x391396(0x194)+this['nirvanaGem'][_0x391396(0x456)]+')':_0x391396(0x191),_0xb07a84=this[_0x391396(0x465)][_0x391396(0x31f)]?this['nirvanaGem'][_0x391396(0x1d5)][_0x391396(0xd4)]>0x0?_0x391396(0x442)+(this[_0x391396(0x465)][_0x391396(0x456)]*0.3+0.5)[_0x391396(0x42f)](0x1)+_0x391396(0x2c1)+this[_0x391396(0x465)]['effects'][_0x391396(0x355)](this[_0x391396(0x103)])['join'](',\x20'):_0x391396(0xb0):_0x391396(0x345);this[_0x391396(0xd9)][_0x391396(0x41c)]=_0x391396(0x336)+(this[_0x391396(0x287)]['active']?_0x391396(0x435):_0x391396(0xeb))+_0x391396(0x1c1)+_0x47dfeb+_0x391396(0x334)+_0x38c5c2+_0x391396(0x440)+(this[_0x391396(0xf9)]['active']?_0x391396(0x264):_0x391396(0xeb))+_0x391396(0x2ee)+_0x189a4f+_0x391396(0x334)+_0x379902+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-evenly;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.activateDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>开启</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.refreshDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>刷新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升级</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.upgradeMaxDivineWeapon(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>升满</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22divineWeaponManager.description(\x27fragmentedMap\x27)\x22\x20style=\x22background:\x20green;\x20color:\x20white;\x20font-size:\x2014px;\x20border:\x201px\x20solid\x20white;\x22>说明</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x2010px;\x20border:\x201px\x20solid\x20#F5F5F5;\x20border-radius:\x2010px;\x20padding:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+(this[_0x391396(0x465)][_0x391396(0x31f)]?_0x391396(0x3c4):_0x391396(0xeb))+_0x391396(0x3fc)+_0x5683ac+_0x391396(0x334)+_0xb07a84+_0x391396(0x139),document[_0x391396(0x1ba)][_0x391396(0x431)](this[_0x391396(0xd9)]);}[_0x48f708(0x42d)](){const _0x8ad053=_0x48f708;this[_0x8ad053(0xd9)]&&(this['divineWeaponUI'][_0x8ad053(0x130)](),this['divineWeaponUI']=null);}[_0x48f708(0x1b2)](_0x110551){const _0x44cd1f=_0x48f708;if(this[_0x110551][_0x44cd1f(0x31f)]){showInfoBox(_0x44cd1f(0x31a));return;}const _0x364b11=_0x110551==='lostBook'?_0x44cd1f(0x287):_0x110551===_0x44cd1f(0xf9)?'fragmentedMap':_0x44cd1f(0x465);if(useItem(_0x364b11)){this[_0x110551][_0x44cd1f(0x31f)]=!![],this[_0x110551][_0x44cd1f(0x1d5)]=[this['getRandomEffect'](_0x110551)],showInfoBox((_0x110551==='lostBook'?_0x44cd1f(0x1f1):_0x110551===_0x44cd1f(0xf9)?_0x44cd1f(0x119):_0x44cd1f(0x2e3))+'已成功开启！'),this[_0x44cd1f(0x36a)]();return;}if(currentExp<0x30d40){showInfoBox(_0x44cd1f(0x1be));return;}currentExp-=0x30d40,updateExpBar(currentExp,maxExp),this[_0x110551][_0x44cd1f(0x31f)]=!![],this[_0x110551][_0x44cd1f(0x1d5)]=[this[_0x44cd1f(0x41d)](_0x110551)],showInfoBox((_0x110551===_0x44cd1f(0x287)?_0x44cd1f(0x1f1):_0x110551===_0x44cd1f(0xf9)?_0x44cd1f(0x119):_0x44cd1f(0x2e3))+_0x44cd1f(0x490)),this['openDivineWeaponUI']();}[_0x48f708(0xc1)](_0x41710a){const _0x18661c=_0x48f708,_0x3f6935=_0x41710a==='lostBook'?_0x18661c(0x287):_0x41710a===_0x18661c(0xf9)?'fragmentedMap':'nirvanaGem';showInfoBox(weaponDescriptions[_0x3f6935]),this['openDivineWeaponUI']();}[_0x48f708(0x4b9)](_0x26ed52){const _0x228255=_0x48f708;if(!this[_0x26ed52][_0x228255(0x31f)]){showInfoBox(_0x228255(0x1ca));return;}const _0x20561c=_0x26ed52==='lostBook'?_0x228255(0x287):_0x26ed52===_0x228255(0xf9)?_0x228255(0xf9):_0x228255(0x465);if(useItem(_0x20561c)){const _0x43a2cc=Math[_0x228255(0x140)]();if(_0x26ed52===_0x228255(0x465)){if(_0x43a2cc<0.05)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this['getRandomEffect'](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this['getRandomEffect'](_0x26ed52)];else{if(_0x43a2cc<0.15)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else{if(_0x43a2cc<0.3)this[_0x26ed52]['effects']=[this[_0x228255(0x41d)](_0x26ed52),this['getRandomEffect'](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else _0x43a2cc<0.6?this[_0x26ed52]['effects']=[this['getRandomEffect'](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)]:this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52)];}}}else{if(_0x43a2cc<0.05)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else _0x43a2cc<0.2?this[_0x26ed52][_0x228255(0x1d5)]=[this['getRandomEffect'](_0x26ed52),this['getRandomEffect'](_0x26ed52)]:this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52)];}this[_0x228255(0x36a)]();return;}if(currentExp<0x186a0){showInfoBox(_0x228255(0x34f));return;}currentExp-=0x186a0,updateExpBar(currentExp,maxExp);const _0x511f3a=Math[_0x228255(0x140)]();if(_0x26ed52===_0x228255(0x465)){if(_0x511f3a<0.05)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this['getRandomEffect'](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else{if(_0x511f3a<0.15)this[_0x26ed52]['effects']=[this['getRandomEffect'](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else{if(_0x511f3a<0.3)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else _0x511f3a<0.6?this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)]:this[_0x26ed52]['effects']=[this[_0x228255(0x41d)](_0x26ed52)];}}}else{if(_0x511f3a<0.05)this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)];else _0x511f3a<0.2?this[_0x26ed52][_0x228255(0x1d5)]=[this[_0x228255(0x41d)](_0x26ed52),this[_0x228255(0x41d)](_0x26ed52)]:this[_0x26ed52]['effects']=[this[_0x228255(0x41d)](_0x26ed52)];}showInfoBox((_0x26ed52===_0x228255(0x287)?_0x228255(0x1f1):_0x26ed52===_0x228255(0xf9)?'残页的河图':_0x228255(0x2e3))+'已通过经验刷新。'),this['openDivineWeaponUI']();}[_0x48f708(0x13c)](_0x306ddd){const _0x3ca44c=_0x48f708;if(!this[_0x306ddd][_0x3ca44c(0x31f)]){showInfoBox(_0x3ca44c(0x312));return;}if(this[_0x306ddd]['level']>=0xa5){showInfoBox(_0x3ca44c(0x3cd));return;}const _0x5ecb6e=_0x306ddd===_0x3ca44c(0x287)?_0x3ca44c(0x287):_0x306ddd===_0x3ca44c(0xf9)?_0x3ca44c(0xf9):_0x3ca44c(0x465);if(this[_0x306ddd][_0x3ca44c(0x456)]>=0x64||useItem(_0x5ecb6e)){if(this[_0x306ddd]['level']>=0x64&&!useItem(_0x5ecb6e)){showInfoBox(_0x3ca44c(0x11d));return;}this[_0x306ddd][_0x3ca44c(0x456)]+=0x1,this['openDivineWeaponUI']();return;}if(currentExp<0xbb8){showInfoBox('经验不足3000或缺少对应「钥匙」，无法升级神器。');return;}currentExp-=0xbb8,updateExpBar(currentExp,maxExp),this[_0x306ddd][_0x3ca44c(0x456)]+=0x1,this[_0x3ca44c(0x36a)]();}[_0x48f708(0x425)](_0x154af4){const _0x1b61fb=_0x48f708;while(this[_0x154af4][_0x1b61fb(0x456)]<0xa5){const _0x3f7b82=this[_0x154af4]['level'];this[_0x1b61fb(0x13c)](_0x154af4);if(this[_0x154af4][_0x1b61fb(0x456)]===_0x3f7b82)break;}}[_0x48f708(0x41d)](_0x2ccd25){const _0x49de5a=_0x48f708;if(_0x2ccd25===_0x49de5a(0x287)){const _0x5889a3=['破甲','眩晕','恐吓','麻痹','穿透','惶恐'];return _0x5889a3[Math['floor'](Math['random']()*_0x5889a3[_0x49de5a(0xd4)])];}else{if(_0x2ccd25==='fragmentedMap'){const _0x7c3fe8=['沉默','迟缓','混乱',_0x49de5a(0x4bf),'灼烧',_0x49de5a(0x2ef)];return _0x7c3fe8[Math[_0x49de5a(0x122)](Math[_0x49de5a(0x140)]()*_0x7c3fe8[_0x49de5a(0xd4)])];}else{if(_0x2ccd25==='nirvanaGem'){const _0x4539b2=[_0x49de5a(0x20d),_0x49de5a(0x369),'soulCapture','blindfold',_0x49de5a(0x2dc),_0x49de5a(0x15f),_0x49de5a(0x326),_0x49de5a(0x2f8),'seal',_0x49de5a(0x278)];return _0x4539b2[Math[_0x49de5a(0x122)](Math[_0x49de5a(0x140)]()*_0x4539b2['length'])];}}}}[_0x48f708(0x103)](_0x3e0274){const _0x27c32f=_0x48f708,_0x5aaa4d={'破甲':'破甲','眩晕':'眩晕','恐吓':'恐吓','麻痹':'麻痹','穿透':'穿透','惶恐':'惶恐','沉默':'沉默','迟缓':'迟缓','混乱':'混乱','法力燃烧':_0x27c32f(0x4bf),'法力吸取':_0x27c32f(0x2ef),'灼烧':'灼烧','drunken':'醉酒','healingBan':'禁疗','soulCapture':'摄魂','blindfold':'失明','spellSlow':'法术迟钝','torn':'撕裂','suppressed':'压制','taunt':'嘲讽','seal':'封印','slaughter':'杀戮'};return _0x5aaa4d[_0x3e0274]||_0x3e0274;}[_0x48f708(0x225)](){const _0x35b0bd=_0x48f708;if(!this[_0x35b0bd(0x465)][_0x35b0bd(0x31f)])return;const _0x1ac6d3=Math[_0x35b0bd(0x2da)](0x1,0.005+(this[_0x35b0bd(0x465)][_0x35b0bd(0x456)]-0x1)*0.003);if(Math[_0x35b0bd(0x140)]()>_0x1ac6d3)return;const _0x3a7852=[_0x35b0bd(0x20d),'healingBan',_0x35b0bd(0x482),_0x35b0bd(0x2f2),_0x35b0bd(0x2dc),_0x35b0bd(0x15f),_0x35b0bd(0x326),_0x35b0bd(0x2f8),'seal',_0x35b0bd(0x278)],_0x3ad191=_0x3a7852['filter'](_0x74827=>battleState[_0x35b0bd(0x1bc)][_0x74827]),_0x4ec195=this[_0x35b0bd(0x465)][_0x35b0bd(0x1d5)][_0x35b0bd(0x32a)](_0x178755=>_0x3a7852['includes'](_0x178755)),_0x1ad500=_0x3ad191[_0x35b0bd(0x32a)](_0x326130=>_0x4ec195[_0x35b0bd(0x255)](_0x326130));if(_0x1ad500[_0x35b0bd(0xd4)]>0x0){const _0x542a6a=_0x1ad500[Math[_0x35b0bd(0x122)](Math['random']()*_0x1ad500['length'])];battleState['player'][_0x542a6a]=![];switch(_0x542a6a){case _0x35b0bd(0x20d):break;case _0x35b0bd(0x369):break;case _0x35b0bd(0x2dc):break;case _0x35b0bd(0x482):battleAttributes[_0x35b0bd(0x18c)]=battleState['player']['physicalAttack'],battleAttributes['magicAttack']=battleState['player'][_0x35b0bd(0x381)],updateUI(),updatePlayerStatusDisplay();break;case _0x35b0bd(0x15f):clearInterval(battleState['player'][_0x35b0bd(0x251)]),effectCooldowns[_0x35b0bd(0x15f)]=![];break;case _0x35b0bd(0x326):cleanSuppressed();break;case _0x35b0bd(0x2f8):clearTaunt();break;case _0x35b0bd(0x278):cleanSlaughter();break;case _0x35b0bd(0x30a):break;case _0x35b0bd(0x212):ascensionSkill['name']=battleState[_0x35b0bd(0x1bc)][_0x35b0bd(0x3ce)],secondAscensionSkill['name']=battleState['player'][_0x35b0bd(0x383)],updateAscensionDisplay(),updateSecondAscensionDisplay(),effectCooldowns[_0x35b0bd(0x212)]=![],updateUI();break;}logBattleEvent(_0x35b0bd(0x183)+this[_0x35b0bd(0x103)](_0x542a6a)+_0x35b0bd(0x10c),_0x35b0bd(0x219)),showBattleOverlay(_0x35b0bd(0xdf),0x3e8,0x1,0x3e8),updatePlayerStatusDisplay(),updateUI();}}}function cleanSlaughter(){const _0x2770ef=_0x48f708;battleState[_0x2770ef(0x1bc)][_0x2770ef(0x278)]=![],effectCooldowns[_0x2770ef(0x278)]=![],enemyPhysicalAttackCount=0x0,updatePlayerStatusDisplay(),console[_0x2770ef(0x460)](_0x2770ef(0x145));}function cleanSuppressed(){const _0x5dc96c=_0x48f708;if(battleState[_0x5dc96c(0x1bc)][_0x5dc96c(0x326)]){clearTimeout(suppressionState[_0x5dc96c(0x337)]);const _0x4a2574=performPhysicalAttack,_0x3beb1e=performMagicalAttack,_0x4782f8=performHeal,_0x35fdf6=performPoison,_0x278412=performDefense;battleState[_0x5dc96c(0x1bc)][_0x5dc96c(0x326)]=![],effectCooldowns[_0x5dc96c(0x326)]=![],(!suppressionState[_0x5dc96c(0xf2)]||battleState[_0x5dc96c(0x1bc)][_0x5dc96c(0x326)])&&(battleAttributes[_0x5dc96c(0x2bc)]=0x1,battleAttributes[_0x5dc96c(0x15c)]=0x1,battleAttributes['physicalAttack']=0x1,battleAttributes[_0x5dc96c(0x381)]=0x1,logBattleEvent('你的无动于衷极大助长了妖怪的威压，它降下地狱之火焚尽了你的战斗能力。',_0x5dc96c(0x291)),showBattleOverlay(_0x5dc96c(0x3d3),0x5dc,0.8)),performPhysicalAttack=_0x4a2574,performMagicalAttack=_0x3beb1e,performHeal=_0x4782f8,performPoison=_0x35fdf6,performDefense=_0x278412,updatePlayerStatusDisplay();}updateUI();}function clearTaunt(){const _0x503c4c=_0x48f708;battleState[_0x503c4c(0x1bc)]['taunt']=![],effectCooldowns[_0x503c4c(0x2f8)]=![],clearTimeout(tauntTimeout),updatePlayerStatusDisplay(),updateUI();}function clearEnemyEffect(){const _0x16998e=_0x48f708,_0x492254=['drunken',_0x16998e(0x369),_0x16998e(0x482),_0x16998e(0x2f2),_0x16998e(0x2dc),_0x16998e(0x15f),_0x16998e(0x326),_0x16998e(0x2f8),_0x16998e(0x212),_0x16998e(0x278),_0x16998e(0xa2),_0x16998e(0x235)];_0x492254['forEach'](_0x44b82b=>{const _0x52f412=_0x16998e;if(battleState[_0x52f412(0x1bc)][_0x44b82b]){switch(_0x44b82b){case _0x52f412(0x20d):break;case _0x52f412(0x369):break;case _0x52f412(0x482):battleAttributes[_0x52f412(0x18c)]=battleState['player']['physicalAttack'],battleAttributes['magicAttack']=battleState[_0x52f412(0x1bc)]['magicAttack'],updateUI(),updatePlayerStatusDisplay();break;case _0x52f412(0x15f):clearInterval(battleState[_0x52f412(0x1bc)]['tornInterval']);break;case'suppressed':cleanSuppressed();break;case _0x52f412(0x2f8):clearTaunt();break;case _0x52f412(0x278):cleanSlaughter();break;case _0x52f412(0x212):ascensionSkill[_0x52f412(0x2af)]=battleState[_0x52f412(0x1bc)]['originalAscensionSkill'],secondAscensionSkill[_0x52f412(0x2af)]=battleState[_0x52f412(0x1bc)][_0x52f412(0x383)],updateAscensionDisplay(),updateSecondAscensionDisplay(),updateUI();break;case'shocked':break;case'heat':handleCleanHeat();break;}battleState[_0x52f412(0x1bc)][_0x44b82b]=![],effectCooldowns[_0x44b82b]=![];}}),updatePlayerStatusDisplay();}function clearPlayerEffect(){const _0x3d0d49=_0x48f708,_0x4f09c3=[{'name':'armorBreak','timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0x4b3)]},{'name':_0x3d0d49(0x3c5),'timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0x4b6)]},{'name':_0x3d0d49(0x348),'timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0x1eb)]},{'name':'poisoned','timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0x445)]},{'name':_0x3d0d49(0x168),'timer':battleState[_0x3d0d49(0x3f7)]['stunnedTimer']},{'name':'intimidated','timer':battleState['enemy'][_0x3d0d49(0x379)]},{'name':_0x3d0d49(0x243),'timer':battleState['enemy'][_0x3d0d49(0x38d)]},{'name':_0x3d0d49(0x298),'timer':battleState['enemy'][_0x3d0d49(0x3fb)]},{'name':'burnt','timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0xdb)]},{'name':_0x3d0d49(0x37c),'timer':battleState['enemy'][_0x3d0d49(0x459)]},{'name':_0x3d0d49(0x36c),'timer':battleState[_0x3d0d49(0x3f7)][_0x3d0d49(0x2b3)]}];_0x4f09c3[_0x3d0d49(0x1ee)](_0xd81bcc=>{const _0xf58eb9=_0x3d0d49;battleState[_0xf58eb9(0x3f7)][_0xd81bcc[_0xf58eb9(0x2af)]]=![],_0xd81bcc['timer']&&(clearTimeout(_0xd81bcc[_0xf58eb9(0xdc)]),_0xd81bcc['timer']=null);}),updateEnemyStatusDisplay();}const divineWeaponManager=new DivineWeaponManager();
