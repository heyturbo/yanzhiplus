<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project TS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <style>
        /* @import url('https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@400;700&display=swap'); */

        body {
            font-family: 'Noto Serif SC', sans-serif;
            display: flex;
            flex-direction: column;
            margin: 0;
            padding: 5px;
            color: #6f391c;
            align-items: center;
            font-size: 14px;
        }

        #petOverview {
            display: none; /* 默认隐藏 */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            background-color: rgb(26 72 47 / 95%);
            background-image: url(https://pic.imgdb.cn/item/66bb97abd9c307b7e974cff5.png);
            background-size: cover;
            overflow-y: scroll;
            z-index: 1000;
        }

        /* 设置 input[type=range] 的基础样式 */
        input[type="range"] {
            -webkit-appearance: none;  /* 移除默认样式，适用于 WebKit 浏览器（如 Chrome, Safari） */
              /* 设置宽度为 100% */
            height: 25px;  /* 轨道高度 */
            background: linear-gradient(90deg, #4caf50 0%, #d20505 100%); /* 渐变背景色 */
             /* 轨道圆角 */
            outline: none;  /* 移除点击时的外框 */
            opacity: 0.7;  /* 设置透明度 */
            transition: opacity .2s;  /* 增加过渡效果 */
            width: 90%;
            appearance: none;
            border-radius: 25px;
            border: 1px groove #fff;
            box-shadow: rgba(0, 0, 0, 0.8) 0px 0px 2px 1px inset;
        }

        /* 鼠标悬停时不透明 */
        input[type="range"]:hover {
            opacity: 1;
        }

        /* 自定义滑块 (thumb) 样式 */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;  /* 移除默认样式 */
            appearance: none;
            width: 20px;  /* 滑块的宽度 */
            height: 20px;  /* 滑块的高度 */
            background: #ff5722;  /* 滑块颜色 */
            cursor: pointer;  /* 鼠标悬停时的指针样式 */
            border-radius: 50%;  /* 滑块圆角 */
            box-shadow: 0 0 5px rgba(0,0,0,0.2);  /* 滑块阴影 */
        }
        
        .close-button {
            display: flex;
            /* width: 100%; */
            background-color: hsl(0deg 0% 100% / 0%);
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            padding: 5px 10px;
            flex-direction: row-reverse;
            font-size: 20px;
        }
        .pet-container {
            background-image: url(https://pic.imgdb.cn/item/66bb8916d9c307b7e95f8f5a.jpg);
            border-radius: 10px;
            margin: 10px 10px 20px 10px;
            padding: 10px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
            color: white;
            border: 1px solid white;
            background-size: cover;
        }
        .pet-header {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            background: rgb(0 0 0 / 40%);
            border-radius: 10px;
            padding: 10px;
            text-shadow: -1px -1px 0 black,  
                         1px -1px 0 black,
                        -1px  1px 0 black,
                         1px  1px 0 black;
        }
        .pet-header h2 {
            margin: 0;
            font-size: 18px;
        }
        .pet-status {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            flex-direction: row;
            border-radius: 10px;
        }
        .pet-status div {
            width: 50%;
            text-align: center;
            display: flex;
            justify-content: space-between;
            flex: 0.4;
            align-items: center;
        }
        .pet-progress {
            width: 100%;
            height: 15px;
            background-color: #63434c;
            border: 1px solid #5e5060;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
            margin-bottom: 10px;
            box-shadow: inset -1px 1px 5px 1px rgba(0, 0, 0, 0.5);
        }
        .pet-progress div {
            height: 100%;
            width: 0%;
            background: linear-gradient(to bottom, #71A291, #8EBB85, #A1CC80, #8EBB85, #71A291);
            box-shadow: 1px 0 5px 2px rgba(0, 0, 0, 0.5);
        }
        .pet-buttons {
            display: flex;
            justify-content: space-between;
        }
        .pet-buttons button {
            flex: 0.15;
            background: linear-gradient(to top, #115570, #20c3af);
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            border: 1px solid hsl(0deg 0% 100% / 70%);
            box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.5);
        }
        .pet-buttons button:active {
            background-color: #004373;
        }
        #iframeContainer {
            display: none;
            width: 100%;
            height: 100%;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
        }
    .item-text-container {
        margin-left: 2px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        font-size: 12px;
        align-items: flex-start;
        background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
        background-repeat: repeat;
        background-size: contain;
        padding: 1px;
        border: 1px solid black;
        width: 100%;
        height: 43px;
    }

    .item-text-top {
        padding: 0px;
        background: #393226;
        color: #DD9C35;
        box-shadow: 0px 0px 0px 1px #514D41;
        width: 100%;
        height: 21px;
        text-overflow: ellipsis;
        overflow: hidden;
        text-align: left;
    }
    
    .item-text-bottom {
        background: #393226;
        color:rgb(255 255 255 / 90%);
        box-shadow: 0px 0px 0px 1px #514D41;
        height: 18px;
        width: 100%;
        text-align: left;
        overflow: hidden;
    }

    .general-window-background {
        display: block;
        z-index: 1000;
        background: #6f391c;
        border-radius: 2px;
        color: #92341c;
        background-repeat: repeat;
        background-size: auto;
        border: 1px solid black;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 360px;
        padding: 1px;
    }

#wuxing-open-button {
    margin: 20px;
    padding: 10px 20px;
    background-color: #3498db;
    color: #ffffff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#wuxing-display {
    display: none; /* 默认隐藏 */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    width: 90%;
    max-height: 660px;
    overflow-y: auto;
    z-index: 9999;
    background: #B07638;
    padding: 2px;
    box-shadow: inset 0px 0px 3px 1px #92341C;
    border: 1px solid black;
}

#wuxing-header {
    display: flex;
    padding: 5px;
    gap: 60px;
    justify-content: space-around;
    align-items: center;
    text-align: center;
    background-image: url(https://pic.imgdb.cn/item/66bf32d9d9c307b7e9995d58.png);
    background-repeat: repeat;
    background-size: contain;
    color: #E3A73B;
    cursor: pointer;
    box-shadow: inset 0px 1px 2px 0px #E3A73B;
    border: 1px solid black;
}

#wuxing-container {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px 5px;
    max-height: 240px;
    justify-items: center;
    align-content: space-around;
    border: 1px solid #87431f;
    padding: 10px;
    overflow-y: scroll;
    border-radius: 2px;
    margin: 5px;
    min-height: 50px;
    margin-top: 5px;
    border-width: 10px;
    border-style: solid;
    border-color: transparent;
    border-image: url(https://pic.imgdb.cn/item/66c2f34cd9c307b7e9be06c0.png) 40 / 1 / 0 round;
}

#equipped-container {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px 5px;
    max-height: 200px;
    justify-items: center;
    align-content: space-around;
    border: 1px solid #87431f;
    padding: 10px;
    overflow-y: scroll;
    border-radius: 2px;
    margin: 5px;
    min-height: 50px;
    margin-top: 5px;
    border-width: 10px;
    border-style: solid;
    border-color: transparent;
    border-image: url(https://pic.imgdb.cn/item/66c2f34cd9c307b7e9be06c0.png) 40 / 1 / 0 round;
}
        
.wuxing-item {
    position: relative;
    width: 45px;
    height: 45px;
    background-size: cover;
    cursor: pointer;
    font-size: 10px;
    border: 1px solid white; /* 默认边框颜色 */
    box-shadow: 0px 0px 0px 1px black;
}

.wuxing-item.equipped {
    filter: brightness(50%); /* 装备后变暗 */
}

.red-border {
    border-color: red;
}

.green-border {
    border-color: green;
}

.blue-border {
    border-color: blue;
}

.orange-border {
    border-color: orange;
}

.purple-border {
    border-color: purple;
}

.wuxing-info {
    position: absolute;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    width: 45px;
    text-align: center;
    height: 20px;
    font-size: 8px;
}

#amulet-details {
    border: 1px solid #87431f;
    padding: 10px;
    height: 180px;
    border-radius: 2px;
    line-height: 18px;
    background: rgb(0 0 0 / 20%);
    color: #ffffff;
}
        
        /* 防止 "pull-to-refresh" 行为 */
        @media screen and (pointer: coarse) {
        @supports (-webkit-backdrop-filter: blur(1px)) {
            /* Safari 16+ */
            @supports (overscroll-behavior-y: none) {
                html {
                    min-height: 100.3%;
        overscroll-behavior-y: none;
                }
            }
            /* Safari 9-15 */
        @supports (not (overscroll-behavior-y: none)) {
                html {
                    height: 100%;
        overflow: hidden;
                }
                body {
                    margin: 0px;
                    max-height: 100%; /* or `height: calc(100% - 16px);` if body has default margin */
                    overflow: auto;
                    -webkit-overflow-scrolling: touch;
                }
            }
        }
    }
        /* Chrome 63+ */
            body {
            overscroll-behavior-y: none;
        }
        /* styles.css */
        #loadingOverlay, #unlockOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(0 0 0);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            flex-direction: column;
            cursor: not-allowed;
            display: none;
        }

        #baiyinOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(0 0 0 / 0%); /* 半透明背景 */
            z-index: 9999; /* 置顶 */
            display: none; /* 初始隐藏 */
            cursor: not-allowed; /* 显示禁止操作的光标 */
        }
        
        #loadingText {
            color: white;
            font-size: 20px;
            margin-bottom: 20px;
        }
        
        #progressBarContainer {
            width: 80%;
            background: #ddd;
            border-radius: 25px;
        }
        
        #progressBar {
            width: 0%;
            height: 30px;
            background: #4caf50;
            border-radius: 25px;
        }

        /* 顶部栏样式 */
        .top-bar {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-direction: row;
            flex-wrap: nowrap;
            padding: 4px;
            background-color: #DFBF6E;
            color: #92341c;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 2px solid #93341d;
            margin: 4px;
            font-weight: bold;
        }
        
        .top-bar div {
            display: flex;
            font-size: 12px;
            color: #93341d;
            align-items: center;
            flex-direction: column;
        }
        
        .top-bar img {
            width: 40px;
            height: 40px;
            border: 1px solid #6f391c;
        }
        
        /* 底部栏样式 */
        .bottom-bar {
            width: 90%;
            margin: 5px 5px;
            padding: 5px;
            background-color: rgb(255 255 255 / 40%);
            border: 1px solid rgba(0, 0, 0, 0.1);
            /* box-shadow: 0 0px 5px rgba(0, 0, 0, 0.1); */
            display: flex;
            border-radius: 10px;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-between;
            border: 1px groove white;
        }
        
        .bottom-bar div {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }
        
        .bottom-bar img {
            width: 45px;
            height: 45px;
        }
        .core-area {
            background-color: hwb(0deg 100% 0% / 95%);
            display: flex;
            border-radius: 10px;
            justify-content: center;
            width: 90%;
            padding: 5px;
            margin: 5px 0px 5px 0px;
            flex-direction: column;
            background-image: url(https://pic.imgdb.cn/item/66d324a9d9c307b7e97a8e72.png);
            background-size: cover;
            background-position: center;
            border: 1px groove aliceblue;
        }
        .core-area-for-skills {
            width: 90%;
            margin: 15px 0px 5px 0px;
            padding: 5px;
            background-color: hsl(0deg 0% 100% / 40%);
            display: flex;
            flex-direction: column;
            align-items: center;
            border-radius: 10px;
            border: 1px groove white;
        }
        .button-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0px 10px;
            margin: 0px 0px;
            justify-items: center;
        }
        
        .button-row button {
            flex: auto;
            margin: 0px;
            padding: 0px; /* 去掉内边距以适应按钮大小 */
            background-color: transparent; /* 背景色设为透明以显示背景图片 */
            color: transparent; /* 隐藏按钮文本 */
            border: none;
            cursor: pointer;
            background-size: contain; /* 背景图像保持比例缩放 */
            background-position: center; /* 背景图像居中 */
            background-repeat: no-repeat; /* 防止背景图像平铺 */
            width: 65px; /* 根据需要调整宽度 */
            height: 40px; /* 根据需要调整高度 */
        }
        
        /* 为每个按钮设置不同的背景图片 */
        #guideButton {
            background-image: url('https://pic.imgdb.cn/item/66616fec5e6d1bfa05b013ec.png');
        }
        
        #drawerButton {
            background-image: url('https://pic.imgdb.cn/item/66616feb5e6d1bfa05b01312.png');
        }
        
        #attributeButton {
            background-image: url('https://pic.imgdb.cn/item/66616feb5e6d1bfa05b01297.png');
        }
        
        #shopButton {
            background-image: url('https://pic.imgdb.cn/item/66616fea5e6d1bfa05b0121c.png');
        }
        
        #treasureButton {
            background-image: url('https://pic.imgdb.cn/item/66616fea5e6d1bfa05b0117c.png');
        }
        
        #jinnangButton {
            background-image: url('https://pic.imgdb.cn/item/66616fe95e6d1bfa05b0103d.png');
        }
        
        #fightingButton {
            background-image: url('https://pic1.imgdb.cn/item/67b2e2cfd0e0a243d400275c.png');
        }
        
        #lotteryButton {
            background-image: url('https://pic.imgdb.cn/item/666466225e6d1bfa05b95973.png');
        }

        #missionButton {
            background-image: url('https://pic.imgdb.cn/item/667eeb54d9c307b7e94edd35.png');
        }
        
        #summonButton {
            background-image: url('https://pic.imgdb.cn/item/667eec26d9c307b7e95150b5.png');
        }
        
        #divineButton {
            background-image: url('https://pic.imgdb.cn/item/66bdfe39d9c307b7e998dba2.png');
        }
        
        #workButton {
            background-image: url('https://pic1.imgdb.cn/item/67b2e5c4d0e0a243d4002882.png');
        }
        .core-area .skills {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            padding: 0px 0px;
            gap: 5px 5px;
            width: 100%;
        }
        .advancement-container {
            display: flex;
            gap: 20px;
            flex-direction: row;
            justify-content: space-evenly;
            background-image: url(https://gd-hbimg.huaban.com/fd730cf6da92e721e4b42157c4d33fb543d9a986fc917-bTarH2_fw1200);
            background-size: cover;
            border-radius: 10px 10px 10px 10px;
            align-items: center;
            font-size: 12px;
            color: aliceblue;
        }
        .advancement-series {
            padding: 5px;
            margin: 5px;
            border-radius: 5px;
            font-size: 12px;
            background: transparent;
            color: #f1f9ff;
            border: 1px solid #155173;
            box-shadow: 0px 0px 2px 0px rgb(191 198 204);
            cursor: pointer;
        }
        .aquire-skill-advancement-panel {
          width: 90%;
          box-shadow: 0 0px 6px 2px rgb(0 0 0 / 40%);
          padding: 1px 2px 2px 2px;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          display: block;
          background: #6f391c;
          border-radius: 2px;
          color: #92341c;
          z-index: 9999;
        }
        .skill-detail-panel {
          font-size: 14px;
          width: 100%;
          display: flex;
          flex-direction: column;
          gap: 10px;
          height: 80px;
          justify-content: center;
        }
        .skill-detail {
        width: 100%;
        display: flex;
        gap: 20px;
        flex-direction: row;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-around;
        }
        .panel-top, .panel-middle, .panel-bottom {
          margin-bottom: 10px;
          max-height: 200px;
          overflow-y: scroll;
          display: flex;
          font-size: 14px;
          gap: 10px;
          flex-direction: column;
          justify-content: flex-start;
          border: 1px solid #6f391c;
          padding: 10px;
          border-radius: 2px;
          width: 95%;
          align-items: center;
        }

        .panel-middle button,
        .panel-bottom button,
        .skill-detail-panel button {
          border: 1px solid #6F391C;
          background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
          box-shadow: inset 0px 0px 2px 1px #87431F;
          font-size: 12px;
          border-radius: 5px;
          color: #F9DE9B;
          padding: 4px 6px;
          cursor: pointer;
          transition: transform 0.1s, box-shadow 0.1s;
          width: 60px;
        }
        
        .applied-skill {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 20px;
          width: 100%;
          flex-direction: row;
        }
        .core-area .skills div {
            padding: 5px;
            margin: 5px 0px;
            text-align: center;
            border-radius: 5px;
            font-size: 12px;
            box-shadow: 0px 0px 1px 1px rgb(200 255 255);
            box-sizing: border-box;
            cursor: pointer;
            background-color: hsl(202deg 64% 33% / 70%);
            color: #b6ffff;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .core-area .skills .s-skill {
            border: 1px solid #e8f3ee;
            background-color: hsl(202deg 50% 40% / 70%);
            box-shadow: inset 0px 0px 10px 0px hsl(202 53% 84% / 1);
        }
        .core-area .skills .ss-skill {
            border: 2px solid #e8f2ed;
            box-shadow: 0px 0px 4px 1px #e2e8e3;
            background-color: hsl(190deg 60% 55% / 50%);
            font-weight: bold;
        }
        .core-area .skills .sss-skill {
            border: 2px double #e8f3ee;
            box-shadow: 0px 0px 5px 2px rgb(0 0 0 / 50%);
            background-color: hwb(211deg 0% 56% / 60%);
            font-weight: bold;
            color: #f1f8ff;
            text-shadow: 0 0 5px gold;
        }

        .bottom-bar .info {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            margin: 5px;
            font-size: 14px;
            gap: 5px;
            width: 200px;
            align-items: center;
        }
        .bottom-bar .info div {
        height: 20px;
        }
        .description-box {
            margin: 5px;
            padding: 10px;
            width: 89%;
            background-color: hsl(0deg 0% 100% / 39%);
            border-radius: 10px;
            text-align: left;
            border: 1px groove aliceblue;
            font-size: 14px;
            color: #6f391c;
        }
        .treasure-selected {
            box-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700;
            transform: scale(1.1);
            transition: all 0.3s ease;
            border: 2px solid #ffd700 !important; /* 覆盖内联样式的border */
        }
        
        .treasure-img {
            cursor: pointer;
        }
        .treasure-description-box {
            gap: 4px;
            display: flex;
            flex-direction: column;
            padding: 10px 20px 0px 20px;
            margin: 0px 5px;
            min-height: 80px;
            align-items: stretch;
            border: 1px solid #834a0f;
            box-shadow: 0px 0px 0px 1px #7e5a2f;
            color: black;
            font-size: 16px;
        }
        .jinnang-description-box {
            gap: 4px;
            display: flex;
            flex-direction: column;
            padding: 10px 20px 10px 20px;
            margin: 0px 5px;
            min-height: 80px;
            align-items: stretch;
            border: 1px solid #834a0f;
            box-shadow: 0px 0px 0px 1px #7e5a2f;
            color: black;
            font-size: 14px;
        }
        .pet-selector {
            width: 80px;
            padding: 4px;
            border-radius: 10px;
            text-align: center;
        }
        .pet-selector select {
            padding: 2px;
            font-size: 14px;
            border-radius: 5px;
            background-color: hsl(0deg 0% 100% / 40%);
            border: 1px solid #ccc;
            width: 100%;
            color: #6f391c;
            text-align: center;
        }
        .battle-pet-selector {
            padding: 5px;
            background-color: rgba(0,0,0,0.6);
            margin-bottom: 5px;
            border-radius: 10px;
            text-align: center;
            color: white;
            display: none;
        }
        .battle-pet-selector select {
            font-size: 16px;
            color: #ffffff;
            border-radius: 5px;
            background-color: #ffffff75;
            border: 1px solid #ccc;
            width: 100%;
        }
        .pet-image {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .pet-image img {
            width: 180px;
            height: 180px;
            border-radius: 10px;
            box-shadow: 0px 0px 2px 0px #003670;
            cursor: pointer;
        }
        .info-card {
            display: none;
            width: 90%;
            margin: 10px 0;
            padding: 10px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        .info-card.active {
            display: block;
        }
        .info-card {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .info-card div {
            height: 20px;
            background-color: #e4bb5c;
            text-align: right;
            padding-right: 5px;
            color: white;
            border-radius: 5px;
        }

        .quality-bar-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 5px;
            position: relative;
            padding: 0px 5px;
        }
        #quality-pill-num-1, #quality-pill-num-2, #quality-pill-num-3, #quality-pill-num-4, #quality-pill-num-5 {
            position: absolute;
            top: 10px;
            left: 95%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            font-weight: bold;
            pointer-events: none; /* 确保数字不会干扰鼠标事件 */
        }
        
        
        .progress-bar {
        }
        .progress-bar div {
            height: 20px;
            background-color: #e4bb5c;
            text-align: right;
            padding-right: 5px;
            color: white;
        }
        .quality-drawer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #ffffff;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            border-radius: 10px 10px 0 0;
            transform: translateY(100%);
            transition: transform 0.3s;
            z-index: 9999;
        }
        .quality-drawer.open {
            transform: translateY(0);
        }
        .drawer-toggle {
            padding: 5px;
            text-align: center;
            background-image: url(https://pic.imgdb.cn/item/66bf32d9d9c307b7e9995d58.png);
            background-repeat: repeat;
            background-size: contain;
            color: #E3A73B;
            cursor: pointer;
            box-shadow: inset 0px 1px 2px 0px #E3A73B;
            border: 1px solid black;
        }
        .quality-info {
            display: none;
        }
        .quality-info.open {
            display: block;
            \: repeat;
            background: #B07638;
            padding: 4px;
            box-shadow: inset 0px 0px 3px 1px #92341C;
            border: 1px solid black;
        }
        .quality-info .progress-bar {
            width: 100%;
            background-color: #30482C;
            overflow: hidden;
            font-size: 14px;
            height: 100%;
            color: #EFEFF0;
            box-shadow: inset 0px 0px 2px 2px #111919;
        }
        .quality-info .progress-bar div {
            height: 10px;
            background: linear-gradient(to bottom, #34773D, #34773D, #69E055, #69E055, #34773D, #34773D);
            text-align: right;
            color: white;
        }
        /* 商店抽屉的样式优化 */
        .shop-drawer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            border-radius: 10px 10px 0 0;
            transition: transform 0.3s;
            transform: translateY(100%);
            z-index: 9999;
        }
        .shop-drawer.open {
            transform: translateY(0);
        }
        .shop-info {
            display: none;
            padding: 4px;
        }
        .shop-info.open {
            display: block;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
        }
        .shop-items {
            display: grid;
            margin: 0px;
            font-size: 12px;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            overflow-x: hidden;
        }
        .shop-item {
            text-align: center;
            cursor: pointer;
            border: 1px solid rgb(136 80 18);
            di's'padding: disp;
            di'speak: dis';
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            padding: 4px;
            align-items: center;
        }
        .shop-item.selected {
            border-color: rgb(255 255 255 / 90%);
            box-shadow: inset 0px 0px 0px 2px red;
        }
        .shop-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-direction: row;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .shop-bar button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 4px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .scalping-display {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background: rgb(0 0 0 / 80%);
            padding: 2px;
            border-radius: 2px;
            color: #87431f;
            font-size: 16px;
            height: 100%;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            z-index: 9;
            align-content: center;
        }
        .scalping-head-button {
            background: transparent;
            color: #fff;
            box-shadow: 0px 0px 2px 1px #6f391c;
        }
        .scalping-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
            padding: 5px;
            justify-content: space-between;
            min-height: 480px;
        }
        .highlight-investment {
          position: relative;
          /* 保持按钮原有样式 */
          /* 添加动画效果 */
          animation: pulse 2s infinite;
        }
        
        /* 创建光环效果 */
        .highlight-investment::after {
          content: '';
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border-radius: inherit; /* 继承按钮的圆角 */
          background: #ffd70038;
          z-index: -1;
          animation: glow 2s infinite;
        }
        
        /* 脉冲动画 */
        @keyframes pulse {
          0% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
          }
        }
        
        /* 光环动画 */
        @keyframes glow {
          0% {
            opacity: 0.5;
            box-shadow: 0 0 5px #ffd700,
                        0 0 10px #ffd700,
                        0 0 15px #ffd700;
          }
          50% {
            opacity: 1;
            box-shadow: 0 0 10px red,
                        0 0 20px red,
                        0 0 30px red;
          }
          100% {
            opacity: 0.5;
            box-shadow: 0 0 5px #ffd700,
                        0 0 10px #ffd700,
                        0 0 15px #ffd700;
          }
        }
        .select-gadgets {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: #6f391c;
            border-radius: 2px;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid #6f391c;
            z-index: 9999;
            width: 370px;
        }
        
        .scalping-top-bar {
            font-weight: bold;
            width: 370px;
            overflow: hidden;
            display: flex;
            margin-bottom: 0px;
            flex-direction: row;
            justify-content: space-around;
            align-items: center;
            color: white;
            background: rgb(57, 87, 89);
            box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
            height: 45px;
        }
        .scalping-asset-area {
            width: 362px;
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            border: 4px double #87431f;
            align-items: center;
            flex-wrap: nowrap;
            height: auto;
        }
        .scalping-middle-wrap {
            width: 370px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: flex-start;
            gap: 10px;
        }
        .scalping-detail-list {
            width: 45%;
            display: flex;
            border-radius: 2px;
            flex-direction: column;
            align-items: center;
            border: 4px double #87431f;
            padding: 2px;
            min-height: 100px;
        }
        
        .scalping-warehouse {
            width: 45%;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 4px double #87431f;
            min-height: 100px;
            padding: 2px;
        }
        
        .scalping-bottom-area {
            display: flex;
            justify-content: space-between;
            width: 95%;
            padding: 5px;
            height: 40px;
            align-items: center;
        }

        .stock-panel {
            display: flex;
        }
        
        .quality-info button:active {
            background-color: #074b02;
        }
        .quality-info button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 12px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 2px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            margin: 2px;
        }
        .shop-bar button:active {
            background-color: #064701;
        }
        .shop-timer {
            display: flex;
            align-items: center;
            font-size: 12px;
        }
        .shop-timer button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 4px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .shop-timer button:active {
            background-color: #064701;
        }
        .attribute-info button {
            margin: 0px 2px;
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 12px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 0px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .attribute-info button:active {
            background-color: #064701;
        }
        
        /* 属性面板样式 */
        .attribute-drawer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            border-radius: 10px 10px 0 0;
            transition: transform 0.3s;
            transform: translateY(100%);
            z-index: 1000;
        }
        .attribute-drawer.open {
            transform: translateY(0);
        }
        .attribute-info {
            display: none;
            padding: 4px;
        }
        .attribute-info.open {
            display: block;
            background: #B07638;
            padding: 4px;
            box-shadow: inset 0px 0px 3px 1px #92341C;
            border: 1px solid black;
        }
        .attribute-info .progress-bar {
            width: 100%;
            overflow: hidden;
            display: flex;
            margin-bottom: 0px;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            color: white;
            background: rgb(57, 87, 89);
            box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
            padding: 2px 4px;
        }
        .attribute-info .progress-bar div {
            height: 20px;
            background-color: #e4bb5c;
            text-align: right;
            padding-right: 5px;
            color: white;
            border-radius: 5px;
        }
        .attributes-container {
            display: flex;
             /* 使两个子容器分布在容器的两边 */
             /* 调整两列之间的间距 */
            font-size: 14px;
            flex-direction: row;
            justify-content: space-between;
            background-size: cover;
            margin-top: 5px;
        }
        .progress-bars {
            display: flex;
            gap: 5px; /* 调整每个条目之间的间距 */
            flex-direction: column;
            justify-content: space-between;
            width: 50%;
            padding: 10px;
            align-items: center;
        }
        .secondary-attributes {
            
             /* 调整每个条目之间的间距 */
            flex-wrap: nowrap;
            display: flex;
            gap: 5px;
            flex-direction: column;
            justify-content: space-between;
            width: 50%;
            padding: 10px;
            align-items: center;
        }

        .skills-in-drawer {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            padding: 10px;
            background-color: #3a575a;
            box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
            color: white;
            border: 1px black;
            justify-items: center;
            gap: 10px;
            text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black;
            height: 100px;
            margin: 5px;
        }

        .skills-in-drawer div{
            height: 38px;
            width: 38px;
            border: 1px double #ccc;
            box-shadow: rgb(30, 46, 47) 0px 0px 5px 1px inset;
            overflow: hidden;
            font-size: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2px;
            flex-direction: row;
            background-color: #666666;  /* 默认灰色背景 */
            cursor: pointer;
            background-image: url(https://pic1.imgdb.cn/item/677f9b49d0e0a243d4f29b0c.png);
            background-position: center;
        }

        .elixir-system-panel {
        display: flex;
        padding: 2px;
        background-color: #3a575b;
        box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
        color: white;
        border: 1px black;
        justify-items: center;
        gap: 10px;
        text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black;
        height: auto;
        margin: 5px;
        justify-content: space-between;
        }

        .elixir-system-button {display: grid;grid-template-columns: repeat(2, 3fr);justify-content: space-between;font-size: 12px;align-items: center;align-content: space-around;width: auto;grid-column-gap: 10px;}

        .elixir-container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
        
        .elixir-squares {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
}
        
        .image-frame {
            display: flex;
            /* 设置图片框的尺寸，可以根据需要调整 */
            width: 140px;
            padding: 60px 0px;
            height: 140px;
             /* 添加边框 */
            margin: 0px; /* 在容器内垂直居中 */
            top: 50%;
            left: 50%;
            align-items: center;
            flex-wrap: nowrap;
            flex-direction: column;
        }
        .attributes-container .increase-btn {
            background-color: #0a8c00; /* 绿色 */
            border: none;
            color: #fff;
            padding: 1px 5px;
            text-align: justify;
            text-decoration: none;
            display: flow;
            font-size: 12px;
            gap: 0px;
            margin: 0px 0px 0px 0px;
            cursor: pointer;
            border-radius: 5px;
        }    
        
        .attributes-container .increase-btn:hover {
            background-color: #45a049; /* 深绿色 */
        }

        .quality-container {
            display: flex;
             /* 使两个子容器分布在容器的两边 */
            gap: 2px; /* 调整两列之间的间距 */
            padding: 2px;
            width: auto;
            flex-direction: row;
            justify-content: space-between;
            border: 2px solid #92341c;
            margin: 4px;
            font-weight: bold;
        }
        
        .quality-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            padding: 5px;
             /* 调整每个条目之间的间距 */
            font-size: 14px;
            width: 95%;
            align-items: center;
            justify-items: start;
        }
        .image-frame img {
            max-width: 100%;
            max-height: 100%;
        }
        .button-grid {
            display: grid;
            gap: 10px 0px; /* 调整按钮之间的间距 */
            align-items: stretch;
            margin-bottom': 1';
            margin: 10px 0px 10px 0px;
            justify-items: stretch;
            grid-template-columns: repeat(5, 1fr);
        }
        .button-grid button {
            /* 你可以在这里添加更多的样式来定制按钮的外观 */
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 12px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 6px 2px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .treasure-drawer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            border-radius: 10px 10px 0 0;
            transform: translateY(100%);
            transition: transform 0.3s;
            z-index: 9999;
        }
        .treasure-drawer.open {
            transform: translateY(0);
            display: block;
            background: #B07638;
            box-shadow: inset 0px 0px 3px 1px #92341C;
            border: 1px solid black;
        }
        .treasure-info {
            display: none;
            padding: 5px;
        }
        .treasure-info.open {
            display: block;
            padding: 2px;
            border-radius: 2px;
            background-color: #DFBF6E;
            color: #92341c;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
        }
        .treasure-bar {
            display: flex;
            justify-content: space-around;
            margin: 5px;
            border: 1px solid black;
            padding: 4px;
            box-shadow: 0px 0px 0px 1px #7e5a2f;
        }
        .reward-box {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            background-color: #f1f0f0;
            background-image: url(https://pic.imgdb.cn/item/66a3499ed9c307b7e9501161.png);
            background-size: cover;
            background-position: center;
            text-align: center;
            justify-content: center;
            margin: 15px 5px;
            padding: 40px 30px 30px 30px;
            min-height: 220px;
            border: 1px solid black;
            box-shadow: 0px 0px 0px 1px #7e5a2f;
        }
        .reward-box img {
            width: 45px;
            height: 45px;
        }
        .treasure-action {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            margin-bottom: 15px;
        }
        .treasure-action button, .scalping-container button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 4px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .treasure-action button:active {
            background-color: #064701;
        }
        .wuxing-action {
            width: 100%;
            align-items: stretch;
            margin: 10px 0px 10px 0px;
            justify-items: stretch;
        }
        .wuxing-action button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 4px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            flex: 0.2;
        }
        .wuxing-action button:active {
            background-color: #064701;
        }
        .transform-pet-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: center;
            z-index: 1000;
            flex-direction: column;
            align-items: center;
        }
        
        .transform-pet-modal {
            width: 95%;
            position: relative;
            border-radius: 2px;
            background-color: #DFBF6E;
            color: #92341c;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
            padding: 0px 1px 0px 1px;
            box-shadow: inset 0px 0px 2px 1px #92341c;
            height: 540px;
        }
        
        .transform-pet-title {
            text-align: center;
            padding: 5px;
            background-image: url(https://pic.imgdb.cn/item/66bf32d9d9c307b7e9995d58.png);
            background-repeat: repeat;
            background-size: contain;
            color: #E3A73B;
            cursor: pointer;
            box-shadow: inset 0px -1px 2px 0px #E3A73B, 0px -1px 5px 1px #8D5325;
            border: 1px solid black;
            margin: 0;
            font-size: 16px;
        }
        
        .transform-pet-close-button {
            position: absolute;
            top: 5px;
            right: 0px;
            cursor: pointer;
            font-size: 18px;
            color: white;
            background: linear-gradient(to bottom, #DBBA89,#84522C,#7C3411,#AC4B1D,#C85E24);
            width: 22px;
            height: 22px;
            text-align: center;
            border-radius: 2px;
            border: 1px solid #977025;
            box-shadow: 0px 0px 0px 1px #321C0C,inset 0px 0px 0px 1px #321C0C;
        }
        
        .transform-pet-specializations {
            display: flex;
            flex-direction: column;
            box-shadow: inset 0px 0px 0px 2px #6f391c;
            width: 100%;
            height: 500px;
            overflow-y: scroll;
        }
        
        .transform-pet-spec {
            display: flex;
            flex-flow: row;
            color: #92341c;
            border-bottom: 2px solid #6f391c;
            flex-direction: row;
            width: 100%;
            align-content: space-around;
            flex-wrap: wrap;
        }
        
        .transform-pet-spec-icon {
            width: 50px;
            height: 50px;
            margin-right: 5px;
            margin-left: 5px;
            border: 1px solid rgba(0, 0, 0, 0.8);
        }
        
        .transform-pet-spec-info {
            text-align: left;
            flex-grow: 1;
            font-size: 14px;
            padding: 10px;
            width: 100%;
            display: flex;
            gap: 0px 20px;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: flex-start;
            align-items: center;
        }
        
        .transform-pet-spec-description {
            font-size: 14px;
        }
        
        .transform-pet-buttons {
            display: flex;
            gap: 10px 0px;
            justify-content: space-between;
            flex-direction: row;
            width: 100%;
        }
        
        .transform-pet-button {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 4px 6px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            flex: 0.2;
        }

        
        /* 锦囊抽屉样式 */
        .jinnang-drawer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #e0b352;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            transform: translateY(100%);
            transition: transform 0.3s;
            align-content: center;
            z-index: 9999;
        }
        .jinnang-drawer.open {
            transform: translateY(0);
            background: #6f391c;
            border-radius: 2px;
            color: #92341c;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
            z-index: 9999;
        }
        .jinnang-info {
            padding: 5px;
            justify-items: center;
        }
        .jinnang-info.open {
            display: block;
        }
        .jinnang-reward {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px 2px;
            justify-content: center;
            margin-top: 5px;
            font-size: 12px;
            justify-items: stretch;
            align-items: center;
        }
        .jinnang-reward img {
            width: 40px;
            height: 40px;
        }
        .red-text {
            color: #0bd200;
        }
        .gold-text {
            color: hsl(4 96% 70% / 1);
        }
        .blue-text {
            color: #51b5fd;
        }
        .message-box {
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fff;
            padding: 10px;
            border: 1px solid #ccc;
            z-index: 1000;
            text-align: center; /* 中心对齐 */
            border-radius: 5px; /* 圆角 */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 添加阴影 */
        }
        
        .message-box button {
            margin-top: 10px; /* 按钮与文本之间的间距 */
            padding: 5px 10px; /* 按钮内边距 */
            background-color: #0a8c00; /* 按钮背景颜色 */
            color: white; /* 按钮文本颜色 */
            border: none; /* 去除边框 */
            border-radius: 3px; /* 按钮圆角 */
            cursor: pointer; /* 鼠标指针样式 */
        }
        
        .message-box button:hover {
            background-color: #0056b3; /* 按钮悬停颜色 */
        }
        
        /* lottery.css */
        .lottery-drawer {
            position: fixed;
            margin: 0px 0px 0px 0px;
            bottom: 0px;
            width: 100%;
            background-color: rgb(255 255 255 / 90%);
            
             /* 图片平铺 */
             /* 保持原图大小 */
             /* 背景固定 */
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
            transform: translateY(100%);
            transition: transform 0.3s;
            max-height: 90%;
            overflow-y: auto;
            background-size: contain;
            background-repeat: no-repeat;
            display: flex;
            background-position: center;
            flex-direction: column;
            z-index: 9999;
        }
        
        .lottery-drawer.open {
            transform: translateY(0);
        }

        .lottery-section {
            padding: 5px 0px 10px 0px;
            display: flex;
            flex-direction: row;
            align-items: center;
            flex-wrap: wrap;
            align-content: space-around;
            justify-content: space-evenly;
        }
        
        .lottery-top {
        display: flex;
        gap: 5px;
        justify-content: space-between;
        flex-wrap: nowrap;
        }
        .lottery-middle {
            margin-bottom: 0px;
            width: auto;
            align-items: center;
            padding: 5px;
            gap: 20px;
        }
        .lottery-bottom {
            margin-bottom: 0px;
            width: 90%;
            padding: 5px;
        }
        .lottery-footer {
            margin-bottom: 10px;
            margin-top: 10px;
            width: 100%;
            display: flex;
        }
        .lottery-box {
        overflow: hidden;
        display: flex;
        margin-bottom: 0px;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        color: white;
        background: rgb(57, 87, 89);
        box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
        padding: 2px 4px;
        font-size: 14px;
        min-width: 20%;
        }
        .lottery-number-box {
            font-weight: bold;
            width: 100%;
        }
        .lottery-number-box {
            /* border-radius: 5px; */
            margin: 5px 0;
            text-align: center;
            background-color: hwb(0deg 98% 2% / 50%);
        }
        
        .lottery-number-box {
            display: flex;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 0px;
            padding: 0px;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            border: 1px solid rgb(0 0 0);
        }
        
        #lotteryNumberButtons button {
            margin: 5px;
            gap: 2px;
            padding: 5px;
            background-color: #ff1100;
            border-radius: 50%;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        
        #lotteryNumberButtons button:hover {
            background-color: #6a0700;
        }
        
        .lottery-controls {
            display: flex;
            justify-content: space-evenly;
            gap: 0px 10px;
            padding: 5px;
            flex-direction: row;
            align-items: center;
            width: 100%;
        }
        
        .lottery-footer button {
            width: 21%;
            display: flex;
            margin-top: 5px;
            background-color: #0a8c00;
            padding: 5px;
            color: rgb(255 255 255 / 90%);
            font-size: 16px;
            justify-content: center;
            border-radius: 10px;
        }
        
        .lottery-footer button:hover {
            background-color: #086600;
        }
        /* lottery.css */
        .lottery-controls button {
            padding: 2px 10px;
            margin: 2px;
            border: none;
            border-radius: 10px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .lottery-controls #lotteryBetButton {
            background-color: #0056b3;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            padding: 5px;
            box-shadow: 0px 0px 6px 1px #003670;
            font-size: 18px;
        }
        
        .lottery-controls #lotteryBetButton:hover {
            background-color: #003670;
            transform: scale(1.05);
        }
        
        .lottery-controls #lotteryIncreaseBet {
            background-color: #e3a73b;
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            padding: 5px;
            box-shadow: 0px 0px 6px 1px #003670;
        }
        
        .lottery-controls button:hover {
            background-color: #064701;
            transform: scale(1.05);
        }
        
        .lottery-controls #lotteryIncreaseThousandBet {
            background-color: orangered;
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            padding: 5px;
            box-shadow: 0px 0px 6px 1px rgba(0, 0, 0, 0.5);
        }
        
        .lottery-controls #lotteryIncreaseTenBet:hover {
            background-color: #064701;
            transform: scale(1.05);
        }
        .lottery-controls #lotteryRuleButton {
            background-color: #0056b3;
            color: white;
        }
        
        .lottery-controls #lotteryRuleButton:hover {
            background-color: #003670;
            transform: scale(1.05);
        }
        .lottery-controls #lotteryDecreaseBet {
            background-color: #dc3545;
            color: white;
        }
        
        .lottery-controls #lotteryDecreaseBet:hover {
            background-color: #841520;
            transform: scale(1.05);
        }
        /* lottery.css */
        .highlight {
            animation: highlight 1s ease-in-out;
        }
        
        @keyframes highlight {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.5);
            }
        }
        /* lottery.css */
        .modal {
            position: fixed;
            display: none;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .modal-content {
            background-color: rgb(255 255 255 / 90%);
            /* margin: 15% auto; */
            padding: 10px;
            border: 1px solid #888;
            width: 90%;
            max-width: 600px;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .battle-system-drawer {
            display: none;
            position: fixed;
            right: 0px;
            top: 0;
            height: 100%;
            width: 100%;
            background: url('https://pic.imgdb.cn/item/66bc6806d9c307b7e987b92d.webp') no-repeat center center;
            background-size: cover;
            color: white;
            box-shadow: inset 0px 0 5px 1px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            overflow-y: auto;
            padding: 0px 0px 0px 0px;
        }
        
        #battle-system-drawer.show {
            display: block; /* 动画触发时显示 */
            animation: sliceIn 1s ease forwards;
        }
        
        @keyframes sliceIn {
            0% {
                clip-path: inset(0 50% 0 50%);
                opacity: 0;
            }
            50% {
                clip-path: inset(0 0 0 0);
                opacity: 1;
            }
            100% {
                clip-path: inset(0 0 0 0);
                opacity: 1;
            }
        }
        
        .battle-system-drawer-toggle {
            font-size: 16px;
            text-align: center;
            padding: 5px;
            background-image: url(https://pic.imgdb.cn/item/66bf32d9d9c307b7e9995d58.png);
            background-repeat: repeat;
            background-size: contain;
            color: #E3A73B;
            cursor: pointer;
            box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.8);
            border: 1px solid black;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .battle-system-content {
            display: flex;
            flex-direction: column;
            width: 100%;
            justify-content: space-between;
            border-radius: 2px;
            background-color: #DFBF6E;
            color: #ffffff;
            background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
            background-repeat: repeat;
            background-size: auto;
            border: 1px solid black;
        }
        
        .battle-system-info-wrapper {
            display: flex;
            width: auto;
            padding: 5px;
            flex-direction: row;
            flex-wrap: nowrap;
            gap: 5px;
            justify-content: space-around;
            margin-bottom: 5px;
        }
        
        .battle-system-pet-info, .battle-system-enemy-info {
            border: 1px solid rgba(0, 0, 0, 0.8);
            padding: 0px;
            margin-bottom: 10px;
            font-size: 12px;
            flex: 1;
            display: flex;
            background: rgba(0, 0, 0, 0.5);
            line-height: 14px;
            min-height50%: 5;
            flex-direction: column;
            align-items: center;
            border-radius: 2px;
        }
        /* 非暴击时，快速渐进渐出 */
        .normal-hit-animation {
            animation: fadeInOut 300ms ease-in-out forwards;
        }
        
        /* 暴击时，震荡效果 */
        .critical-hit-animation {
            animation: shake 300ms ease-in-out forwards;
        }
        
        /* 生命恢复，向上渐出 */
        .heal-animation {
            animation: healMoveUp 300ms ease-in-out forwards;
        }
        
        /* 定义动画：渐进渐出 */
        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(1.2);
            }
        }
        
        /* 定义动画：震荡效果 */
        @keyframes shake {
            0% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-5px);
            }
            50% {
                transform: translateX(5px);
            }
            75% {
                transform: translateX(-5px);
            }
            100% {
                transform: translateX(0);
            }
        }
        
        /* 定义动画：向上渐出 */
        @keyframes healMoveUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            50% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }
        .frozen-effect {
            background-color: linear-gradient(to bottom, #477AD6, #8FF1FD, #477AD6);
            text-align: center;
        }
        .player-damage-display {
            color: #f6ff00;
            position: absolute;
            top: 10%;
            left: 65%;
            font-size: 24px;
            font-weight: bold;
            font-style: italic;
            text-shadow: 0 0 2px black;
        }

        .enemy-damage-display {
            color: #f6ff00;
            position: absolute;
            top: 10%;
            left: 15%;
            font-size: 24px;
            font-weight: bold;
            font-style: italic;
            z-index: 9999;
        }

        .player-extra-damage-display {
            color: #f6ff00;
            position: absolute;
            top: 7%;
            left: 65%;
            font-size: 24px;
            font-weight: bold;
            font-style: italic;
            text-shadow: 0 0 2px black;
            z-index: 9999;
        }

        .enemy-extra-damage-display {
            color: #f6ff00;
            position: absolute;
            top: 7%;
            left: 15%;
            font-size: 24px;
            font-weight: bold;
            font-style: italic;
        }
        
        .battle-system-log {
            padding: 5px;
            margin-bottom: 0px;
            height: 300px;
            overflow-y: clip;
            font-size: 12px;
            background: rgba(0, 0, 0, 0.5);
            width: auto;
            border-top: 1px solid black;
            border-bottom: 1px solid black;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
        }
                /* 直接针对日志内容的样式 */
        #log {
            display: block;
            unicode-bidi: isolate;
            overflow-y: auto;
            height: 80%;
            line-height: 20px;
            background-color: #3a575a;
            box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;
            border: 1px solid rgb(255 255 255 / 90%);
        }

        /* 日志条目的样式 */
        #log p {
            margin: 0;
            padding: 2px 0;
        }
        
        .battle-system-actions {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px 5px;
            width: 100%;
            margin-top: 10px;
            flex-direction: row;
            flex-wrap: nowrap;
        }
        
        .battle-system-actions button {
            padding: 5px;
            cursor: pointer;
            border: 1px solid #ffffff;
            width: 100%;
            background-color: rgb(0 0 0 / 60%);
            color: #ffffff;
            font-size: 14px;
            text-align: center;
            border-radius: 5px;
            transition: background-color 0.3s;
            font-family: 'Noto Serif SC', sans-serif;
        }
        
        .battle-system-actions button:hover {
            background-color: #00367080;
        }
        #drug-system-actions {
            padding: 5px;
            cursor: pointer;
            border: 1px solid #ffffff;
            width: 100%;
            background-color: #0a8c00;
            color: #ffffff;
            font-size: 14px;
            text-align: center;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        #drug-system-actions button {
            padding: 5px;
            cursor: pointer;
            border: 1px solid #ffffff;
            width: 100%;
            background-color: #0a8c00;
            color: #ffffff;
            font-size: 14px;
            text-align: center;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        #drug-system-actions button:hover {
            background-color: #064701;
        }
        #visualEffectsContainer {
            position: relative;
            width: 95%;
            height: 0px;
        }
        @keyframes critical-hit {
            0% {
                border: 5px solid red;
            }
            100% {
                border: 1px solid rgb(255 255 255 / 0%);
            }
        }
        
        .battle-system-log.critical-hit {
            animation: critical-hit 0.3s forwards;
        }
        
        .visual-effect {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: rgb(0 0 0 / 0%);
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        .battleOverlay {
            display: none; /* 默认不显示 */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0);
            z-index: 9999; /* 确保遮罩在最顶层 */
            justify-content: center;
            align-items: center;
        }

        .battleOverlayContainer {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            background-color: transparent;
            flex-direction: column;
        }
        
#visualEffectsContainer {
    position: relative;
    width: 50%;
    pointer-events: none; /* 确保特效不影响页面其他交互 */
    height: 0%;
}

.visual-effect {
    position: absolute;
    width: 100px;
    height: 100px;
    opacity: 0;
    transform: scale(0);
    transition: opacity 0.3s, transform 0.3s;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    z-index: 9999;
}

.general-visual-effect {
    position: absolute;
    width: 200px;
    height: 200px;
    opacity: 0;
    transform: scale(0);
    transition: opacity 0.3s, transform 0.3s;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

#generalEffect {
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 0;
}
        
#playerEffect {
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.9;
}

#enemyEffect {
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.9;
}

.show-effect {
    opacity: 1;
    transform: scale(1);
    display:block;
}

        .status-display {
            font-size: 14px;
            color: #ff0000;
            font-weight: bold;
            height: 5px;
            margin-bottom: 10px;
        }
        #battle-spirit-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            width: 80%;
            border: 2px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 9999;
        }
        
        #battle-spirit-modal .modal-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        #battle-spirit-modal button {
            background: #a70b00;
            border-color: #fff;
            color: white;
            font-size: 14px;
            ga'padding: gap';
            border-radius: 5px;
            margin: 0px 5px 5px 0px;
            padding: 5px;
        }
        .ascension-skill-modal {
            display: none; /* 默认隐藏 */
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
        }

        .saveAndLoadGameState {
            border: 1px solid #6F391C;
            background: linear-gradient(to bottom, #E47F47, #CE6633, #963D1C);
            box-shadow: inset 0px 0px 2px 1px #87431F;
            font-size: 14px;
            border-radius: 5px;
            color: #F9DE9B;
            padding: 2px 8px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }
    
        .saveAndLoadGameState:hover {
            background-color: #ffd700; /* Slightly darker gold */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
    
        .saveAndLoadGameState:active {
            transform: scale(0.95);
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        
        .ascension-modal-content {
            background-color: rgb(0 0 0 / 40%);
            padding: 20px;
            border: 1px solid #888;
            width: 85%;
            top: 50%;
            left: 50%;
            position: absolute;
            transform: translate(-50%, -50%);
        }
        
        .ascension-close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        
        .ascension-close:hover,
        .ascension-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        
        .ascension-header {
            display: flex;
            align-items: center;
        }
        
        .ascension-icon {
            width: 75px;
            height: 75px;
        }
        
        .ascension-info {
            margin-left: 20px;
        }
        
        .ascension-body {
            margin-top: 20px;
        }
        
        .ascension-footer {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
        }
        
        .ascension-button {
            padding: 5px;
            font-size: 16px;
            color: white;
            cursor: pointer;
            border-radius: 10px;
            background-color: #003670;
            border-color: #ccc;
        }
        
        .ascension-skill-button {
            margin: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
        }


        
.drug-modal .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0, 0, 0);
    background-color: rgba(0, 0, 0, 0.4);
    padding-top: 60px;
}

.drug-modal .modal-content {
    background-color: rgb(0 0 0 / 60%);
    font-size: 14px;
    align-items: center;
    padding: 20px;
    border: 1px solid #888;
    display: flex;
    width: 80%;
    height: 500px;
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: space-evenly;
    gap: 10px;
    top: 50%;
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%);
}

.drug-modal .use-button,
.drug-modal .close-button {
    background-color: #088c01; /* 绿色背景 */
     /* 无边框 */
    color: #fff; /* 白色文字 */
    padding: 2px 10px; /* 内边距 */
    text-align: center; /* 文字居中 */
    margin-top: 10px;
    margin-bottom: 10px;
    text-decoration: none; /* 无下划线 */
    display: flex; /* 行内块元素 */
    font-size: 16px; /* 字体大小 */
     /* 外边距 */
    cursor: pointer; /* 鼠标指针 */
    border-radius: 10px; /* 圆角边框 */
    border-color: white;
}

.drug-modal .use-button:hover,
.drug-modal .close-button:hover {
    background-color: #064701; /* 深绿色背景 */
}

.drug-modal .drug-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
}

.drug-modal .drug-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
}

.drug-modal .drug-description {
    margin: 0px 0px;
    font-size: 14px;
    width: 100%;
}
.drawer-container {
    padding: 2px;
    border-radius: 2px;
    background-color: #DFBF6E;
    color: #92341c;
    background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);
    background-repeat: repeat;
    background-size: auto;
    border: 1px solid black;
}

.drawer-sub-container {
    display: flex;
    flex-direction: column;
    max-height: 500px;
    overflow-y: scroll; /* 允许 Y 轴滚动 */
    overflow-x: hidden; /* 禁止 X 轴滚动 */
    flex-wrap: nowrap;
    justify-content: space-between;
    touch-action: pan-y; /* 限制触摸操作仅沿 Y 轴滚动 */
}

/* 通用弹出面板样式 */
.mission-popup-panel, .summon-popup-panel, .pet-shop-popup-panel {
    height: 500px;
    z-index: 1000;
    /* display: none; */

/* 召唤面板特定样式 */
.summon-popup-panel {
    width: 80%;
    height: 45%;
    font-size: 14px;
    background-color: rgba(0, 0, 0, 0.8);
    color: #ffffff;
    border-radius: 10px;
}

.summon-close-button {
    float: right;
    margin: -40px -10px 10px 10px;
}

.summon-area {
    height: 240px;
    display: flex;
    align-items: center;
    justify-content: space-around;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.8);
    margin-bottom: 20px;
    margin-top: 20px;
    flex-direction: column;
}

.summon-area
    img {
    max-width: 300px;
    max-height: 240px;
}

.stamp-quantity {
    text-align: center;
    font-size: 14px;
    font-weight: bold;
}

.summon-button-area {
    display: flex;
    justify-content: space-between;
    margin: 40px 0px 0px 0px;
}

.summon-button {
    flex: auto;
    margin: 0px 5px;
    background-color: #0a8c00;
    color: white;
    border-radius: 10px;
    border-color: white;
    font-size: 14px;
}

/* 宠物商店特定样式 */
.pet-shop-popup-panel {
    width: 80%;
    height: 90%;
    border-radius: 10px;
    background-color: rgba(0, 0, 0, 0.8);
    color: #ffffff;
}

.pet-shop-close-button {
    float: right;
    margin: -40px -10px 10px 10px;
}

.shop-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2px 2px;
    justify-content: center;
    margin-top: 5px;
    font-size: 12px;
    justify-items: stretch;
    align-items: center;
}

.shop-item {
    text-align: center;
    :;
    padding: 5px;
}

.shop-item
    img {
    width: 40px;
    height: 40px;
}

.pet-shop-button {
    width: 100%;
    margin: 0px 0px 10px 0px;
    background-color: #0a8c00;
    color: white;
    border-radius: 10px;
    font-size: 14px;
    border-color: white;
}
        .container {
    text-align: center;
    padding: 10px;
    border-radius: 10px;
    font-size: 12px;
    margin: 30px 0px 0px 0px;
    }
        .container
    p {
            margin: 10px 0;
    font-size: 1.2em;
    font-weight: bold;
        }
        .container
    p::before, .container p::after {
            content: "*";
    margin: 0 5px;
        }
            /* 添加必要的样式，并加上唯一标识 petArms 前缀 */
        .petArms-window {
    position: fixed;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px;
    border-radius: 10px;
    z-index: 1000;
    width: 80%;
    height: 80%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    overflow-y: auto;
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 10px;
        }

        .petArms-red-text {
    color: red;
        }

        .petArms-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: rgba(255, 255, 255, 0.1);
    padding: 10px;
    border-radius: 5px;
        }

        .petArms-item
    img {
            width: 45px;
    height: 45px;
        }

        .petArms-close-button {
    position: absolute;
    top: 10px;
    right: 10px;
        }
        .locked {
    background-color: gray;
    color: white;
        }
    .info-header {
    display: flex;
    align-items: center;
    width: 100%;
    border: 1px solid #ccc;
    padding: 5px;
    margin-bottom: 10px;
}
    
.drug-grid-container {
    height: 240px;
    overflow-y: scroll;
    margin-top: 20px;
}
    
.avatar {
    width: 25px;
    height: 25px;
    margin-right: 10px;
}

.info-text {
    flex-grow: 1;
}

@keyframes shine {
    0% { background-position: -100% 0; }
    100% { background-position: 100% 0; }
}
   </style>
</head>
<body>
    <div id="loadingOverlay" style="display:flex;">
        <div id="loadingText">加载中... 0%</div>
        <div id="progressBarContainer">
            <div id="progressBar"></div>
        </div>
    </div>
    <div id="baiyinOverlay"></div>
    <div id="unlockOverlay">
        <div style="font-size:16px; margin:10px; ">请输入解锁密令(联系QQ：1060028177)</div>
        <input type="password" id="unlockCode" />
        <div style="display:flex;">
            <button id="unlockButton"style="margin: 20px;font-size: 16px;border-radius: 5px;background: green;color: white;">解锁</button>
            <button onclick="guestPlay()"style="margin: 20px;font-size: 16px;border-radius: 5px;background: green;color: white;">试玩</button>
        </div>
        <div id="errorMessage" style="color: red; display: none;">密令错误，请重试。</div>
    </div>
    <div id="petOverview">
        <!-- 关闭按钮 -->
        <button class="close-button" onclick="togglePetOverview()">关闭</button>
        <!-- Pet containers will be dynamically generated here -->
    </div>
    <!-- 五行符管理界面 -->
    <div id="wuxing-display" style="display: flex;flex-direction: column;justify-content: space-between;">
        <div id="wuxing-header">
            <h3 style="margin:0;" onclick="infoWuxingFu()">玩法</h3>
            <p style="margin:0;" id="wuxing-fragments">五行碎片: 0</p>
            <button style="background: transparent;color: white;" id="wuxing-close-button">X</button>
        </div>
        <div class="drawer-container"id="wuxingguanli-container">
            <div id="equipped-container"></div>
            <div id="applied-effects" style="width: 100%;text-align: center;font-size: 12px;font-weight: bold;">当前无五行符效果生效</div>
            <div id="wuxing-container"></div>
            <div id="amulet-details"></div>
        </div>
    </div>
    <div class="core-area-for-skills">
        <div class="buttons" style="width: 100%;">
            <div class="button-row">
                <button id="guideButton" onclick="showGuide()">玩法</button>
                <button id="missionButton" onclick="showMissionPanel()">任务</button>
                <button id="summonButton" onclick="showSummonPanel()">召唤</button>
                <button id="drawerButton" onclick="toggleDrawer()">资质</button>
                <button id="attributeButton" onclick="toggleAttributeDrawer()">属性</button>
                <button id="shopButton" onclick="toggleShop()">商店</button> 
                <button id="treasureButton" onclick="toggleTreasureDrawer()">宝箱</button>
                <button id="jinnangButton" onclick="toggleJinnangDrawer()">锦囊</button>
                <button id="fightingButton" onclick="toggleFightingDrawer()">战斗</button>
                <button id="lotteryButton" onclick="toggleLotteryDrawer()">彩票</button>
                <button id="divineButton" onclick="divinePage()">通灵</button>
                <button id="workButton" onclick="workPage()">打工</button>
            </div>
        </div>
    </div>
    <div class="core-area">
        <div class="advancement-container">
            <button id="advancement-learn" onclick="openAquireSkillAdvancementPanel()" class="advancement-series">领悟加成</button>
            <div id="fullscreenBtn" style="cursor: pointer;">参战宠物技能区域</div>
            <button id="advancement-apply" onclick="infoAdvancement()" class="advancement-series">领悟说明</button>
        </div>
        <div id="skill-advancement-panel" class="aquire-skill-advancement-panel" style="display: none;">
        <div class="drawer-toggle" onclick="openAquireSkillAdvancementPanel()">技能加成</div>
          <div style="padding: 10px;background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);background-repeat: repeat;background-size: auto;border: 1px solid black;">
          <div class="panel-top" style="overflow: hidden;display: flex;margin-bottom: 10px;flex-direction: row;justify-content: space-between;align-items: center;color: white;background: rgb(57, 87, 89);box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;">
            <div>亲密度: <span id="intimacy"></span></div>
            <div>集中值: <span id="attention"></span></div>
            <div>学习度: <span id="learning-value"></span></div>
          </div>
          <div class="panel-middle" style="display: flex;flex-direction: row;justify-content: space-between;">
            <div>技能点:<span id="skill-points"></span></div>
            <button id="aquire-skill-btn">领悟</button>
            <button id="reset-skill-btn">重置</button>
          </div>
          <div class="panel-bottom" id="applied-skills-list" style="height:200px;"></div>
          <div class="skill-detail-panel" id="advancement-detail-panel" style="overflow: hidden;margin-bottom: 0px;align-items: center;background: #e4bb5c;border: 1px solid #6f391c;border-radius: 2px;font-weight: bold;"></div>
        </div>
        </div>
        <div class="skills" id="skills-area"></div>
    </div>
    <div class="quality-drawer" id="quality-drawer">
        <div class="drawer-toggle" onclick="toggleDrawer()">宠物资质</div>
        
        <div class="quality-info" id="quality-info">
            <div class="drawer-container">
                <div id='top-bar-items-panel' class="top-bar">
                    <div>
                        <img src="https://pic.imgdb.cn/item/66541c01d9c307b7e9208aea.png" alt="高级悟性丹">
                        <div>悟性丹</div>
                        <div><span id="high-grade-pill">100</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/66541c01d9c307b7e9208add.png" alt="万化灵丹">
                        <div>万化灵丹</div>
                        <div><span id="transmutation-pill">20</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/6654a944d9c307b7e9ca6423.png" alt="神兽还童丹">
                        <div>还童丹</div>
                        <div><span id="reborn-pill">20</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/6655a92ad9c307b7e9c04265.png" alt="还童金丹">
                        <div>还童金丹</div>
                        <div><span id="golden-reborn-pill">5</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/665ef0855e6d1bfa055800f4.png" alt="冰魄还童丹">
                        <div>冰魄丹</div>
                        <div><span id="bingpo-reborn-pill">5</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/6654a944d9c307b7e9ca63f5.png" alt="资质重生丹">
                        <div>资质金丹</div>
                        <div><span id="quality-pill">20</span></div>
                    </div>
                    <div>
                        <img src="https://pic.imgdb.cn/item/66556068d9c307b7e9681672.png" alt="灵异金丹">
                        <div>灵异丹</div>
                        <div><span id="miraculous-pill">1</span></div>
                    </div>
                </div>
                <div class="quality-container">
                    <div class="quality-details">
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: flex-start;">名称: <span id="quality-name">小金牛</span></div>
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: center;">品质: <span id="quality-tier">普通</span></div>
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: flex-end;">成长: <span id="quality-growth-rate">100%</span></div>
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: flex-start;">变异: <span id="quality-mutated">未变异</span></div>
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: center;">进化: <span id="evolution-level">0</span>级</div>
                        <div style="display: flex;gap: 10px;flex-direction: row;align-items: center;width: 100%;justify-content: flex-end;">悟性: <span id="current-wisdom">0</span></div>
                    </div>
                </div>
                <div class="quality-bar-container">
                    <div class="progress-bar">
                        耐力: <span id="endurance-current">1100</span><span id="endurance-pill-bonus"></span> / <span id="endurance-max">2200</span>
                        <div id="endurance-bar" style="width: 50%;"></div>
                    </div>
                    <div id="quality-pill-num-1">0</div>
                    <img id="quality-pill-1" src="https://pic.imgdb.cn/item/66caa91ad9c307b7e97841c0.png" style="width:35px;height:35px;border:1px solid #92341c;" alt="Quality-Pill-1">
                </div>
                <div class="quality-bar-container">
                    <div class="progress-bar">
                        智力: <span id="intelligence-current">1150</span><span id="intelligence-pill-bonus"></span> / <span id="intelligence-max">2250</span>
                        <div id="intelligence-bar" style="width: 50%;"></div>
                    </div>
                    <div id="quality-pill-num-2">0</div>
                    <img id="quality-pill-2" src="https://pic.imgdb.cn/item/66caa91ad9c307b7e97841c0.png" style="width:35px;height:35px;border:1px solid #92341c;" alt="Quality-Pill-2">
                </div>
                <div class="quality-bar-container">
                    <div class="progress-bar">
                        强壮: <span id="strength-current">1150</span><span id="strength-pill-bonus"></span> / <span id="strength-max">2250</span>
                        <div id="strength-bar" style="width: 50%;"></div>
                    </div>
                    <div id="quality-pill-num-3">0</div>
                    <img id="quality-pill-3" src="https://pic.imgdb.cn/item/66caa91ad9c307b7e97841c0.png" style="width:35px;height:35px;border:1px solid #92341c;" alt="Quality-Pill-3">
                </div>
                <div class="quality-bar-container">
                    <div class="progress-bar">
                        敏捷: <span id="agility-current">1100</span><span id="agility-pill-bonus"></span> / <span id="agility-max">2200</span>
                        <div id="agility-bar" style="width: 50%;"></div>
                    </div>
                    <div id="quality-pill-num-4">0</div>
                    <img id="quality-pill-4" src="https://pic.imgdb.cn/item/66caa91ad9c307b7e97841c0.png" style="width:35px;height:35px;border:1px solid #92341c;" alt="Quality-Pill-4">
                </div>
                <div class="quality-bar-container">
                    <div class="progress-bar">
                        信仰: <span id="faith-current">1150</span><span id="faith-pill-bonus"></span> / <span id="faith-max">2250</span>
                        <div id="faith-bar" style="width: 50%;"></div>
                    </div>
                    <div id="quality-pill-num-5">0</div>
                    <img id="quality-pill-5" src="https://pic.imgdb.cn/item/66caa91ad9c307b7e97841c0.png" style="width:35px;height:35px;border:1px solid #92341c;" alt="Quality-Pill-5">
                </div>
                <div class="button-grid">
                    <button onclick="rebornPet()">普通还童</button>
                    <button onclick="trainQuality()">一键还童</button>
                    <button onclick="useGoldenRebornPill()">还童金丹</button>
                    <button onclick="useBingpoRebornPill()">冰魄还童</button>
                    <button onclick="mutatePet()">变异宠物</button>
                    <button onclick="enhanceQuality()">更新资质</button>
                    <button onclick="evolvePet()">进化宠物</button>
                    <button onclick="awakenPet()">觉醒宠物</button>
                    <button onclick="hallucinatePet()">幻化提升</button> 
                    <button onclick="jumpToAttribute()">查看属性</button>
                </div>
                <div id="message-box" class="message-box">
                    <span id="message-text"></span>
                    <button onclick="closeMessage()">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div class="attribute-drawer" id="attribute-drawer">
        <div class="drawer-toggle" onclick="toggleAttributeDrawer()">属性</div>
        <div class="attribute-info" id="attribute-info">
            <div class="drawer-container">
                <div class="drawer-sub-container">
                    <div class="attributes-container">
                        <div class="progress-bars">
                            <div class="progress-bar">
                                等级: <span id="pet-level">1</span><button onclick="absorbExperience()">+</button>
                            </div>
                            <div class="progress-bar">
                                品质: <span id="attribute-tier"></span><button onclick="infoPinzhi()">?</button>
                            </div>
                            <div class="progress-bar">
                                觉醒: <span id="awaken-status">未觉醒</span><button onclick="infoJuexing()">?</button>
                            </div>
                            <div class="progress-bar">
                                幻化: <span id="hallucination-level">0</span><button onclick="fastHallucinatePet()">+</button>
                            </div>
                            <div class="progress-bar">
                                成长率: <span id="attribute-growth-rate"></span><button onclick="infoChengzhanglv()">?</button>
                            </div>
                            <div class="progress-bar">
                                寿命: <span id="attribute-life-span"></span><button onclick="infoShouming()">?</button>
                            </div>
                            <div class="progress-bar">
                                潜力点: <span id="remaining-points-display"></span><button onclick="infoQianlidian()">?</button>
                            </div>
                            <div class="progress-bar">
                                耐力: <span id="attribute-endurance"></span><span id="bonusAttribute-endurance"></span><button class="increase-btn" onclick="increaseBonusAttribute('endurance')">+</button>
                            </div>
                            <div class="progress-bar">
                                智力: <span id="attribute-intelligence"></span><span id="bonusAttribute-intelligence"></span><button class="increase-btn" onclick="increaseBonusAttribute('intelligence')">+</button>
                            </div>
                            <div class="progress-bar">
                                强壮: <span id="attribute-strength"></span><span id="bonusAttribute-strength"></span><button class="increase-btn" onclick="increaseBonusAttribute('strength')">+</button>
                            </div>
                            <div class="progress-bar">
                                敏捷: <span id="attribute-agility"></span><span id="bonusAttribute-agility"></span><button class="increase-btn" onclick="increaseBonusAttribute('agility')">+</button>
                            </div>
                            <div class="progress-bar">
                                信仰: <span id="attribute-faith"></span><span id="bonusAttribute-faith"></span><button class="increase-btn" onclick="increaseBonusAttribute('faith')">+</button>
                            </div>
                        </div>
                        <div class="secondary-attributes">

                                <div class="progress-bar">
                                    <button onclick="infoAscend()">飞升</button><span id="ascension-status">未飞升</span><button onclick="ascend()">+</button>
                                </div>
                                <div class="progress-bar">
                                    <button onclick="infoSuit()">套装</button><span id="suit-bonus">无</span><button onclick="applySuitEffects()">+</button>
                                </div>
                                <div class="progress-bar">
                                    <button onclick="sellPet()">评分</button><span id="skill-score">0</span><button onclick="infoPingfen()">?</button>
                                </div>
                                <div class="progress-bar">
                                    <button onclick="infoXiuwei()">修为</button><span id="player-cultivation">0</span><button onclick="upgradePlayerCultivation()">+</button>
                                </div>
                                <div class="progress-bar">
                                    <button onclick="infoWuxing()">悟性</button><span id="attribute-wisdom"></span><button onclick="upgradeWisdom()">+</button>
                                </div>
                                <div id="secondary-attributes-panel" style="gap: 4px;display: flex;flex-direction: column;width: 100%;background: rgb(57, 87, 89);box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;color: #77CFBA;padding: 4px;cursor:pointer;">
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">生命值: <span style="color: white;width: 60px;text-align: center;" id="secondary-health"></span> <span id="secondary-health-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">法力值: <span style="color: white;width: 60px;text-align: center;" id="secondary-mana"></span> <span id="secondary-mana-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">物理攻: <span style="color: white;width: 60px;text-align: center;" id="secondary-physical-attack"></span> <span id="secondary-physical-attack-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">物理防: <span style="color: white;width: 60px;text-align: center;" id="secondary-physical-defense"></span> <span id="secondary-physical-defense-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">法术攻: <span style="color: white;width: 60px;text-align: center;" id="secondary-magic-attack"></span> <span id="secondary-magic-attack-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">法术防: <span style="color: white;width: 60px;text-align: center;" id="secondary-magic-defense"></span> <span id="secondary-magic-defense-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">速度值: <span style="color: white;width: 60px;text-align: center;" id="secondary-speed"></span> <span id="secondary-speed-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">暴击率: <span style="color: white;width: 60px;text-align: center;" id="secondary-player-crit-rate"></span> <span id="secondary-player-crit-rate-bonus"></span></div>
                                    <div style="display: flex;flex-direction: row;justify-content: space-between;gap: 5px;align-items: center;">爆伤值: <span style="color: white;width: 60px;text-align: center;" id="secondary-player-crit-damage"></span> <span id="secondary-player-crit-damage-bonus"></span></div>
                                </div>
                        </div>
                    </div>
                    <!--经验值显示条-->
                    <div style="margin-bottom: 5px; position: relative; width: 100%; min-height: 16px; background-color: rgba(20, 20, 35, 0.6);box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5); overflow: hidden;" id="attribute-exp-bar-container">
                        <!-- 经验条背景发光效果 -->
                        <div style="position: absolute; left: 0; top: 0; height: 100%; width: 100%; background: radial-gradient(ellipse at center, rgba(75, 0, 130, 0.2) 0%, rgba(0, 0, 0, 0) 70%); pointer-events: none;"></div>
                        
                        <!-- 经验条填充部分 -->
                        <div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 49.5192%; background: linear-gradient(90deg, rgba(118, 74, 241, 0.9), rgba(147, 112, 219, 0.9)); box-shadow: 0 0 10px rgba(147, 112, 219, 0.7);transition: width 0.3s ease-out;" id="attribute-exp-bar"></div>
                        
                        <!-- 经验条光晕效果 -->
                        <div style="position: absolute; left: 0; top: 0; height: 100%; width: 49.5192%; background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0) 100%); background-size: 200% 100%; animation: shine 2s infinite; pointer-events: none; " id="attribute-exp-shine"></div>
                        
                        <!-- 经验值文本 -->
                        <span style="position: absolute; top: 0; left: 0; right: 0; z-index: 1; font-size: 12px; font-weight: bold; color: white; text-align: center; line-height: 16px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.8);" id="attribute-exp-text"></span>
                    </div>
                    <!--经验值显示条-->
                    <div class='skills-in-drawer' id='skills-in-drawer'></div>
                    <!--内丹系统-->
                    <div class='elixir-system-panel' id='elixir-system'>
                        <div class='elixir-container' id='elixir-container'>
                            <div class='elixir-squares' id='1st-elixir-squares'></div>
                            <div class='elixir-squares' id='2nd-elixir-squares'></div>
                            <div class='elixir-squares' id='3rd-elixir-squares'></div>
                        </div>
                        <div class="elixir-system-button" id='elixir-button'>
                            <button onclick="equipElixir()" style="font-size: 12px;padding: 4px;">装备内丹</button>
                            <button onclick="disgorge()" style="font-size: 12px;padding: 4px;">吐出内丹</button>
                            <button onclick="engulf()" style="font-size: 12px;padding: 4px;">吞噬道具</button>
                            <button onclick="internalize()" style="font-size: 12px;padding: 4px;">消化内丹</button>
                            <button onclick="invigorate()" style="font-size: 12px;padding: 4px;">补充元气</button>
                            <button onclick="absorbExp()" style="font-size: 12px;padding: 4px;">吸收经验</button>
                            <button onclick="engulf(true)" style="font-size: 12px;padding: 4px;">内丹融合</button>
                            <button onclick="elixirCultivationBonus()" style="font-size: 12px;padding: 4px;">修为奖励</button>
                        </div>
                    </div>
                    <!--内丹系统-->
                </div>
                <div class="button-grid">
                    <button onclick="trainAttributes()">金子培养</button>
                    <button onclick="trainSkills()">洗练技能</button>
                    <button onclick="upgradeWisdomTo()">一键提悟</button>
                    <button onclick="useSupremeWisdomPill()">超级提悟</button>
                    <button onclick="openElixirPanel()">内丹面板</button>
                    <button onclick="transformPet()">属性专精</button>
                    <button id="petArms" onclick="handlePetArmsClick()">宠物武装</button>
                    <button onclick="petCollection()">宠物图鉴</button>
                    <button onclick="openWuxingDisplay()">五行面板</button>
                    <button onclick="jumpToQuality()">查看资质</button>
                </div>
            </div>
        </div>
    </div>
    <div class="shop-drawer" id="shop-drawer">
        <div class="drawer-toggle" onclick="toggleShop()">商店<span id="discount-detail"></span><span id="shop-timer">05:00</span></div>
        <div class="shop-info" id="shop-info">
            <div id="shop-info-container"style="max-height: 400px;overflow-y: scroll;margin-bottom: 20px;">
                <div class="shop-items" id="shop-items">
                    <!-- 商店商品展示区 -->
                </div>
            </div>
            <div id="shop-description" class="jinnang-description-box">点击可以查看其详情和描述，每个物品的售价因其稀有程度而有所不同。</div>
            <div class="shop-bar">
                <button onclick="buyItem()">购买道具</button>
                <button id="bless-gift-button" onclick="claimBlessGift()">新手礼包</button>
                <button onclick="openScalping()">倒买倒卖</button>
                <button onclick="openCreditShop()">积分商城</button>
                <button onclick="refreshShop()">刷新商品</button>
            </div>
        </div>
    </div>
    <div class="shop-drawer" id="credit-shop">
        <div class="drawer-toggle" onclick="openCreditShop()">积分商城</div>
            <div class="shop-info" id="credit-shop-info">
                <div id="shop-info-container"style="max-height: 400px;overflow-y: scroll;margin-bottom: 20px;">
                    <div class="shop-items" id="credit-shop-items">
                        <!-- 商店商品展示区 -->
                    </div>
                </div>
                <div id="credit-shop-description" class="jinnang-description-box">花费金子购买商城道具时会获得积分，积分可以购买某些道具。</div>
                <div class="shop-bar" style="justify-content:space-around;">
                    <button id="buy-credit-item" onClick="buyCreditItems()">购买商品</button>
                    <button id="exchange-credit" onClick="exchangeCredit()">兑换积分</button>
                    <div id="credit-box" style="background: #69482B;padding: 2px 2px;box-shadow: inset 0px 0px 2px 0px #69482B;border: 1px solid #6f391c;display: flex;align-items: center;"><div style="background: #B19768;padding: 2px;margin-right: 2px;color: white;box-shadow: inset 0px 0px 2px 1px #E3D8B9;text-shadow: -1px -1px 0 #693331, 1px -1px 0 #693331, -1px 1px 0 #693331, 1px 1px 0 #693331;font-size: 14px;">当前积分:</div><span id="credit-detail" style="color: white; background: rgb(57, 87, 89); box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset; padding: 2px; font-size: 14px;"></span></div>
                </div>
            </div>
    </div>
    <div class="scalping-display" id="scalping-display" style="display:none;">
        <div id="scalping-display-container" style="max-height: 768px;display: flex;flex-direction: column;align-items: center;justify-content: center;">
            <div id="scalping-head" class="drawer-toggle" style="font-weight:bold;padding:5px;width: 100%;height:20px;display: flex;flex-direction: row;justify-content: space-between;align-items: center;"><button id="scalping-description" class="scalping-head-button" onclick="showInfoScalping()" style="margin-left:5px;">?</button><div>自由经商（积分：<span id="scalping-score">0</span>）</div><button id="close-scalping-button" onclick="openScalping(true)" class="scalping-head-button" style="margin-right:5px">x</button></div>
            <div class="scalping-container" id="scalping-container" >
                <div style="width: 100%;display: flex;flex-direction: column;align-items: center;gap: 10px;margin-top: 5px;" id="scalping-upper-area">
                    <div class="scalping-top-bar" id="scalping-top-bar">
                        <div>📅 时间已过:</div>
                        <div>第<span id="current-selling-week">0</span>周/<span id="max-selling-week">52</span>周</div>
                        <div style="display: flex;flex-direction: column;font-size: 14px;">
                            <div>🏆 声望：<span id="player-reputation" style="cursor:pointer;">0</span></div>
                            <div style="cursor: pointer;">🏄‍♂️ 精力：<span id="player-energy">100</span></div>
                        </div>
                    </div>
                    <div class="scalping-asset-area" id="scalping-asset-area">
                        <div style="display: flex;flex-direction: column;gap: 5px;font-weight: bold;width: 40%;overflow: hidden;text-wrap: nowrap;font-size: 14px;">
                            <div>💵 现金：<span id="current-cash">0</span></div>
                            <div>🗃 资产：<span id="net-asset">0</span></div>
                        </div>
                        <div id="scalping-gadgets-container" style="font-size: 12px;font-weight: bold;">
                            <div style="margin-top: 5px;margin-bottom: 5px;display: flex;gap: 2px;flex-direction: row;align-items: center;">
                                <button id="add-scalping-gadgets" onclick="selectSaclpingGadgets()">使用法宝</button>
                                <div id="applied-scalping-gadgets" style="display: flex;gap: 2px;flex-direction: row;flex-wrap: nowrap;">
                                    <!-- 动态生成法宝 -->
                                </div>
                            </div>
                            <div id="gadgets-selector" class="select-gadgets" style="display:none;padding: 0px;">
                                <div id="gadgets-selector-head" class="drawer-toggle" style="font-weight:bold;width: 100%;height: 30px;display: flex;flex-direction: row;justify-content: space-between;align-items: center;font-size: 16px;padding: 0px;"><div>v1.1</div>经商法宝<button onclick="closeGagdetsPanel()">x</button></div>
                                <div style="display:flex;width: 95%;justify-content: center;align-items: center;font-size:16px;padding: 5px;flex-direction: row;gap: 20px;">
                                <p>选择并应用你的法宝</p>
                                <button id="exchange-gadgets" onclick="exchangeGadgets()">兑换法宝</button>
                                </div>
                                <div id="selected-gadgets" style="max-height: 480px;padding: 10px;overflow-y: scroll;display: grid;grid-template-columns: repeat(2,1fr);gap: 10px;background-color: rgba(0, 0, 0, 0.1);">
                                    <!-- 遍历法宝并在此处显示 -->
                                </div>
                            </div>
                            <div id="gadget-store-panel" class="select-gadgets" style="display:none;">
                                <div id="gadgets-store-head" class="drawer-toggle" style="font-weight:bold;padding:0px;width:100%;height:30px;display: flex;flex-direction: row;justify-content: space-between;align-items: center;font-size:16px;"><div>v1.1</div>兑换法宝<button id="close-gagdet-store">x</button></div>
                                <div style="display:flex;font-size: 16px;flex-direction: row;justify-content: center;align-items: center;width:100%;">
                                <p>你可以使用经商积分点击图标兑换法宝</p>
                                </div>
                                <div id="gadget-items" style="max-height: 480px;padding: 10px;overflow-y: scroll;display: grid;grid-template-columns: repeat(2,1fr);gap: 10px;background-color: rgba(0, 0, 0, 0.1);">
                                    <!-- 此处函数生成 -->
                                </div>
                            </div>
                        </div>
                        <div><button id="add-investment" onclick="increaseInverstment()">增加投资</button></div>
                    </div>
                    <div class="scalping-middle-wrap" id="scalping-middle-wrap">
                        <div class="scalping-detail-list" id="market-info">
                            <strong id="market-title" style="height: 30px;display: flex;align-items: center;">市场<button id="select-item-to-display" onclick="generateItemToDisplay()" style="margin-left:5px;font-weight: bolder;padding: 0px 2px;">＋</button></strong>
                            <div id="scalping-item-info-container" style="width: 100%;gap: 10px;display: flex;flex-direction: column;">
                                <div style="display: flex;width: 100%;flex-direction: row;justify-content: space-around;">
                                    <div id="market-item">货物</div>
                                    <div>价格</div>
                                </div>
                            <div id="scalping-item-info" style="padding: 5px;border-top: 2px solid #6f391c;background-image: url(https://pic.imgdb.cn/item/66da9042d9c307b7e9e14b2b.png);color: white;max-height: 300px;overflow-y: scroll;">
                                <!-- 动态生成商品 -->
                            </div>
                            </div>
                        </div>
                        <div class="scalping-warehouse" id="warehouse-info">
                            <strong style="height: 30px;display: flex;align-items: center;">仓库(<span id="used-warehouse-capacity">0</span>/<span id="max-warehouse-capacity">100</span>)<button id="enlarge-warehouse-button" style="margin-left:5px;font-weight: bolder;padding: 0px 2px;">＋</button></strong>
                            <div id="warehouse-item-info-container" style="width: 100%;gap: 10px;display: flex;flex-direction: column;">
                                <div style="display: flex;width: 100%;flex-direction: row;justify-content: space-around;">
                                    <div>货物</div>
                                    <div>均价</div>
                                    <div>数量</div>
                                </div>
                                <div id="warehouse-item-info" style="padding: 5px;border-top: 2px solid #6f391c;background-image: url(https://pic.imgdb.cn/item/66da9042d9c307b7e9e14b2b.png);color: white;max-height: 300px;overflow-y: scroll;">
                                    <!-- 动态生成仓库商品 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%;display: flex;flex-direction: column;align-items: center;align-content: space-between;flex-wrap: wrap;">
                    <div class="scalping-bottom-area" id="stock-area" style="border-radius: 5px;color: white;width: 95%;padding: 5px;">
                        <div style="display: flex;align-items: center;flex-direction: row;"><button id="open-stock-button" onclick="openStockPanel()">投资股票</button></div>
                        <div id="stock-info-display" style="display:flex;font-size: 14px;text-wrap: nowrap;overflow: hidden;background: rgb(57, 87, 89);box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;color: white;width: 75%;align-items: center;flex-direction: row;padding: 5px;justify-content: center;">当前没有投资任何股票</div>
                        <div class= "stock-panel" id="stock-panel" style="display:none">
                            <!-- 动态生成股票信息 -->
                        </div>
                    </div>
                    <div class="scalping-bottom-area" id="scalping-bottom-area">
                        <div><button id="quit-scalping" onclick="quitScalping()">提前退市</button></div>
                        <div><button id="relax-byweek" style="display: none">休息两周</button></div>
                        <div><button id="enter-next-week" onclick="refreshSaleWeek()">刷新一周</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="iframeContainer">
        <button id="openDivineZiwei" onclick="openDivineZiwei()" style="padding: 4px;position: absolute;z-index: 1000;right: 85%;top: 4%;border: none;background: transparent;border-radius: 5px;box-shadow: 0px 0px 5px 0 black;font-weight: bold;font-size: 16px;color:white;cursor: pointer;">紫薇</button>
        <button onclick="closeDivineShuixian()" style="padding: 10px;position: absolute;z-index: 1000;right: 4%;top: 3%;border: none;font-size: 24px;color: white;background: transparent;cursor: pointer;">X</button>
        <iframe id="iframe" style="z-index: 1;border: none;width: 100%;height: 100%;position: absolute;flex: 1;left: 50%;top: 50%;transform: translate(-50%, -50%);display: flex;flex-direction: row;justify-content: flex-end;background-color:rgb(0 0 0 / 40%);font-size: 16px;"></iframe>
    </div>
    <div class="treasure-drawer" id="treasure-drawer">
        <div class="drawer-toggle" onclick="toggleTreasureDrawer()">宝箱</div>
        <div class="treasure-info" id="treasure-info">
            <div class="treasure-bar">
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                        <img src="https://pic.imgdb.cn/item/66bf56dad9c307b7e9cc0f91.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('经验宝箱', this)" class="treasure-img">
                <div style="font-size: 14px;">经验宝箱</div>
            </div>
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <img src="https://pic.imgdb.cn/item/66bf56d9d9c307b7e9cc0f80.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('奇馈宝箱', this)" class="treasure-img">
                <div style="font-size: 14px;">奇馈宝箱</div>
            </div>
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <img src="https://pic.imgdb.cn/item/66bf56d9d9c307b7e9cc0f6c.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('灵魂宝箱', this)" class="treasure-img">
                <div style="font-size: 14px;">灵魂宝箱</div>
            </div>
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <img src="https://pic.imgdb.cn/item/66bf56d9d9c307b7e9cc0f5d.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('武神仙葫', this)" class="treasure-img">
                <div style="font-size: 14px;">武神仙葫</div>
            </div>
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <img src="https://pic.imgdb.cn/item/66c4cb80d9c307b7e92a8dd2.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('五行仙葫', this)" class="treasure-img">
                <div style="font-size: 14px;">五行仙葫</div>
            </div>
            <div style= "display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <img src="https://pic.imgdb.cn/item/66bf56d9d9c307b7e9cc0f3b.png" style="width:45px;height:45px;border: 1px solid black;" onclick="selectTreasure('至尊仙葫', this)" class="treasure-img">
                <div style="font-size: 14px;">至尊仙葫</div>
            </div>
            </div>
            <div id="treasure-reward" class="reward-box"></div>
            <div id="generalEffect" class="general-visual-effect"></div>
            <div id="treasure-description" class="treasure-description-box">连续开启宝箱无需点击“取出道具”，每次开启宝箱会自动帮你收集至背包。</div>
            <div class="treasure-action">
                <button onclick="openTreasure()">开启宝箱</button>
                <button onclick="openTenthTreasure()">十连开启</button>
                <button onclick="collectTreasure()">取出道具</button>
                <button onclick="getWishResult()">天赐祝福</button>
            </div>
        </div>
    </div>
    <div class="jinnang-drawer" id="jinnang-drawer">
        <div class="drawer-toggle" onclick="toggleJinnangDrawer()"><span id="jinnang-capacity">2000</span></div>
        <div class="jinnang-info" id="jinnang-info">
            <div id="jinnang-reward-container" style="min-height:100px; max-height:300px; overflow-y:scroll; margin-bottom:10px">
                <div class="jinnang-reward" id="jinnang-reward"></div>
            </div>
        </div>
        <div id="jinnang-description" class="jinnang-description-box">点击可以查看其描述或出售，每个物品的售价因其稀有程度而有所不同。</div>
        <div class="treasure-action">
            <button onclick="sellItem()">出售道具</button>
            <button onclick="useAssignedItem()">使用道具</button>
            <button onclick="useAllItems()">批量使用</button>
            <button onclick="deleteItems()">丢弃道具</button>
            <button onclick="enlargeCapacity();">背包扩容</button>
        </div>
    </div>

    <div class="lottery-drawer" id="lotteryDrawer">
        <div class="drawer-toggle" id="lottery-top-bar" onclick="toggleLotteryDrawer()">彩票铺子🌈</div>
        <!--div class="lottery-section lottery-top"-->
        <div class="attribute-info open" id="lottery-content-container">
            <div class="drawer-container" id="lottery-inpage-decorations">
                <div class="lottery-section lottery-top" id="lottery-top">
                    <div class="lottery-box" id="lotteryPrizePool" style="display:none;">奖池: 无上限奖池</div>
                    <div class="lottery-box" id="lotteryResultAmount">积累奖金: 0</div>
                    <div class="lottery-box" id="lotteryBetCount">投注数: 0</div>
                    <div class="lottery-box" id="lotteryBetAmount">投注金: 0</div>
                </div>
                <div class="lottery-section lottery-top" id="lottery-numbers">
                    <div class="lottery-number-box" id="lotteryDrawResults">开奖区: </div>
                    <div class="lottery-number-box" id="lastSelectedNumbers">买定区: </div>
                </div>
                <div class="lottery-section lottery-middle">

                    <div class="lottery-number-box" id="lotteryAvailableNumbers" style="display: flex;flex-direction: column;"> 
                        <div class="lottery-section lottery-bottom">
                            <div class="lottery-number-box" id="lotterySelectedNumbers">已选: </div>
                        </div>
                        <div id="lotteryNumberButtons"></div>
                    </div>
                    <div class="lottery-controls">
                        <button id="lotteryIncreaseBet100" style="background-color: #4ec149;color: white;border-radius: 50%;width: 50px;height: 50px;padding: 5px;box-shadow: 0px 0px 6px 1px rgba(0, 0, 0, 0.5);">+ 100</button>
                        <button id="lotteryIncreaseBet">+ 500</button>
                        <button id="lotteryBetButton">投注</button>
                        <button id="lotteryIncreaseThousandBet">+1000</button>
                        <button id="lotteryIncreaseBet5000" style="background-color: darkred;color: white;border-radius: 50%;width: 50px;height: 50px;padding: 5px;box-shadow: 0px 0px 6px 1px rgba(0, 0, 0, 0.5);">+ 5000</button>
                        <!-- 规则信息框 -->
                        <div id="lotteryRuleModal" class="modal">
                            <div class="modal-content">
                                <span class="close">&times;</span>
                                <div id="ruleContent"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lottery-section lottery-footer">
                    <button id="lotteryClaimPrize">领奖</button>
                    <button id="lotteryRuleButton">规则</button>
                    <button id="clearBet" onclick="clearBet()">赎回</button>
                </div>
            </div>
        </div>
    </div>
    <div id="fightingDrawer" class="battle-system-drawer">
        <div class="battle-system-content">
            <div id="battleOverlay" class="battleOverlay">
                <div class="battleOverlayContainer">
                    <img id="battleOverlayImage" src="" alt="Battle Animation" style="width: 100%; height: 100%; object-fit: contain;">
                </div>
            </div>
        <div class="battle-system-drawer-toggle" onclick="toggleFightingDrawer()">战斗</div>
            <div class="battle-system-info-wrapper">
                <div class="battle-system-pet-info">
                    <h2><span id="your-pet-name">小金牛</span> lv<span id="your-pet-level">1</span></h2>
                    <div style="display: flex;justify-content: center;position:relative;align-items: center;border-radius: 5px;padding: 2px;height: 60px;">
                        <div id='your-pet-color'><img id="your-pet-image" src="https://pic.imgdb.cn/item/66728efbd9c307b7e9576627.gif" alt="小金牛" style="width: 50px;height: 50px;box-shadow: black 0px 0px 2px 0px;cursor: pointer;"></div>
                        <div id="player-progress-container" style="display:flex;flex-direction:column;justify-content: flex-start;align-items: stretch;margin-left: 5px;width: 120px;height: 60px;z-index:1;">
                            <span style="margin-top:5px;" id="your-pet-health"></span><span id="your-pet-max-health"></span>
                            <span style="margin-top:5px;" id="your-pet-mana"></span><span id="your-pet-max-mana"></span>
                            <div style="margin-bottom: 5px;margin-top:5px;position: relative;width: 100%;min-height: 12px;background-color: #35472C;border: 1px solid black;overflow: hidden;" id="exp-bar-container">
                                <div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 49.5192%; background: linear-gradient(rgb(75, 0, 130), rgb(147, 112, 219), rgb(75, 0, 130));" id="exp-bar"></div>
                                <span style="position: absolute; top: 0; left: 0; right: 0; z-index: 1; font-size: 12px; font-weight: bold; color: white; text-align: center; line-height: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" id="exp-text"></span>
                            </div>
                        </div>
                    </div>
                    <div class="enemy-damage-display" id="enemy-damage-display"><span id="enemy-damage-value"></span></div>
                    <div class="enemy-extra-damage-display" id="enemy-extra-damage-display"><span id="enemy-extra-damage-value"></span></div>
                    <div id="player-status" class="status-display"></div>
                    <div id="visualEffectsContainer">
                        <div id="enemyEffect" class="visual-effect"></div>
                    </div>
                    <div style="line-height: 16px;display: flex;flex-direction: row;flex-wrap: nowrap;text-align: left;gap: 5px;text-wrap: nowrap;overflow-x: hidden;margin-bottom: 10px;background: rgb(57, 87, 89);box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;padding: 5px;">
                    <div style="width: 85px;">
                        <p>🗡物攻: <span id="your-pet-physical-attack"></span></p>
                        <p>🧙法攻: <span id="your-pet-magic-attack"></span></p>
                        <p>🥊暴击: <span id="player-crit-rate"></span></p>
                        <p>💨速度: <span id="your-pet-speed"></span></p>
                        <p>🪄修为: <span id="your-pet-cultivation"></span></p>
                    </div>
                    <div style="width: 85px;">
                        <p>🛡物防: <span id="your-pet-physical-defense"></span></p>
                        <p>💠法防: <span id="your-pet-magic-defense"></span></p>
                        <p>💥暴伤: <span id="player-crit-damage"></span></p>
                        <p>⭐️物闪: <span id="player-physical-dodge-rate"></span></p>
                        <p>🌟法闪: <span id="player-magic-dodge-rate"></span></p>
                    </div>
                    </div>
                </div>
                <div class="battle-system-enemy-info">
                    <h2><span id="enemy-name">邪佞</span> lv<span id="enemy-level">1</span></h2>
                    <div style="display: flex;justify-content: center;position:relative;align-items: center;border-radius: 5px;padding: 2px;height: 60px;">
                        <img id="enemy-image" onclick="autoBattle()" src="https://pic.imgdb.cn/item/6678135ed9c307b7e9060dd6.gif" alt="邪佞" style="width: 50px;height: 50px;box-shadow: black 0px 0px 2px 0px;cursor: pointer;">
                        <div id="enemy-progress-container" style="display:flex;flex-direction:column;justify-content: flex-start;align-items: stretch;margin-left: 5px;width: 120px;height: 60px;">
                            <span style="margin-top:5px;" id="enemy-pet-health"></span><span id="enemy-max-health"></span>
                            <span style="margin-top:5px;" id="enemy-pet-mana"></span><span id="enemy-max-mana"></span>
                            <div style="margin-bottom: 5px; margin-top:5px; position: relative; width: 100%; min-height: 12px; background-color: #35472C; border: 1px solid black;" id="enemy-speed-container">
                                <div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 0%; background: linear-gradient(rgb(249, 222, 155), rgb(246, 255, 0), rgb(249, 222, 155)); cursor: pointer;" id="enemy-speed-bar"></div>
                                <span style="position: absolute; top: 0; left: 0; right: 0; z-index: 1; font-size: 12px; font-weight: bold; color: white; text-align: center; line-height: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" id="speed-text"></span>
                            </div>
                        </div>
                    </div>
                    <div class="player-damage-display" id="player-damage-display"><span id="player-damage-value"></span></div>
                    <div class="player-extra-damage-display" id="player-extra-damage-display"><span id="player-extra-damage-value"></span></div>
                    <div id="enemy-status" class="status-display"></div>
                    <div id="visualEffectsContainer">
                        <div id="playerEffect" class="visual-effect"></div>
                    </div>
                    <div style="line-height: 16px;display: flex;flex-direction: row;flex-wrap: nowrap;text-align: left;gap: 5px;text-wrap: nowrap;overflow-x: hidden;margin-bottom: 10px;background: rgb(57, 87, 89);box-shadow: rgb(30, 46, 47) 0px 0px 5px 2px inset;padding: 5px;">
                    <div style="width: 85px;">
                        <p>🗡物攻: <span id="enemy-pet-physical-attack"></span></p>
                        <p>🧙法攻: <span id="enemy-pet-magic-attack"></span></p>
                        <p>🥊暴击: <span id="enemy-crit-rate"></span></p>
                        <p>💨速度: <span id="enemy-pet-speed"></span></p>
                        <p>🪄修为: <span id="enemy-pet-cultivation"></span></p>
                    </div>
                    <div style="width: 85px;">
                        <p>🛡物防: <span id="enemy-pet-physical-defense"></span></p>
                        <p>💠法防: <span id="enemy-pet-magic-defense"></span></p>
                        <p>💥暴伤: <span id="enemy-crit-damage"></span></p>
                        <p>⭐️物闪: <span id="enemy-physical-dodge-rate"></span></p>
                        <p>🌟法闪: <span id="enemy-magic-dodge-rate"></span></p>
                    </div>
                    </div>
                </div>
            </div>
            <!-- 战斗精灵弹出界面 -->
            <div id="battle-spirit-modal" style="display: none;">
                <div>
                    <h2>🧚‍♀️战斗精灵（已觉醒）</h2>
                    <div id="message-container" style="display: none;"></div>
                    <p>等级: <span id="spirit-level">1</span></p>
                    <p>增幅: <span id="spirit-multiplier">100%</span>（1%~415%）</p>
                    <p>HP增加: <span id="spirit-health">0</span></p>
                    <p>MP增加: <span id="spirit-mana">0</span></p>
                    <p>物攻增加: <span id="spirit-physical-attack">0</span></p>
                    <p>物防增加: <span id="spirit-physical-defense">0</span></p>
                    <p>法攻增加: <span id="spirit-magic-attack">0</span></p>
                    <p>法防增加: <span id="spirit-magic-defense">0</span></p>
                    <p>速度增加: <span id="spirit-speed">0</span></p>
                    <div id="spirit-actions" style="display: flex; flex-direction:row; justify-content:space-between;">
                    <button id="level-up-spirit">升级精灵</button>
                    <button id="enhance-spirit">增幅洗练</button>
                    <button id="auto-level-up-spirit">一键升级</button>
                    <button id="close-spirit-modal">关闭面板</button>    
                    </div>
                </div>
            </div>            
            <!-- 飞升之术面板 -->
            <div id="ascension-skill-modal" class="ascension-skill-modal modal">
                <div class="ascension-modal-content modal-content">
                    <span id="close-ascension-modal" class="ascension-close close">&times;</span>
                    <div class="ascension-header">
                        <img id="ascension-icon" src="https://pic.imgdb.cn/item/666aa7b6d9c307b7e9495e97.png" alt="Ascension Skill Icon" class="ascension-icon">
                        <div class="ascension-info">
                            <p id="ascension-name" class="ascension-name">飞升之术名字</p>
                            <p id="ascension-level" class="ascension-level">等级: 1</p>
                        </div>
                    </div>
                    <div class="ascension-body">
                        <p id="ascension-effect" class="ascension-effect">飞升之术的增益效果信息</p>
                    </div>
                    <div class="ascension-footer">
                        <button id="enable-ascension" class="ascension-button">开启增益</button>
                        <button id="refresh-ascension" class="ascension-button">刷新技能</button>
                        <button id="level-up-ascension" class="ascension-button">提升技能</button>
                        <button id="reenable-ascension" class="ascension-button">再次开启</button>
                    </div>
                    <!-- 第二个飞升技能面板，默认隐藏 -->
                    <div id="second-ascension-skill" class="ascension-second-skill" style="display: none;">
                        <div class="ascension-header">
                            <img id="second-ascension-icon" src="https://pic.imgdb.cn/item/66726727d9c307b7e9118748.png" alt="Ascension Skill Icon" class="ascension-icon">
                            <div class="ascension-info">
                                <p id="second-ascension-name" class="ascension-name">飞升之术名字</p>
                                <p id="second-ascension-level" class="ascension-level">等级: 1</p>
                            </div>
                        </div>
                        <div class="ascension-body">
                            <p id="second-ascension-effect" class="ascension-effect">飞升之术的增益效果信息</p>
                        </div>
                        <div class="ascension-footer">
                            <button id="refresh-second-ascension" class="ascension-button">刷新技能</button>
                            <button id="level-up-second-ascension" class="ascension-button">提升技能</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 使用药品面板 -->
            <div id="drug-modal" class="drug-modal modal">
                <div class="modal-content">
                    <div class = "drug-grid-container" id="drug-grid-container" style="height: 280px;overflow-y: scroll;margin-top: 10px;">
                        <div class="drug-grid" id="drug-grid">
                            <!-- 药品项会通过JavaScript动态生成 -->
                        </div>
                    </div>
                    <div class="drug-description" id="drug-description">
                        本游戏药品系统丰富，战斗胜利后会随机掉落各类药品，合理分配使用会带来奇效！
                    </div>
                    <div id="drug-button-container" style="width: 100%; display: flex; justify-content: space-between; max-height: 100px;">
                        <button class="use-button" onclick="useSelectedDrug()">使用</button>
                        <button class="use-button" onclick="mergeDrug()">合成</button>
                        <button class="use-button" onclick="collectDrug()">采集</button>
                        <button class="use-button" onclick="closeDrugModal()">关闭</button>
                    </div>
                </div>
            </div>
            <div class="battle-pet-selector"><select id="battle-pet-select" onchange="changeBattlePet()"><option value="xiaojin"></option></select></div>
            <div class="battle-system-log">
                <h2 id="battle-log-head" style="cursor:pointer;margin:0;">战斗记录（第<span id="battleRounds"></span>轮）</h2>
                <div id="log"></div>
            </div>
            <div class="button-grid button" style="grid-template-columns: repeat(6, 1fr);padding: 2px;gap: 10px;">
                <button onclick="performAttack('physical')">物攻</button>
                <button onclick="performDefense()">格挡</button>
                <button onclick="performHeal()">治疗</button>
                <button onclick="performPoison()">施毒</button>
                <button onclick="performTrumpCard()">绝技</button>
                <button onclick="performAttack('magical')">法攻</button>
                <button id="battle-spirit-button">精灵</button>
                <button id="ascension-skill-button" class="ascension-button">飞升</button>
                <button onclick="divinedWeapon()">神器</button>
                <button onclick="levelUpSkill()">技能</button>
                <button onclick="enemyInfo()">自动</button>
                <button onclick="useDrug()">药品</button>
            </div>            
        </div>
    </div>
    <div id="missionPanel" class="general-window-background" style="display:none;">
        <div class="drawer-toggle">任务</div>
        <div id="mission-container" style="padding: 4px;border-radius: 2px;background-color: #DFBF6E;color: #92341c;background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);background-repeat: repeat;background-size: auto;border: 1px solid black;">
            <h3>任务面板</h3>
            <ul id="taskList">
                <!-- 任务列表 -->
            </ul>
            <div class="treasure-action button">
                <button id="closeMissionPanel" style="margin-top: 20%;position: relative;">关闭窗口</button>
            </div>
        </div>
    </div>
    <div id="summonPanel" class="general-window-background" style="display:none;">
        <div class="drawer-toggle">召唤</div>
        <div id="summon-container" style="padding: 4px;border-radius: 2px;background-color: #DFBF6E;color: #92341c;background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);background-repeat: repeat;background-size: auto;border: 1px solid black;">
            <h3>召唤面板</h3>
            <div id="summonArea" style="height: 240px;display: flex;align-items: center;justify-content: space-around;padding: 10px;background-color: rgba(0, 0, 0, 0.8);margin-bottom: 20px;margin-top: 20px;flex-direction: column;background-image: url(https://pic.imgdb.cn/item/66c043bfd9c307b7e9dccda0.png);background-size: cover;">
                <!-- 召唤区域 -->
            </div>
            <div class="treasure-action">
                <button id="summonExecuteButton" class="treasure-action button">召唤</button>
                <button id="claimButton" class="treasure-action button">领取</button>
                <button id="exchangeButton" class="treasure-action button">兑换</button>
                <button id="openPetShopButton" class="treasure-action button">商店</button>
                <button id="closeSummonPanel" class="treasure-action button">关闭</button>
            </div>
        </div>
    </div>
    <div id="petShop" class="general-window-background" style="display:none;">
        <div class="drawer-toggle">宠物商店</div>
        <div id="pet-shop-container" style="padding: 4px;border-radius: 2px;background-color: #DFBF6E;color: #92341c;background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);background-repeat: repeat;background-size: auto;border: 1px solid black;">
            <h3>宠物商店（可下划）当前印花: <span id="currentStampCount">1000</span></h3>
            <div id="petShopItemsContainer" style="max-height:300px; overflow-y:scroll">
                <div id="shopItems"  style="display: grid;grid-template-columns: repeat(2, 1fr);gap: 2px 2px;justify-content: center;margin-top: 5px;font-size: 12px;justify-items: stretch;align-items: center;">
                    <!-- 商店物品列表 -->
                </div>
            </div>
            <div class="treasure-action">
                <button id="buySummonCharmButton" class="treasure-action button">购买灵符</button>
                <button id="exchangeStampButton" onclick="exchangeStamp()" class="treasure-action button">兑换印花</button>
                <button id="closePetShop" class="treasure-action button">关闭商店</button>
            </div>
        </div>
    </div>
    <div class="bottom-bar">
        <div class="pet-image" onclick="showBiography()">
            <img style="width: 180px;height: 180px;" id="pet-image" src="https://pic.imgdb.cn/item/66728efbd9c307b7e9576627.gif" alt="小金牛">
        </div>
        <div class="info" style="display: flex;flex-direction: column;">
            <div id="gold-container" onclick="exchangeGoldBlock()" style="background: #69482B;padding: 2px 2px;box-shadow: inset 0px 0px 2px 0px #69482B;border: 1px solid #6f391c;cursor: pointer;">
                <div style="background: #B19768;padding: 2px;margin-right: 2px;color: white;box-shadow: inset 0px 0px 2px 1px #E3D8B9;text-shadow: -1px -1px 0 #693331, 1px -1px 0 #693331, -1px 1px 0 #693331, 1px 1px 0 #693331;font-size: 14px;">金子: </div>
                <span id="gold-amount">50000</span>
            </div> 
            <div>宠物： 
                <div class="pet-selector">
                    <select id="pet-select" onchange="changePet()">
                        <option value="xiaojin">小金牛</option>
                        <!-- 其他宠物 -->
                    </select>
                </div>
            </div>
            <div style="cursor:pointer;">名字： <span id='personalized-name'>小金牛</span></div>
            <div>当前称号： <span id="personal-honor">初来乍到</span></div>
            <div>游戏版本： <span id="game-version">V2.1.2</span></div>
            <div id="loadContainer" style="display:flex; justify-content: space-around; width: 100%;">
                <button class="saveAndLoadGameState" onclick="saveGameState()">存档</button>
                <button class="saveAndLoadGameState" onclick="loadGameState()">读档</button>
                <button class="saveAndLoadGameState" onclick="deleteAllPetData()">删档</button>
            </div>
        </div>
    </div>    
    <div class="description-box" id="description-box"></div>
    <div id="inlayGemUI" style="z-index: 9999;text-align: center;display: none;position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);width: 360px;border-radius: 2px;color: rgb(146, 52, 28);background: rgb(176, 118, 56);padding: 2px;box-shadow: rgb(146, 52, 28) 0px 0px 3px 1px inset;border: 1px solid black;">
        <button onclick="closeInlayGemDisplay()" id="closeBtn" style="display: flex;gap: 5px;align-items: center;justify-content: center;padding: 2px;text-align: center;background-image: url(https://pic.imgdb.cn/item/66bf32d9d9c307b7e9995d58.png);background-repeat: repeat;background-size: contain;color: rgb(227, 167, 59);cursor: pointer;box-shadow: rgb(227, 167, 59) 0px 1px 2px 0px inset;border: 1px solid black;position: relative;font-size: 14px;width:100%;font-family: 'Noto Serif SC', sans-serif;">武装详情</button>
        <div id="gem-container" style="font-size: 14px;display: flex;flex-direction: column;background-color: rgb(223, 191, 110);box-shadow: rgb(111, 57, 28) 0px 0px 0px 1px inset;color: black;background-image: url(https://pic.imgdb.cn/item/663885620ea9cb14033e4f6e.png);background-repeat: repeat;background-size: auto;height: 100%;overflow-y: auto;padding: 2px;">
            <!-- 装备图标和星级 -->
            <div style="text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;border-bottom: 2px dotted #ccc;">
                <img id="zhuang-bei" src="https://pic.imgdb.cn/item/666f194dd9c307b7e907bf7b.png" alt="装备图标" style="width: 45px;height: 45px;border: 1px solid #000;margin-bottom: 10px;margin-top: 10px;">
            </div>
            <div id="bottom-detail-container" style="display: flex;flex-direction: column;background-image: url(https://pic.imgdb.cn/item/66da9042d9c307b7e9e14b2b.png);background-repeat: repeat;background-size: auto;height: 100%;color: white;">
                <!-- 基础属性 -->
                <div style="display: flex;justify-content: center;align-items: flex-start;padding: 5px;flex-direction: column;margin-left: 10px;">
                    <span id="arm-name" style="color: orange;font-weight: bold;"></span>
                    <div style="display:flex; flex-direction:row; justify-content: space-between;">
                        <span id="starLevel" style="font-size: 18px;text-shadow: 1px 0px 2px #6f391c;"></span>
                        <button id="upgradeStarBtn" style="border: 1px solid rgb(111, 57, 28);background: linear-gradient(rgb(228, 127, 71), rgb(206, 102, 51), rgb(150, 61, 28));box-shadow: rgb(135, 67, 31) 0px 0px 2px 1px inset;font-size: 12px;border-radius: 5px;color: rgb(249, 222, 155);padding: 2px 10px;cursor: pointer;margin: 2px;transition: transform 0.1s, box-shadow 0.1s;">升星</button>
                    </div>
                </div>
                <div style="display: flex;align-items: center;justify-content: center;border-bottom: 2px dotted #ccc;padding: 2px 20px;flex-direction: column;gap: 2px;">
                    <div style="display: flex;justify-content: flex-start;width: 100%;"><strong>装备部位:</strong><span id="arm-type-display" style="margin-left: 10px;"></span></div>
                    <div style="display: flex;justify-content: flex-start;width: 100%;"><strong>耐久度:</strong><span id="endurance-display" style="margin-left: 10px;"></span>/500</div>
                    <div style="display: flex;justify-content: flex-start;width: 100%;gap: 10px;">
                        <strong>基础属性：</strong>
                        <div id="baseAttribute">+ 12353 物理防御</div>
                    </div>
                    <div style="display: flex;width: 100%;align-items: flex-start;flex-direction: column;color: yellow;">
                        <strong>通灵属性：</strong>
                        <div id="divined-attribute" style="font-size: 12px;display: flex;flex-direction: row;align-items: center;width:100%;">无<button onClick="refreshDivinedAttributes()" style="border: 1px solid rgb(111, 57, 28);background: linear-gradient(rgb(228, 127, 71), rgb(206, 102, 51), rgb(150, 61, 28));box-shadow: rgb(135, 67, 31) 0px 0px 2px 1px inset;font-size: 12px;border-radius: 5px;color: rgb(249, 222, 155);padding: 2px 10px;cursor: pointer;margin: 2px;transition: transform 0.1s, box-shadow 0.1s;width:20%;margin-left:10px;">通灵</button></div>
                    </div>
                </div>
                <!-- 宝石孔显示 -->
                <div>
                    <div id="gemSlots" style="display: flex;flex-direction: column;align-items: flex-start;padding: 0px 20px;margin-top: 5px;">
                        <div style="margin-bottom: 5px;"><span id="slot1" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot2" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot3" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot4" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot5" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot6" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot7" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot8" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot9" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot10" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot11" class="slot" style="cursor: pointer;">〇 空</span></div>
                        <div style="margin-bottom: 5px; display: none;"><span id="slot12" class="slot" style="cursor: pointer;">〇 空</span></div>
                    </div>
                    <div id="button-detail" style="display: flex;flex-direction: row;justify-content: flex-start;align-items: center;margin-left: 20px;gap: 10px;">
                        <strong id="gem-slots-number"></strong>
                        <button id="punchHoleBtn" style="border: 1px solid rgb(111, 57, 28);background: linear-gradient(rgb(228, 127, 71), rgb(206, 102, 51), rgb(150, 61, 28));box-shadow: rgb(135, 67, 31) 0px 0px 2px 1px inset;font-size: 12px;border-radius: 5px;color: rgb(249, 222, 155);padding: 2px 10px;cursor: pointer;margin: 2px;transition: transform 0.1s, box-shadow 0.1s;">打孔</button>
                        <button id="refreshSlotsBtn" style="border: 1px solid rgb(111, 57, 28);background: linear-gradient(rgb(228, 127, 71), rgb(206, 102, 51), rgb(150, 61, 28));box-shadow: rgb(135, 67, 31) 0px 0px 2px 1px inset;font-size: 12px;border-radius: 5px;color: rgb(249, 222, 155);padding: 2px 10px;cursor: pointer;margin: 2px;transition: transform 0.1s, box-shadow 0.1s;">刷新</button>
                    </div>
                </div>
    
                <!-- 镶嵌宝石操作 -->
                <div id='bottom-detail-second-container'style="border-top: 2px dotted #ccc;display: flex;align-items: center;">
                    <p id="arm-description" style="margin-left: 10px;text-align: left;"></p>
                </div>
            </div> <!-- 闭合 bottom-detail-container -->
        </div>
    </div>
    <script src="main.js"></script>
</body>
</html>
